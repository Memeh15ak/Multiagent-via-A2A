2025-06-02 14:11:09.621 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-02 14:14:50.442 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-02 14:14:50.442 | INFO     | __main__:main:16 - Starting Multi-Agent System Server on 127.0.0.1:8000
2025-06-02 14:14:50.442 | INFO     | __main__:main:17 - WebSocket Server will run on ws://127.0.0.1:8001/ws
2025-06-02 14:14:50.492 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-02 14:14:50.492 | INFO     | server.orchestrator:initialize:34 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-02 14:14:50.969 | ERROR    | protocols.a2a_protocol:discover_agent_card:35 - An unexpected error occurred during agent discovery at http://127.0.0.1:5001/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-02 14:14:50.969 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for weather_agent at http://127.0.0.1:5001/a2a. It might not be running.
2025-06-02 14:14:51.323 | ERROR    | protocols.a2a_protocol:discover_agent_card:35 - An unexpected error occurred during agent discovery at http://127.0.0.1:5002/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-02 14:14:51.325 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5002/a2a. It might not be running.
2025-06-02 14:14:51.575 | ERROR    | protocols.a2a_protocol:discover_agent_card:35 - An unexpected error occurred during agent discovery at http://127.0.0.1:5003/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-02 14:14:51.575 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for news_agent at http://127.0.0.1:5003/a2a. It might not be running.
2025-06-02 14:14:51.583 | INFO     | server.orchestrator:initialize:62 - Loaded 0 ADK tools from A2A agent configurations.
2025-06-02 14:19:22.818 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-02 14:19:22.818 | INFO     | __main__:main:16 - Starting Multi-Agent System Server on 127.0.0.1:8000
2025-06-02 14:19:22.822 | INFO     | __main__:main:17 - WebSocket Server will run on ws://127.0.0.1:8001/ws
2025-06-02 14:19:22.867 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-02 14:19:22.867 | INFO     | server.orchestrator:initialize:34 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-02 14:19:22.925 | ERROR    | protocols.a2a_protocol:discover_agent_card:35 - An unexpected error occurred during agent discovery at http://127.0.0.1:5001/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-02 14:19:22.934 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for weather_agent at http://127.0.0.1:5001/a2a. It might not be running.
2025-06-02 14:19:22.967 | ERROR    | protocols.a2a_protocol:discover_agent_card:35 - An unexpected error occurred during agent discovery at http://127.0.0.1:5002/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-02 14:19:22.967 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5002/a2a. It might not be running.
2025-06-02 14:19:22.992 | ERROR    | protocols.a2a_protocol:discover_agent_card:35 - An unexpected error occurred during agent discovery at http://127.0.0.1:5003/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-02 14:19:22.999 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for news_agent at http://127.0.0.1:5003/a2a. It might not be running.
2025-06-02 14:19:22.999 | INFO     | server.orchestrator:initialize:62 - Loaded 0 ADK tools from A2A agent configurations.
2025-06-02 14:23:17.886 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-02 14:23:17.886 | INFO     | __main__:main:16 - Starting Multi-Agent System Server on 127.0.0.1:8000
2025-06-02 14:23:17.886 | INFO     | __main__:main:17 - WebSocket Server will run on ws://127.0.0.1:8001/ws
2025-06-02 14:23:17.927 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-02 14:23:17.927 | INFO     | server.orchestrator:initialize:34 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-02 14:23:17.959 | ERROR    | protocols.a2a_protocol:discover_agent_card:35 - An unexpected error occurred during agent discovery at http://127.0.0.1:5001/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-02 14:23:17.959 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for weather_agent at http://127.0.0.1:5001/a2a. It might not be running.
2025-06-02 14:23:18.008 | ERROR    | protocols.a2a_protocol:discover_agent_card:35 - An unexpected error occurred during agent discovery at http://127.0.0.1:5002/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-02 14:23:18.008 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5002/a2a. It might not be running.
2025-06-02 14:23:18.027 | ERROR    | protocols.a2a_protocol:discover_agent_card:35 - An unexpected error occurred during agent discovery at http://127.0.0.1:5003/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-02 14:23:18.027 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for news_agent at http://127.0.0.1:5003/a2a. It might not be running.
2025-06-02 14:23:18.027 | INFO     | server.orchestrator:initialize:62 - Loaded 0 ADK tools from A2A agent configurations.
2025-06-02 14:24:17.422 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-02 14:24:17.424 | INFO     | __main__:main:16 - Starting Multi-Agent System Server on 127.0.0.1:8000
2025-06-02 14:24:17.426 | INFO     | __main__:main:17 - WebSocket Server will run on ws://127.0.0.1:8001/ws
2025-06-02 14:24:17.472 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-02 14:24:17.472 | INFO     | server.orchestrator:initialize:34 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-02 14:24:17.490 | ERROR    | protocols.a2a_protocol:discover_agent_card:35 - An unexpected error occurred during agent discovery at http://127.0.0.1:5001/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-02 14:24:17.491 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for weather_agent at http://127.0.0.1:5001/a2a. It might not be running.
2025-06-02 14:24:17.500 | ERROR    | protocols.a2a_protocol:discover_agent_card:35 - An unexpected error occurred during agent discovery at http://127.0.0.1:5002/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-02 14:24:17.504 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5002/a2a. It might not be running.
2025-06-02 14:24:17.519 | ERROR    | protocols.a2a_protocol:discover_agent_card:35 - An unexpected error occurred during agent discovery at http://127.0.0.1:5003/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-02 14:24:17.520 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for news_agent at http://127.0.0.1:5003/a2a. It might not be running.
2025-06-02 14:24:17.521 | INFO     | server.orchestrator:initialize:62 - Loaded 0 ADK tools from A2A agent configurations.
2025-06-02 14:24:17.521 | INFO     | server.orchestrator:initialize:92 - OrchestratorAgent fully initialized and ready.
2025-06-02 14:24:17.521 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-02 14:24:17.521 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-02 14:24:17.523 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-02 14:24:17.523 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-02 14:24:17.523 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-02 14:24:17.523 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-02 14:24:17.523 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-02 14:25:43.222 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-02 14:25:43.960 | INFO     | client.connection_manager:__init__:17 - Client ConnectionManager initialized for ws://127.0.0.1:8001/ws
2025-06-02 14:25:43.960 | INFO     | client.agent_client:__init__:21 - AgentClient initialized. API: http://127.0.0.1:8000/api/v1, WS: ws://127.0.0.1:8001/ws
2025-06-02 14:28:03.082 | INFO     | server.agent_server:lifespan:50 - Agent Server shutting down...
2025-06-02 14:28:03.090 | INFO     | server.websocket_handler:disconnect_all:61 - All WebSocket connections disconnected.
2025-06-02 14:28:03.090 | INFO     | server.orchestrator:shutdown:95 - Shutting down OrchestratorAgent...
2025-06-02 14:28:03.093 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-02 14:28:03.093 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-02 14:28:03.102 | INFO     | server.agent_server:lifespan:57 - Agent Server shutdown complete.
2025-06-02 14:28:29.398 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-02 14:28:29.398 | INFO     | __main__:main:16 - Starting Multi-Agent System Server on 127.0.0.1:8000
2025-06-02 14:28:29.406 | INFO     | __main__:main:17 - WebSocket Server will run on ws://127.0.0.1:8001/ws
2025-06-02 14:28:29.457 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-02 14:28:29.457 | INFO     | server.orchestrator:initialize:34 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-02 14:28:29.478 | ERROR    | protocols.a2a_protocol:discover_agent_card:35 - An unexpected error occurred during agent discovery at http://127.0.0.1:5001/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-02 14:28:29.478 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for weather_agent at http://127.0.0.1:5001/a2a. It might not be running.
2025-06-02 14:28:29.480 | ERROR    | protocols.a2a_protocol:discover_agent_card:35 - An unexpected error occurred during agent discovery at http://127.0.0.1:5002/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-02 14:28:29.487 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5002/a2a. It might not be running.
2025-06-02 14:28:29.489 | ERROR    | protocols.a2a_protocol:discover_agent_card:35 - An unexpected error occurred during agent discovery at http://127.0.0.1:5003/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-02 14:28:29.489 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for news_agent at http://127.0.0.1:5003/a2a. It might not be running.
2025-06-02 14:28:29.489 | INFO     | server.orchestrator:initialize:62 - Loaded 0 ADK tools from A2A agent configurations.
2025-06-02 14:28:29.496 | INFO     | server.orchestrator:initialize:92 - OrchestratorAgent fully initialized and ready.
2025-06-02 14:28:29.496 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-02 14:28:29.496 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-02 14:28:29.499 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-02 14:28:29.499 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-02 14:28:29.499 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-02 14:28:29.499 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-02 14:28:29.499 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-02 14:28:36.927 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-02 14:28:37.616 | INFO     | client.connection_manager:__init__:17 - Client ConnectionManager initialized for ws://127.0.0.1:8001/ws
2025-06-02 14:28:37.616 | INFO     | client.agent_client:__init__:21 - AgentClient initialized. API: http://127.0.0.1:8000/api/v1, WS: ws://127.0.0.1:8001/ws
2025-06-02 22:29:23.147 | INFO     | server.agent_server:lifespan:50 - Agent Server shutting down...
2025-06-02 22:29:23.158 | INFO     | server.websocket_handler:disconnect_all:61 - All WebSocket connections disconnected.
2025-06-02 22:29:23.160 | INFO     | server.orchestrator:shutdown:95 - Shutting down OrchestratorAgent...
2025-06-02 22:29:23.169 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-02 22:29:23.170 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-02 22:29:23.172 | INFO     | server.agent_server:lifespan:57 - Agent Server shutdown complete.
2025-06-02 22:29:47.000 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-02 22:29:47.000 | INFO     | __main__:main:16 - Starting Multi-Agent System Server on 127.0.0.1:8000
2025-06-02 22:29:47.010 | INFO     | __main__:main:17 - WebSocket Server will run on ws://127.0.0.1:8001/ws
2025-06-02 22:29:47.054 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-02 22:29:47.054 | INFO     | server.orchestrator:initialize:34 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-02 22:29:47.104 | ERROR    | protocols.a2a_protocol:discover_agent_card:36 - An unexpected error occurred during agent discovery at http://127.0.0.1:5001/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-02 22:29:47.104 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for weather_agent at http://127.0.0.1:5001/a2a. It might not be running.
2025-06-02 22:29:47.115 | ERROR    | protocols.a2a_protocol:discover_agent_card:36 - An unexpected error occurred during agent discovery at http://127.0.0.1:5002/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-02 22:29:47.115 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5002/a2a. It might not be running.
2025-06-02 22:29:47.122 | ERROR    | protocols.a2a_protocol:discover_agent_card:36 - An unexpected error occurred during agent discovery at http://127.0.0.1:5003/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-02 22:29:47.123 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for news_agent at http://127.0.0.1:5003/a2a. It might not be running.
2025-06-02 22:29:47.123 | INFO     | server.orchestrator:initialize:62 - Loaded 0 ADK tools from A2A agent configurations.
2025-06-02 22:29:47.123 | INFO     | server.orchestrator:initialize:92 - OrchestratorAgent fully initialized and ready.
2025-06-02 22:29:47.123 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-02 22:29:47.123 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-02 22:29:47.123 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-02 22:29:47.123 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-02 22:29:47.123 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-02 22:29:47.123 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-02 22:29:47.123 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-02 22:30:20.649 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-02 22:30:21.072 | INFO     | client.connection_manager:__init__:17 - Client ConnectionManager initialized for ws://127.0.0.1:8001/ws
2025-06-02 22:30:21.072 | INFO     | client.agent_client:__init__:21 - AgentClient initialized. API: http://127.0.0.1:8000/api/v1, WS: ws://127.0.0.1:8001/ws
2025-06-02 22:54:54.338 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-02 22:54:55.337 | INFO     | client.connection_manager:__init__:17 - Client ConnectionManager initialized for ws://127.0.0.1:5002/ws
2025-06-02 22:54:55.339 | INFO     | client.agent_client:__init__:21 - AgentClient initialized. API: http://127.0.0.1:5001/api/v1, WS: ws://127.0.0.1:5002/ws
2025-06-03 08:58:06.510 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 08:58:06.512 | INFO     | __main__:main:16 - Starting Multi-Agent System Server on 127.0.0.1:5001
2025-06-03 08:58:06.512 | INFO     | __main__:main:17 - WebSocket Server will run on ws://127.0.0.1:5002/ws
2025-06-03 08:58:06.559 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-03 08:58:06.560 | INFO     | server.orchestrator:initialize:34 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-03 08:58:06.597 | ERROR    | protocols.a2a_protocol:discover_agent_card:36 - An unexpected error occurred during agent discovery at http://127.0.0.1:5001/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-03 08:58:06.597 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for weather_agent at http://127.0.0.1:5001/a2a. It might not be running.
2025-06-03 08:58:06.605 | ERROR    | protocols.a2a_protocol:discover_agent_card:36 - An unexpected error occurred during agent discovery at http://127.0.0.1:5002/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-03 08:58:06.606 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5002/a2a. It might not be running.
2025-06-03 08:58:06.614 | ERROR    | protocols.a2a_protocol:discover_agent_card:36 - An unexpected error occurred during agent discovery at http://127.0.0.1:5003/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-03 08:58:06.614 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for news_agent at http://127.0.0.1:5003/a2a. It might not be running.
2025-06-03 08:58:06.614 | INFO     | server.orchestrator:initialize:62 - Loaded 0 ADK tools from A2A agent configurations.
2025-06-03 08:58:06.615 | INFO     | server.orchestrator:initialize:92 - OrchestratorAgent fully initialized and ready.
2025-06-03 08:58:06.616 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-03 08:58:06.616 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-03 08:58:06.617 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-03 08:58:06.617 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-03 08:58:06.617 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-03 08:58:06.619 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-03 08:58:06.619 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-03 08:59:40.801 | INFO     | server.agent_server:lifespan:50 - Agent Server shutting down...
2025-06-03 08:59:40.802 | INFO     | server.websocket_handler:disconnect_all:61 - All WebSocket connections disconnected.
2025-06-03 08:59:40.803 | INFO     | server.orchestrator:shutdown:95 - Shutting down OrchestratorAgent...
2025-06-03 08:59:40.803 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-03 08:59:40.803 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-03 08:59:40.804 | INFO     | server.agent_server:lifespan:57 - Agent Server shutdown complete.
2025-06-03 08:59:55.103 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 08:59:55.103 | INFO     | __main__:main:16 - Starting Multi-Agent System Server on 127.0.0.1:5001
2025-06-03 08:59:55.103 | INFO     | __main__:main:17 - WebSocket Server will run on ws://127.0.0.1:5002/ws
2025-06-03 08:59:55.146 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-03 08:59:55.146 | INFO     | server.orchestrator:initialize:34 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-03 08:59:55.158 | ERROR    | protocols.a2a_protocol:discover_agent_card:36 - An unexpected error occurred during agent discovery at http://127.0.0.1:5001/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-03 08:59:55.159 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for weather_agent at http://127.0.0.1:5001/a2a. It might not be running.
2025-06-03 08:59:55.164 | ERROR    | protocols.a2a_protocol:discover_agent_card:36 - An unexpected error occurred during agent discovery at http://127.0.0.1:5002/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-03 08:59:55.164 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5002/a2a. It might not be running.
2025-06-03 08:59:55.173 | ERROR    | protocols.a2a_protocol:discover_agent_card:36 - An unexpected error occurred during agent discovery at http://127.0.0.1:5003/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-03 08:59:55.175 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for news_agent at http://127.0.0.1:5003/a2a. It might not be running.
2025-06-03 08:59:55.175 | INFO     | server.orchestrator:initialize:62 - Loaded 0 ADK tools from A2A agent configurations.
2025-06-03 08:59:55.177 | INFO     | server.orchestrator:initialize:92 - OrchestratorAgent fully initialized and ready.
2025-06-03 08:59:55.177 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-03 08:59:55.177 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-03 08:59:55.177 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-03 08:59:55.178 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-03 08:59:55.178 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-03 08:59:55.178 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-03 08:59:55.178 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-03 09:18:09.050 | INFO     | server.agent_server:lifespan:50 - Agent Server shutting down...
2025-06-03 09:18:09.058 | INFO     | server.websocket_handler:disconnect_all:61 - All WebSocket connections disconnected.
2025-06-03 09:18:09.062 | INFO     | server.orchestrator:shutdown:95 - Shutting down OrchestratorAgent...
2025-06-03 09:18:09.070 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-03 09:18:09.071 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-03 09:18:09.071 | INFO     | server.agent_server:lifespan:57 - Agent Server shutdown complete.
2025-06-03 09:18:26.395 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 09:18:26.395 | INFO     | __main__:main:16 - Starting Multi-Agent System Server on 127.0.0.1:5001
2025-06-03 09:18:26.396 | INFO     | __main__:main:17 - WebSocket Server will run on ws://127.0.0.1:5002/ws
2025-06-03 09:18:26.443 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-03 09:18:26.443 | INFO     | server.orchestrator:initialize:34 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-03 09:18:26.449 | ERROR    | protocols.a2a_protocol:discover_agent_card:36 - An unexpected error occurred during agent discovery at http://127.0.0.1:5001/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-03 09:18:26.449 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for weather_agent at http://127.0.0.1:5001/a2a. It might not be running.
2025-06-03 09:18:26.517 | ERROR    | protocols.a2a_protocol:discover_agent_card:36 - An unexpected error occurred during agent discovery at http://127.0.0.1:5002/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-03 09:18:26.517 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5002/a2a. It might not be running.
2025-06-03 09:18:26.573 | ERROR    | protocols.a2a_protocol:discover_agent_card:36 - An unexpected error occurred during agent discovery at http://127.0.0.1:5003/a2a: 'A2AClient' object has no attribute 'discover'
2025-06-03 09:18:26.574 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for news_agent at http://127.0.0.1:5003/a2a. It might not be running.
2025-06-03 09:18:26.574 | INFO     | server.orchestrator:initialize:62 - Loaded 0 ADK tools from A2A agent configurations.
2025-06-03 09:18:26.576 | INFO     | server.orchestrator:initialize:92 - OrchestratorAgent fully initialized and ready.
2025-06-03 09:18:26.578 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-03 09:18:26.579 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-03 09:18:26.580 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-03 09:18:26.580 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-03 09:18:26.581 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-03 09:18:26.581 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-03 09:18:26.582 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-03 09:23:16.414 | INFO     | server.agent_server:lifespan:50 - Agent Server shutting down...
2025-06-03 09:23:16.414 | INFO     | server.websocket_handler:disconnect_all:61 - All WebSocket connections disconnected.
2025-06-03 09:23:16.414 | INFO     | server.orchestrator:shutdown:95 - Shutting down OrchestratorAgent...
2025-06-03 09:23:16.415 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-03 09:23:16.415 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-03 09:23:16.416 | INFO     | server.agent_server:lifespan:57 - Agent Server shutdown complete.
2025-06-03 11:54:39.824 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 11:54:39.832 | INFO     | __main__:main:16 - Starting Multi-Agent System Server on 127.0.0.1:5001
2025-06-03 11:54:39.832 | INFO     | __main__:main:17 - WebSocket Server will run on ws://127.0.0.1:5002/ws
2025-06-03 11:54:39.878 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-03 11:54:39.878 | INFO     | server.orchestrator:initialize:34 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-03 11:54:39.878 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5001/a2a/.well-known/agent.json
2025-06-03 11:54:40.007 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5001/a2a/a2a
2025-06-03 11:54:40.027 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5001/a2a/agent-card
2025-06-03 11:54:40.050 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5001/a2a/info
2025-06-03 11:54:40.065 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5001/a2a
2025-06-03 11:54:40.065 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for weather_agent at http://127.0.0.1:5001/a2a. It might not be running.
2025-06-03 11:54:40.065 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5002/a2a/.well-known/agent.json
2025-06-03 11:54:40.139 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5002/a2a/.well-known/agent.json, trying next endpoint
2025-06-03 11:54:40.139 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5002/a2a/a2a
2025-06-03 11:54:40.163 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5002/a2a/a2a, trying next endpoint
2025-06-03 11:54:40.163 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5002/a2a/agent-card
2025-06-03 11:54:40.187 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5002/a2a/agent-card, trying next endpoint
2025-06-03 11:54:40.187 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5002/a2a/info
2025-06-03 11:54:40.204 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5002/a2a/info, trying next endpoint
2025-06-03 11:54:40.204 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5002/a2a
2025-06-03 11:54:40.204 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5002/a2a. It might not be running.
2025-06-03 11:54:40.204 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5003/a2a/.well-known/agent.json
2025-06-03 11:54:40.293 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5003/a2a/.well-known/agent.json, trying next endpoint
2025-06-03 11:54:40.293 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5003/a2a/a2a
2025-06-03 11:54:40.317 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5003/a2a/a2a, trying next endpoint
2025-06-03 11:54:40.317 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5003/a2a/agent-card
2025-06-03 11:54:40.334 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5003/a2a/agent-card, trying next endpoint
2025-06-03 11:54:40.334 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5003/a2a/info
2025-06-03 11:54:40.350 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5003/a2a/info, trying next endpoint
2025-06-03 11:54:40.350 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5003/a2a
2025-06-03 11:54:40.350 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for news_agent at http://127.0.0.1:5003/a2a. It might not be running.
2025-06-03 11:54:40.350 | INFO     | server.orchestrator:initialize:62 - Loaded 0 ADK tools from A2A agent configurations.
2025-06-03 11:54:40.350 | INFO     | server.orchestrator:initialize:92 - OrchestratorAgent fully initialized and ready.
2025-06-03 11:54:40.350 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-03 11:54:40.350 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-03 11:54:40.358 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-03 11:54:40.358 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-03 11:54:40.358 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-03 11:54:40.358 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-03 11:54:40.358 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-03 11:54:40.358 | INFO     | server.agent_server:lifespan:50 - Agent Server shutting down...
2025-06-03 11:54:40.358 | INFO     | server.websocket_handler:disconnect_all:61 - All WebSocket connections disconnected.
2025-06-03 11:54:40.358 | INFO     | server.orchestrator:shutdown:95 - Shutting down OrchestratorAgent...
2025-06-03 11:54:40.358 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-03 11:54:40.358 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-03 11:54:40.358 | INFO     | server.agent_server:lifespan:57 - Agent Server shutdown complete.
2025-06-03 12:04:01.831 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 12:04:01.833 | INFO     | __main__:main:16 - Starting Multi-Agent System Server on 127.0.0.1:5001
2025-06-03 12:04:01.834 | INFO     | __main__:main:17 - WebSocket Server will run on ws://127.0.0.1:5002/ws
2025-06-03 12:04:01.881 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-03 12:04:01.881 | INFO     | server.orchestrator:initialize:34 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-03 12:04:01.881 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5001/a2a/.well-known/agent.json
2025-06-03 12:04:01.906 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5001/a2a/.well-known/agent.json, trying next endpoint
2025-06-03 12:04:01.906 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5001/a2a/a2a
2025-06-03 12:04:01.923 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5001/a2a/a2a, trying next endpoint
2025-06-03 12:04:01.923 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5001/a2a/agent-card
2025-06-03 12:04:01.939 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5001/a2a/agent-card, trying next endpoint
2025-06-03 12:04:01.939 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5001/a2a/info
2025-06-03 12:04:01.955 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5001/a2a/info, trying next endpoint
2025-06-03 12:04:01.955 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5001/a2a
2025-06-03 12:04:01.955 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for weather_agent at http://127.0.0.1:5001/a2a. It might not be running.
2025-06-03 12:04:01.955 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5002/a2a/.well-known/agent.json
2025-06-03 12:04:01.971 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5002/a2a/.well-known/agent.json, trying next endpoint
2025-06-03 12:04:01.971 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5002/a2a/a2a
2025-06-03 12:04:01.988 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5002/a2a/a2a, trying next endpoint
2025-06-03 12:04:01.988 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5002/a2a/agent-card
2025-06-03 12:04:02.012 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5002/a2a/agent-card, trying next endpoint
2025-06-03 12:04:02.012 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5002/a2a/info
2025-06-03 12:04:02.029 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5002/a2a/info, trying next endpoint
2025-06-03 12:04:02.029 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5002/a2a
2025-06-03 12:04:02.029 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5002/a2a. It might not be running.
2025-06-03 12:04:02.029 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5003/a2a/.well-known/agent.json
2025-06-03 12:04:02.045 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5003/a2a/.well-known/agent.json, trying next endpoint
2025-06-03 12:04:02.045 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5003/a2a/a2a
2025-06-03 12:04:02.061 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5003/a2a/a2a, trying next endpoint
2025-06-03 12:04:02.061 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5003/a2a/agent-card
2025-06-03 12:04:02.079 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5003/a2a/agent-card, trying next endpoint
2025-06-03 12:04:02.079 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5003/a2a/info
2025-06-03 12:04:02.095 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5003/a2a/info, trying next endpoint
2025-06-03 12:04:02.095 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5003/a2a
2025-06-03 12:04:02.095 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for news_agent at http://127.0.0.1:5003/a2a. It might not be running.
2025-06-03 12:04:02.095 | INFO     | server.orchestrator:initialize:62 - Loaded 0 ADK tools from A2A agent configurations.
2025-06-03 12:04:02.095 | INFO     | server.orchestrator:initialize:92 - OrchestratorAgent fully initialized and ready.
2025-06-03 12:04:02.095 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-03 12:04:02.095 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-03 12:04:02.095 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-03 12:04:02.095 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-03 12:04:02.103 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-03 12:04:02.103 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-03 12:04:02.103 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-03 12:04:02.103 | INFO     | server.agent_server:lifespan:50 - Agent Server shutting down...
2025-06-03 12:04:02.103 | INFO     | server.websocket_handler:disconnect_all:61 - All WebSocket connections disconnected.
2025-06-03 12:04:02.103 | INFO     | server.orchestrator:shutdown:95 - Shutting down OrchestratorAgent...
2025-06-03 12:04:02.103 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-03 12:04:02.103 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-03 12:04:02.103 | INFO     | server.agent_server:lifespan:57 - Agent Server shutdown complete.
2025-06-03 12:06:41.832 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 12:06:41.832 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-03 12:06:41.832 | INFO     | config.settings:load_agent_config:41 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5001/a2a', 'tool_name': 'weather_tool'}
2025-06-03 12:06:41.840 | INFO     | config.settings:load_agent_config:41 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5002/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 12:06:41.840 | INFO     | config.settings:load_agent_config:41 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5003/a2a', 'tool_name': 'news_tool'}
2025-06-03 12:06:41.840 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-03 12:06:41.848 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-03 12:06:41.848 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-03 12:06:41.848 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-03 12:06:41.848 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-03 12:06:41.848 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5001
2025-06-03 12:06:41.848 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-03 12:06:41.848 | ERROR    | __main__:main:191 - ‚ùå Fatal error: 'Settings' object has no attribute 'ENVIRONMENT'
2025-06-03 12:09:55.088 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 12:09:55.088 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-03 12:09:55.088 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5001/a2a', 'tool_name': 'weather_tool'}
2025-06-03 12:09:55.097 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5002/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 12:09:55.101 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5003/a2a', 'tool_name': 'news_tool'}
2025-06-03 12:09:55.104 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-03 12:09:55.104 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-03 12:09:55.104 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-03 12:09:55.107 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-03 12:09:55.115 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-03 12:09:55.115 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5001
2025-06-03 12:09:55.115 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-03 12:09:55.119 | INFO     | __main__:display_server_info:48 - üìä Environment: development
2025-06-03 12:09:55.119 | INFO     | __main__:display_server_info:49 - üîß Debug Mode: True
2025-06-03 12:09:55.119 | INFO     | __main__:display_server_info:50 - 
2025-06-03 12:09:55.124 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5001/a2a', 'tool_name': 'weather_tool'}
2025-06-03 12:09:55.132 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5001/a2a', 'tool_name': 'weather_tool'}
2025-06-03 12:09:55.132 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Weather Agent configured at http://127.0.0.1:5001/a2a
2025-06-03 12:09:55.137 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5002/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 12:09:55.137 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5002/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 12:09:55.137 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5002/a2a
2025-06-03 12:09:55.147 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5003/a2a', 'tool_name': 'news_tool'}
2025-06-03 12:09:55.151 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5003/a2a', 'tool_name': 'news_tool'}
2025-06-03 12:09:55.151 | INFO     | __main__:check_agent_availability:34 - ‚úÖ News Agent configured at http://127.0.0.1:5003/a2a
2025-06-03 12:09:55.151 | INFO     | __main__:display_server_info:56 - ü§ñ Available A2A Agents:
2025-06-03 12:09:55.154 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5001/a2a
2025-06-03 12:09:55.155 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5002/a2a
2025-06-03 12:09:55.155 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ News Agent: http://127.0.0.1:5003/a2a
2025-06-03 12:09:55.155 | INFO     | __main__:display_server_info:65 - 
2025-06-03 12:09:55.155 | INFO     | __main__:display_server_info:66 - üí° API Documentation available at:
2025-06-03 12:09:55.155 | INFO     | __main__:display_server_info:67 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5001/docs
2025-06-03 12:09:55.155 | INFO     | __main__:display_server_info:68 -    ‚Ä¢ ReDoc: http://127.0.0.1:5001/redoc
2025-06-03 12:09:55.155 | INFO     | __main__:display_server_info:69 - ======================================================================
2025-06-03 12:09:55.162 | INFO     | __main__:configure_uvicorn:150 - üîß Development mode: Hot-reloading enabled
2025-06-03 12:09:55.162 | INFO     | __main__:main_async:168 - üöÄ Starting Multi-Agent System Server...
2025-06-03 12:09:55.162 | INFO     | __main__:main_async:169 - Press Ctrl+C to stop the server
2025-06-03 12:09:55.203 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-03 12:09:55.203 | INFO     | server.orchestrator:initialize:34 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-03 12:09:55.203 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5001/a2a/.well-known/agent.json
2025-06-03 12:09:55.255 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5001/a2a/.well-known/agent.json, trying next endpoint
2025-06-03 12:09:55.255 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5001/a2a/a2a
2025-06-03 12:09:55.286 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5001/a2a/a2a, trying next endpoint
2025-06-03 12:09:55.286 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5001/a2a/agent-card
2025-06-03 12:09:55.303 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5001/a2a/agent-card, trying next endpoint
2025-06-03 12:09:55.303 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5001/a2a/info
2025-06-03 12:09:55.319 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5001/a2a/info, trying next endpoint
2025-06-03 12:09:55.319 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5001/a2a
2025-06-03 12:09:55.319 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for weather_agent at http://127.0.0.1:5001/a2a. It might not be running.
2025-06-03 12:09:55.319 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5002/a2a/.well-known/agent.json
2025-06-03 12:09:55.367 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5002/a2a/.well-known/agent.json, trying next endpoint
2025-06-03 12:09:55.367 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5002/a2a/a2a
2025-06-03 12:09:55.395 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5002/a2a/a2a, trying next endpoint
2025-06-03 12:09:55.395 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5002/a2a/agent-card
2025-06-03 12:09:55.408 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5002/a2a/agent-card, trying next endpoint
2025-06-03 12:09:55.408 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5002/a2a/info
2025-06-03 12:09:55.427 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5002/a2a/info, trying next endpoint
2025-06-03 12:09:55.427 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5002/a2a
2025-06-03 12:09:55.427 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5002/a2a. It might not be running.
2025-06-03 12:09:55.427 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5003/a2a/.well-known/agent.json
2025-06-03 12:09:55.507 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5003/a2a/.well-known/agent.json, trying next endpoint
2025-06-03 12:09:55.507 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5003/a2a/a2a
2025-06-03 12:09:55.531 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5003/a2a/a2a, trying next endpoint
2025-06-03 12:09:55.531 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5003/a2a/agent-card
2025-06-03 12:09:55.556 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5003/a2a/agent-card, trying next endpoint
2025-06-03 12:09:55.556 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5003/a2a/info
2025-06-03 12:09:55.580 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5003/a2a/info, trying next endpoint
2025-06-03 12:09:55.580 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5003/a2a
2025-06-03 12:09:55.640 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for news_agent at http://127.0.0.1:5003/a2a. It might not be running.
2025-06-03 12:09:55.655 | INFO     | server.orchestrator:initialize:62 - Loaded 0 ADK tools from A2A agent configurations.
2025-06-03 12:09:55.656 | INFO     | server.orchestrator:initialize:92 - OrchestratorAgent fully initialized and ready.
2025-06-03 12:09:55.656 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-03 12:09:55.656 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-03 12:09:55.656 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-03 12:09:55.656 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-03 12:09:55.656 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-03 12:09:55.656 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-03 12:09:55.656 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-03 12:09:55.656 | INFO     | server.agent_server:lifespan:50 - Agent Server shutting down...
2025-06-03 12:09:55.656 | INFO     | server.websocket_handler:disconnect_all:61 - All WebSocket connections disconnected.
2025-06-03 12:09:55.656 | INFO     | server.orchestrator:shutdown:95 - Shutting down OrchestratorAgent...
2025-06-03 12:09:55.656 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-03 12:09:55.656 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-03 12:09:55.656 | INFO     | server.agent_server:lifespan:57 - Agent Server shutdown complete.
2025-06-03 12:09:55.663 | INFO     | __main__:main_async:182 - üèÅ Server stopped
2025-06-03 12:12:56.433 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 12:12:56.433 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-03 12:12:56.441 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5011/a2a', 'tool_name': 'weather_tool'}
2025-06-03 12:12:56.449 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5012/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 12:12:56.449 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5013/a2a', 'tool_name': 'news_tool'}
2025-06-03 12:12:56.458 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-03 12:12:56.458 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-03 12:12:56.458 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-03 12:12:56.458 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-03 12:12:56.458 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-03 12:12:56.465 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5001
2025-06-03 12:12:56.465 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-03 12:12:56.465 | INFO     | __main__:display_server_info:48 - üìä Environment: development
2025-06-03 12:12:56.467 | INFO     | __main__:display_server_info:49 - üîß Debug Mode: True
2025-06-03 12:12:56.467 | INFO     | __main__:display_server_info:50 - 
2025-06-03 12:12:56.468 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5011/a2a', 'tool_name': 'weather_tool'}
2025-06-03 12:12:56.476 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5011/a2a', 'tool_name': 'weather_tool'}
2025-06-03 12:12:56.476 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Weather Agent configured at http://127.0.0.1:5011/a2a
2025-06-03 12:12:56.482 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5012/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 12:12:56.482 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5012/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 12:12:56.482 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5012/a2a
2025-06-03 12:12:56.489 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5013/a2a', 'tool_name': 'news_tool'}
2025-06-03 12:12:56.490 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5013/a2a', 'tool_name': 'news_tool'}
2025-06-03 12:12:56.490 | INFO     | __main__:check_agent_availability:34 - ‚úÖ News Agent configured at http://127.0.0.1:5013/a2a
2025-06-03 12:12:56.490 | INFO     | __main__:display_server_info:56 - ü§ñ Available A2A Agents:
2025-06-03 12:12:56.498 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5011/a2a
2025-06-03 12:12:56.498 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5012/a2a
2025-06-03 12:12:56.498 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ News Agent: http://127.0.0.1:5013/a2a
2025-06-03 12:12:56.498 | INFO     | __main__:display_server_info:65 - 
2025-06-03 12:12:56.498 | INFO     | __main__:display_server_info:66 - üí° API Documentation available at:
2025-06-03 12:12:56.498 | INFO     | __main__:display_server_info:67 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5001/docs
2025-06-03 12:12:56.498 | INFO     | __main__:display_server_info:68 -    ‚Ä¢ ReDoc: http://127.0.0.1:5001/redoc
2025-06-03 12:12:56.498 | INFO     | __main__:display_server_info:69 - ======================================================================
2025-06-03 12:12:56.498 | INFO     | __main__:configure_uvicorn:150 - üîß Development mode: Hot-reloading enabled
2025-06-03 12:12:56.498 | INFO     | __main__:main_async:168 - üöÄ Starting Multi-Agent System Server...
2025-06-03 12:12:56.498 | INFO     | __main__:main_async:169 - Press Ctrl+C to stop the server
2025-06-03 12:12:56.539 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-03 12:12:56.539 | INFO     | server.orchestrator:initialize:34 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-03 12:12:56.539 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5011/a2a/.well-known/agent.json
2025-06-03 12:12:58.594 | DEBUG    | protocols.a2a_protocol:discover_agent_card:81 - Error trying http://127.0.0.1:5011/a2a/.well-known/agent.json: All connection attempts failed, trying next endpoint
2025-06-03 12:12:58.594 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5011/a2a/a2a
2025-06-03 12:13:00.624 | DEBUG    | protocols.a2a_protocol:discover_agent_card:81 - Error trying http://127.0.0.1:5011/a2a/a2a: All connection attempts failed, trying next endpoint
2025-06-03 12:13:00.624 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5011/a2a/agent-card
2025-06-03 12:13:02.674 | DEBUG    | protocols.a2a_protocol:discover_agent_card:81 - Error trying http://127.0.0.1:5011/a2a/agent-card: All connection attempts failed, trying next endpoint
2025-06-03 12:13:02.674 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5011/a2a/info
2025-06-03 12:13:04.691 | DEBUG    | protocols.a2a_protocol:discover_agent_card:81 - Error trying http://127.0.0.1:5011/a2a/info: All connection attempts failed, trying next endpoint
2025-06-03 12:13:04.693 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5011/a2a
2025-06-03 12:13:04.693 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for weather_agent at http://127.0.0.1:5011/a2a. It might not be running.
2025-06-03 12:13:04.693 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5012/a2a/.well-known/agent.json
2025-06-03 12:13:06.729 | DEBUG    | protocols.a2a_protocol:discover_agent_card:81 - Error trying http://127.0.0.1:5012/a2a/.well-known/agent.json: All connection attempts failed, trying next endpoint
2025-06-03 12:13:06.729 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5012/a2a/a2a
2025-06-03 12:13:08.755 | DEBUG    | protocols.a2a_protocol:discover_agent_card:81 - Error trying http://127.0.0.1:5012/a2a/a2a: All connection attempts failed, trying next endpoint
2025-06-03 12:13:08.755 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5012/a2a/agent-card
2025-06-03 12:13:10.788 | DEBUG    | protocols.a2a_protocol:discover_agent_card:81 - Error trying http://127.0.0.1:5012/a2a/agent-card: All connection attempts failed, trying next endpoint
2025-06-03 12:13:10.788 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5012/a2a/info
2025-06-03 12:13:12.824 | DEBUG    | protocols.a2a_protocol:discover_agent_card:81 - Error trying http://127.0.0.1:5012/a2a/info: All connection attempts failed, trying next endpoint
2025-06-03 12:13:12.824 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5012/a2a
2025-06-03 12:13:12.824 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5012/a2a. It might not be running.
2025-06-03 12:13:12.824 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5013/a2a/.well-known/agent.json
2025-06-03 12:13:14.859 | DEBUG    | protocols.a2a_protocol:discover_agent_card:81 - Error trying http://127.0.0.1:5013/a2a/.well-known/agent.json: All connection attempts failed, trying next endpoint
2025-06-03 12:13:14.859 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5013/a2a/a2a
2025-06-03 12:13:16.891 | DEBUG    | protocols.a2a_protocol:discover_agent_card:81 - Error trying http://127.0.0.1:5013/a2a/a2a: All connection attempts failed, trying next endpoint
2025-06-03 12:13:16.891 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5013/a2a/agent-card
2025-06-03 12:13:18.934 | DEBUG    | protocols.a2a_protocol:discover_agent_card:81 - Error trying http://127.0.0.1:5013/a2a/agent-card: All connection attempts failed, trying next endpoint
2025-06-03 12:13:18.934 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5013/a2a/info
2025-06-03 12:13:20.956 | DEBUG    | protocols.a2a_protocol:discover_agent_card:81 - Error trying http://127.0.0.1:5013/a2a/info: All connection attempts failed, trying next endpoint
2025-06-03 12:13:20.956 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5013/a2a
2025-06-03 12:13:20.956 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for news_agent at http://127.0.0.1:5013/a2a. It might not be running.
2025-06-03 12:13:20.956 | INFO     | server.orchestrator:initialize:62 - Loaded 0 ADK tools from A2A agent configurations.
2025-06-03 12:13:20.956 | INFO     | server.orchestrator:initialize:92 - OrchestratorAgent fully initialized and ready.
2025-06-03 12:13:20.956 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-03 12:13:20.956 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-03 12:13:20.956 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-03 12:13:20.956 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-03 12:13:20.963 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-03 12:13:20.967 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-03 12:13:20.967 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-03 12:13:20.973 | INFO     | server.agent_server:lifespan:50 - Agent Server shutting down...
2025-06-03 12:13:20.973 | INFO     | server.websocket_handler:disconnect_all:61 - All WebSocket connections disconnected.
2025-06-03 12:13:20.973 | INFO     | server.orchestrator:shutdown:95 - Shutting down OrchestratorAgent...
2025-06-03 12:13:20.975 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-03 12:13:20.975 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-03 12:13:20.975 | INFO     | server.agent_server:lifespan:57 - Agent Server shutdown complete.
2025-06-03 12:13:20.976 | INFO     | __main__:main_async:182 - üèÅ Server stopped
2025-06-03 12:17:11.948 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 12:17:11.948 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-03 12:17:11.956 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5011/a2a', 'tool_name': 'weather_tool'}
2025-06-03 12:17:11.956 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5012/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 12:17:11.956 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5013/a2a', 'tool_name': 'news_tool'}
2025-06-03 12:17:11.956 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-03 12:17:11.964 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-03 12:17:11.964 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-03 12:17:11.964 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-03 12:17:11.964 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-03 12:17:11.964 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5001
2025-06-03 12:17:11.964 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-03 12:17:11.964 | INFO     | __main__:display_server_info:48 - üìä Environment: development
2025-06-03 12:17:11.972 | INFO     | __main__:display_server_info:49 - üîß Debug Mode: True
2025-06-03 12:17:11.972 | INFO     | __main__:display_server_info:50 - 
2025-06-03 12:17:11.981 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5011/a2a', 'tool_name': 'weather_tool'}
2025-06-03 12:17:11.981 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5011/a2a', 'tool_name': 'weather_tool'}
2025-06-03 12:17:11.981 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Weather Agent configured at http://127.0.0.1:5011/a2a
2025-06-03 12:17:11.981 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5012/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 12:17:11.988 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5012/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 12:17:11.988 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5012/a2a
2025-06-03 12:17:11.988 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5013/a2a', 'tool_name': 'news_tool'}
2025-06-03 12:17:11.997 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5013/a2a', 'tool_name': 'news_tool'}
2025-06-03 12:17:12.000 | INFO     | __main__:check_agent_availability:34 - ‚úÖ News Agent configured at http://127.0.0.1:5013/a2a
2025-06-03 12:17:12.001 | INFO     | __main__:display_server_info:56 - ü§ñ Available A2A Agents:
2025-06-03 12:17:12.001 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5011/a2a
2025-06-03 12:17:12.001 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5012/a2a
2025-06-03 12:17:12.001 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ News Agent: http://127.0.0.1:5013/a2a
2025-06-03 12:17:12.001 | INFO     | __main__:display_server_info:65 - 
2025-06-03 12:17:12.001 | INFO     | __main__:display_server_info:66 - üí° API Documentation available at:
2025-06-03 12:17:12.001 | INFO     | __main__:display_server_info:67 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5001/docs
2025-06-03 12:17:12.001 | INFO     | __main__:display_server_info:68 -    ‚Ä¢ ReDoc: http://127.0.0.1:5001/redoc
2025-06-03 12:17:12.004 | INFO     | __main__:display_server_info:69 - ======================================================================
2025-06-03 12:17:12.004 | INFO     | __main__:configure_uvicorn:150 - üîß Development mode: Hot-reloading enabled
2025-06-03 12:17:12.004 | INFO     | __main__:main_async:168 - üöÄ Starting Multi-Agent System Server...
2025-06-03 12:17:12.004 | INFO     | __main__:main_async:169 - Press Ctrl+C to stop the server
2025-06-03 12:17:12.053 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-03 12:17:12.053 | INFO     | server.orchestrator:initialize:34 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-03 12:17:12.053 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5011/a2a/.well-known/agent.json
2025-06-03 12:17:12.078 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5011/a2a/.well-known/agent.json, trying next endpoint
2025-06-03 12:17:12.078 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5011/a2a/a2a
2025-06-03 12:17:12.086 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5011/a2a/a2a, trying next endpoint
2025-06-03 12:17:12.086 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5011/a2a/agent-card
2025-06-03 12:17:12.102 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5011/a2a/agent-card, trying next endpoint
2025-06-03 12:17:12.102 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5011/a2a/info
2025-06-03 12:17:12.118 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5011/a2a/info, trying next endpoint
2025-06-03 12:17:12.118 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5011/a2a
2025-06-03 12:17:12.118 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for weather_agent at http://127.0.0.1:5011/a2a. It might not be running.
2025-06-03 12:17:12.118 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5012/a2a/.well-known/agent.json
2025-06-03 12:17:12.134 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5012/a2a/.well-known/agent.json, trying next endpoint
2025-06-03 12:17:12.134 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5012/a2a/a2a
2025-06-03 12:17:12.142 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5012/a2a/a2a, trying next endpoint
2025-06-03 12:17:12.142 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5012/a2a/agent-card
2025-06-03 12:17:12.160 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5012/a2a/agent-card, trying next endpoint
2025-06-03 12:17:12.160 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5012/a2a/info
2025-06-03 12:17:12.175 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5012/a2a/info, trying next endpoint
2025-06-03 12:17:12.175 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5012/a2a
2025-06-03 12:17:12.175 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5012/a2a. It might not be running.
2025-06-03 12:17:12.175 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5013/a2a/.well-known/agent.json
2025-06-03 12:17:12.272 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5013/a2a/.well-known/agent.json, trying next endpoint
2025-06-03 12:17:12.272 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5013/a2a/a2a
2025-06-03 12:17:12.297 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5013/a2a/a2a, trying next endpoint
2025-06-03 12:17:12.297 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5013/a2a/agent-card
2025-06-03 12:17:12.333 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5013/a2a/agent-card, trying next endpoint
2025-06-03 12:17:12.333 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5013/a2a/info
2025-06-03 12:17:12.355 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5013/a2a/info, trying next endpoint
2025-06-03 12:17:12.355 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5013/a2a
2025-06-03 12:17:12.355 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for news_agent at http://127.0.0.1:5013/a2a. It might not be running.
2025-06-03 12:17:12.355 | INFO     | server.orchestrator:initialize:62 - Loaded 0 ADK tools from A2A agent configurations.
2025-06-03 12:17:12.355 | INFO     | server.orchestrator:initialize:92 - OrchestratorAgent fully initialized and ready.
2025-06-03 12:17:12.355 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-03 12:17:12.355 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-03 12:17:12.361 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-03 12:17:12.362 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-03 12:17:12.362 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-03 12:17:12.362 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-03 12:17:12.362 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-03 15:33:31.759 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 15:33:31.761 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-03 15:33:31.765 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 15:33:31.769 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 15:33:31.772 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 15:33:31.773 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-03 15:33:31.773 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-03 15:33:31.773 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-03 15:33:31.774 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-03 15:33:31.774 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-03 15:33:31.774 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-03 15:33:31.775 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-03 15:33:31.775 | INFO     | __main__:display_server_info:48 - üìä Environment: development
2025-06-03 15:33:31.776 | INFO     | __main__:display_server_info:49 - üîß Debug Mode: True
2025-06-03 15:33:31.776 | INFO     | __main__:display_server_info:50 - 
2025-06-03 15:33:31.779 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 15:33:31.782 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 15:33:31.782 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-03 15:33:31.785 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 15:33:31.788 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 15:33:31.788 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5412/a2a
2025-06-03 15:33:31.791 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 15:33:31.795 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 15:33:31.796 | INFO     | __main__:check_agent_availability:34 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-03 15:33:31.796 | INFO     | __main__:display_server_info:56 - ü§ñ Available A2A Agents:
2025-06-03 15:33:31.796 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-03 15:33:31.797 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5412/a2a
2025-06-03 15:33:31.797 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-03 15:33:31.797 | INFO     | __main__:display_server_info:65 - 
2025-06-03 15:33:31.797 | INFO     | __main__:display_server_info:66 - üí° API Documentation available at:
2025-06-03 15:33:31.798 | INFO     | __main__:display_server_info:67 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-03 15:33:31.799 | INFO     | __main__:display_server_info:68 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-03 15:33:31.800 | INFO     | __main__:display_server_info:69 - ======================================================================
2025-06-03 15:33:31.800 | INFO     | __main__:configure_uvicorn:150 - üîß Development mode: Hot-reloading enabled
2025-06-03 15:33:31.801 | INFO     | __main__:main_async:168 - üöÄ Starting Multi-Agent System Server...
2025-06-03 15:33:31.801 | INFO     | __main__:main_async:169 - Press Ctrl+C to stop the server
2025-06-03 15:33:32.211 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-03 15:33:32.211 | INFO     | server.orchestrator:initialize:34 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-03 15:33:32.212 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/.well-known/agent.json
2025-06-03 15:33:32.406 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5211/a2a/.well-known/agent.json, trying next endpoint
2025-06-03 15:33:32.406 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/a2a
2025-06-03 15:33:32.438 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5211/a2a/a2a, trying next endpoint
2025-06-03 15:33:32.438 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/agent-card
2025-06-03 15:33:32.461 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5211/a2a/agent-card, trying next endpoint
2025-06-03 15:33:32.462 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/info
2025-06-03 15:33:32.481 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5211/a2a/info, trying next endpoint
2025-06-03 15:33:32.482 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5211/a2a
2025-06-03 15:33:32.485 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for weather_agent at http://127.0.0.1:5211/a2a. It might not be running.
2025-06-03 15:33:32.487 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/.well-known/agent.json
2025-06-03 15:33:32.729 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5412/a2a/.well-known/agent.json, trying next endpoint
2025-06-03 15:33:32.729 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/a2a
2025-06-03 15:33:32.766 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5412/a2a/a2a, trying next endpoint
2025-06-03 15:33:32.766 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/agent-card
2025-06-03 15:33:32.793 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5412/a2a/agent-card, trying next endpoint
2025-06-03 15:33:32.794 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/info
2025-06-03 15:33:32.810 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5412/a2a/info, trying next endpoint
2025-06-03 15:33:32.810 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5412/a2a
2025-06-03 15:33:32.811 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5412/a2a. It might not be running.
2025-06-03 15:33:32.811 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/.well-known/agent.json
2025-06-03 15:33:33.066 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5313/a2a/.well-known/agent.json, trying next endpoint
2025-06-03 15:33:33.066 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/a2a
2025-06-03 15:33:33.094 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5313/a2a/a2a, trying next endpoint
2025-06-03 15:33:33.094 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/agent-card
2025-06-03 15:33:33.114 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5313/a2a/agent-card, trying next endpoint
2025-06-03 15:33:33.114 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/info
2025-06-03 15:33:33.142 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5313/a2a/info, trying next endpoint
2025-06-03 15:33:33.142 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5313/a2a
2025-06-03 15:33:33.143 | WARNING  | server.orchestrator:initialize:58 - Could not discover AgentCard for news_agent at http://127.0.0.1:5313/a2a. It might not be running.
2025-06-03 15:33:33.144 | INFO     | server.orchestrator:initialize:62 - Loaded 0 ADK tools from A2A agent configurations.
2025-06-03 15:33:33.145 | INFO     | server.orchestrator:initialize:92 - OrchestratorAgent fully initialized and ready.
2025-06-03 15:33:33.146 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-03 15:33:33.151 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-03 15:33:33.153 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-03 15:33:33.154 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-03 15:33:33.158 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-03 15:33:33.159 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-03 15:33:33.159 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-03 15:34:39.719 | INFO     | server.agent_server:lifespan:50 - Agent Server shutting down...
2025-06-03 15:34:39.720 | INFO     | server.websocket_handler:disconnect_all:61 - All WebSocket connections disconnected.
2025-06-03 15:34:39.721 | INFO     | server.orchestrator:shutdown:95 - Shutting down OrchestratorAgent...
2025-06-03 15:34:39.722 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-03 15:34:39.722 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-03 15:34:39.723 | INFO     | server.agent_server:lifespan:57 - Agent Server shutdown complete.
2025-06-03 15:34:39.728 | INFO     | __main__:main_async:182 - üèÅ Server stopped
2025-06-03 15:34:39.730 | INFO     | __main__:main:189 - üõë Shutdown signal received
2025-06-03 16:11:58.248 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 16:11:58.249 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-03 16:11:58.253 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 16:11:58.255 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 16:11:58.259 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 16:11:58.260 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-03 16:11:58.260 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-03 16:11:58.260 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-03 16:11:58.263 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-03 16:11:58.263 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-03 16:11:58.264 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-03 16:11:58.264 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-03 16:11:58.265 | INFO     | __main__:display_server_info:48 - üìä Environment: development
2025-06-03 16:11:58.265 | INFO     | __main__:display_server_info:49 - üîß Debug Mode: True
2025-06-03 16:11:58.266 | INFO     | __main__:display_server_info:50 - 
2025-06-03 16:11:58.270 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 16:11:58.273 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 16:11:58.274 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-03 16:11:58.277 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 16:11:58.281 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 16:11:58.282 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5412/a2a
2025-06-03 16:11:58.284 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 16:11:58.289 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 16:11:58.290 | INFO     | __main__:check_agent_availability:34 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-03 16:11:58.290 | INFO     | __main__:display_server_info:56 - ü§ñ Available A2A Agents:
2025-06-03 16:11:58.290 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-03 16:11:58.291 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5412/a2a
2025-06-03 16:11:58.291 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-03 16:11:58.291 | INFO     | __main__:display_server_info:65 - 
2025-06-03 16:11:58.291 | INFO     | __main__:display_server_info:66 - üí° API Documentation available at:
2025-06-03 16:11:58.292 | INFO     | __main__:display_server_info:67 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-03 16:11:58.293 | INFO     | __main__:display_server_info:68 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-03 16:11:58.293 | INFO     | __main__:display_server_info:69 - ======================================================================
2025-06-03 16:11:58.294 | INFO     | __main__:configure_uvicorn:150 - üîß Development mode: Hot-reloading enabled
2025-06-03 16:11:58.294 | INFO     | __main__:main_async:168 - üöÄ Starting Multi-Agent System Server...
2025-06-03 16:11:58.295 | INFO     | __main__:main_async:169 - Press Ctrl+C to stop the server
2025-06-03 16:11:58.343 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-03 16:11:58.344 | INFO     | server.orchestrator:initialize:34 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-03 16:11:58.344 | INFO     | server.orchestrator:initialize:40 - Found 3 agent configurations to process...
2025-06-03 16:11:58.344 | INFO     | server.orchestrator:initialize:43 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 16:11:58.345 | INFO     | server.orchestrator:initialize:50 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-03 16:11:58.345 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/.well-known/agent.json
2025-06-03 16:11:58.474 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5211/a2a/.well-known/agent.json, trying next endpoint
2025-06-03 16:11:58.474 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/a2a
2025-06-03 16:11:58.508 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5211/a2a/a2a, trying next endpoint
2025-06-03 16:11:58.508 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/agent-card
2025-06-03 16:11:58.539 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5211/a2a/agent-card, trying next endpoint
2025-06-03 16:11:58.539 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/info
2025-06-03 16:11:58.562 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5211/a2a/info, trying next endpoint
2025-06-03 16:11:58.562 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5211/a2a
2025-06-03 16:11:58.562 | WARNING  | server.orchestrator:initialize:80 - Could not discover AgentCard for weather_agent at http://127.0.0.1:5211/a2a. Trying fallback approach...
2025-06-03 16:11:58.564 | INFO     | server.orchestrator:_create_fallback_tool:152 - Creating fallback tool for weather_agent
2025-06-03 16:11:58.564 | INFO     | server.orchestrator:_create_fallback_tool:173 - Successfully created fallback tool for weather_agent
2025-06-03 16:11:58.565 | INFO     | server.orchestrator:initialize:43 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 16:11:58.566 | INFO     | server.orchestrator:initialize:50 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5412/a2a
2025-06-03 16:11:58.567 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/.well-known/agent.json
2025-06-03 16:11:58.663 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5412/a2a/.well-known/agent.json, trying next endpoint
2025-06-03 16:11:58.663 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/a2a
2025-06-03 16:11:58.694 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5412/a2a/a2a, trying next endpoint
2025-06-03 16:11:58.695 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/agent-card
2025-06-03 16:11:58.732 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5412/a2a/agent-card, trying next endpoint
2025-06-03 16:11:58.732 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/info
2025-06-03 16:11:58.761 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5412/a2a/info, trying next endpoint
2025-06-03 16:11:58.762 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5412/a2a
2025-06-03 16:11:58.762 | WARNING  | server.orchestrator:initialize:80 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5412/a2a. Trying fallback approach...
2025-06-03 16:11:58.764 | INFO     | server.orchestrator:_create_fallback_tool:152 - Creating fallback tool for web_search_agent
2025-06-03 16:11:58.769 | INFO     | server.orchestrator:_create_fallback_tool:173 - Successfully created fallback tool for web_search_agent
2025-06-03 16:11:58.769 | INFO     | server.orchestrator:initialize:43 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 16:11:58.770 | INFO     | server.orchestrator:initialize:50 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-03 16:11:58.770 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/.well-known/agent.json
2025-06-03 16:11:58.920 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5313/a2a/.well-known/agent.json, trying next endpoint
2025-06-03 16:11:58.920 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/a2a
2025-06-03 16:11:58.957 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5313/a2a/a2a, trying next endpoint
2025-06-03 16:11:58.957 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/agent-card
2025-06-03 16:11:58.996 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5313/a2a/agent-card, trying next endpoint
2025-06-03 16:11:58.997 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/info
2025-06-03 16:11:59.014 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5313/a2a/info, trying next endpoint
2025-06-03 16:11:59.014 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5313/a2a
2025-06-03 16:11:59.014 | WARNING  | server.orchestrator:initialize:80 - Could not discover AgentCard for news_agent at http://127.0.0.1:5313/a2a. Trying fallback approach...
2025-06-03 16:11:59.014 | INFO     | server.orchestrator:_create_fallback_tool:152 - Creating fallback tool for news_agent
2025-06-03 16:11:59.015 | INFO     | server.orchestrator:_create_fallback_tool:173 - Successfully created fallback tool for news_agent
2025-06-03 16:11:59.015 | INFO     | server.orchestrator:initialize:90 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-03 16:11:59.015 | INFO     | server.orchestrator:initialize:104 - Successfully initialized Perplexity LLM
2025-06-03 16:11:59.016 | INFO     | server.orchestrator:initialize:129 - Successfully created Orchestrator Agent with 3 tools
2025-06-03 16:11:59.016 | INFO     | server.orchestrator:initialize:141 - Successfully created Runner
2025-06-03 16:11:59.017 | INFO     | server.orchestrator:initialize:147 - OrchestratorAgent fully initialized and ready.
2025-06-03 16:11:59.018 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-03 16:11:59.018 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-03 16:11:59.018 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-03 16:11:59.019 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-03 16:11:59.019 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-03 16:11:59.019 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-03 16:11:59.020 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-03 16:18:54.032 | INFO     | server.agent_server:lifespan:50 - Agent Server shutting down...
2025-06-03 16:18:54.054 | INFO     | server.websocket_handler:disconnect_all:61 - All WebSocket connections disconnected.
2025-06-03 16:18:54.057 | INFO     | server.orchestrator:shutdown:207 - Shutting down OrchestratorAgent...
2025-06-03 16:18:54.071 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-03 16:18:54.071 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-03 16:18:54.072 | INFO     | server.agent_server:lifespan:57 - Agent Server shutdown complete.
2025-06-03 16:18:54.083 | INFO     | __main__:main_async:182 - üèÅ Server stopped
2025-06-03 16:18:54.101 | INFO     | __main__:main:189 - üõë Shutdown signal received
2025-06-03 16:19:14.869 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 16:19:14.871 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-03 16:19:14.873 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 16:19:14.876 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 16:19:14.879 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 16:19:14.879 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-03 16:19:14.879 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-03 16:19:14.880 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-03 16:19:14.880 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-03 16:19:14.880 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-03 16:19:14.881 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-03 16:19:14.882 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-03 16:19:14.882 | INFO     | __main__:display_server_info:48 - üìä Environment: development
2025-06-03 16:19:14.885 | INFO     | __main__:display_server_info:49 - üîß Debug Mode: True
2025-06-03 16:19:14.886 | INFO     | __main__:display_server_info:50 - 
2025-06-03 16:19:14.889 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 16:19:14.894 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 16:19:14.895 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-03 16:19:14.898 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 16:19:14.901 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 16:19:14.904 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5412/a2a
2025-06-03 16:19:14.909 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 16:19:14.915 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 16:19:14.918 | INFO     | __main__:check_agent_availability:34 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-03 16:19:14.920 | INFO     | __main__:display_server_info:56 - ü§ñ Available A2A Agents:
2025-06-03 16:19:14.921 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-03 16:19:14.922 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5412/a2a
2025-06-03 16:19:14.922 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-03 16:19:14.922 | INFO     | __main__:display_server_info:65 - 
2025-06-03 16:19:14.923 | INFO     | __main__:display_server_info:66 - üí° API Documentation available at:
2025-06-03 16:19:14.923 | INFO     | __main__:display_server_info:67 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-03 16:19:14.923 | INFO     | __main__:display_server_info:68 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-03 16:19:14.924 | INFO     | __main__:display_server_info:69 - ======================================================================
2025-06-03 16:19:14.927 | INFO     | __main__:configure_uvicorn:150 - üîß Development mode: Hot-reloading enabled
2025-06-03 16:19:14.928 | INFO     | __main__:main_async:168 - üöÄ Starting Multi-Agent System Server...
2025-06-03 16:19:14.929 | INFO     | __main__:main_async:169 - Press Ctrl+C to stop the server
2025-06-03 16:19:14.979 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-03 16:19:14.979 | INFO     | server.orchestrator:initialize:34 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-03 16:19:14.979 | INFO     | server.orchestrator:initialize:40 - Found 3 agent configurations to process...
2025-06-03 16:19:14.980 | INFO     | server.orchestrator:initialize:43 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 16:19:14.980 | INFO     | server.orchestrator:initialize:50 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-03 16:19:14.980 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/.well-known/agent.json
2025-06-03 16:19:15.118 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5211/a2a/.well-known/agent.json, trying next endpoint
2025-06-03 16:19:15.119 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/a2a
2025-06-03 16:19:15.170 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5211/a2a/a2a, trying next endpoint
2025-06-03 16:19:15.171 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/agent-card
2025-06-03 16:19:15.202 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5211/a2a/agent-card, trying next endpoint
2025-06-03 16:19:15.202 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/info
2025-06-03 16:19:15.227 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5211/a2a/info, trying next endpoint
2025-06-03 16:19:15.228 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5211/a2a
2025-06-03 16:19:15.228 | WARNING  | server.orchestrator:initialize:80 - Could not discover AgentCard for weather_agent at http://127.0.0.1:5211/a2a. Trying fallback approach...
2025-06-03 16:19:15.228 | INFO     | server.orchestrator:_create_fallback_tool:152 - Creating fallback tool for weather_agent
2025-06-03 16:19:15.229 | INFO     | server.orchestrator:_create_fallback_tool:173 - Successfully created fallback tool for weather_agent
2025-06-03 16:19:15.229 | INFO     | server.orchestrator:initialize:43 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 16:19:15.229 | INFO     | server.orchestrator:initialize:50 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5412/a2a
2025-06-03 16:19:15.230 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/.well-known/agent.json
2025-06-03 16:19:15.330 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5412/a2a/.well-known/agent.json, trying next endpoint
2025-06-03 16:19:15.330 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/a2a
2025-06-03 16:19:15.353 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5412/a2a/a2a, trying next endpoint
2025-06-03 16:19:15.354 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/agent-card
2025-06-03 16:19:15.373 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5412/a2a/agent-card, trying next endpoint
2025-06-03 16:19:15.373 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/info
2025-06-03 16:19:15.389 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5412/a2a/info, trying next endpoint
2025-06-03 16:19:15.390 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5412/a2a
2025-06-03 16:19:15.390 | WARNING  | server.orchestrator:initialize:80 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5412/a2a. Trying fallback approach...
2025-06-03 16:19:15.390 | INFO     | server.orchestrator:_create_fallback_tool:152 - Creating fallback tool for web_search_agent
2025-06-03 16:19:15.391 | INFO     | server.orchestrator:_create_fallback_tool:173 - Successfully created fallback tool for web_search_agent
2025-06-03 16:19:15.391 | INFO     | server.orchestrator:initialize:43 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 16:19:15.391 | INFO     | server.orchestrator:initialize:50 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-03 16:19:15.391 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/.well-known/agent.json
2025-06-03 16:19:15.502 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5313/a2a/.well-known/agent.json, trying next endpoint
2025-06-03 16:19:15.503 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/a2a
2025-06-03 16:19:15.546 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5313/a2a/a2a, trying next endpoint
2025-06-03 16:19:15.546 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/agent-card
2025-06-03 16:19:15.581 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5313/a2a/agent-card, trying next endpoint
2025-06-03 16:19:15.581 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/info
2025-06-03 16:19:15.605 | DEBUG    | protocols.a2a_protocol:discover_agent_card:78 - Invalid JSON response from http://127.0.0.1:5313/a2a/info, trying next endpoint
2025-06-03 16:19:15.605 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5313/a2a
2025-06-03 16:19:15.606 | WARNING  | server.orchestrator:initialize:80 - Could not discover AgentCard for news_agent at http://127.0.0.1:5313/a2a. Trying fallback approach...
2025-06-03 16:19:15.607 | INFO     | server.orchestrator:_create_fallback_tool:152 - Creating fallback tool for news_agent
2025-06-03 16:19:15.609 | INFO     | server.orchestrator:_create_fallback_tool:173 - Successfully created fallback tool for news_agent
2025-06-03 16:19:15.611 | INFO     | server.orchestrator:initialize:90 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-03 16:19:15.612 | INFO     | server.orchestrator:initialize:104 - Successfully initialized Perplexity LLM
2025-06-03 16:19:15.614 | INFO     | server.orchestrator:initialize:129 - Successfully created Orchestrator Agent with 3 tools
2025-06-03 16:19:15.614 | INFO     | server.orchestrator:initialize:141 - Successfully created Runner
2025-06-03 16:19:15.614 | INFO     | server.orchestrator:initialize:147 - OrchestratorAgent fully initialized and ready.
2025-06-03 16:19:15.615 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-03 16:19:15.615 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-03 16:19:15.615 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-03 16:19:15.616 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-03 16:19:15.618 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-03 16:19:15.620 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-03 16:19:15.620 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-03 17:06:44.346 | INFO     | __main__:main_async:177 - üõë Server shutdown requested
2025-06-03 17:06:44.438 | INFO     | __main__:main_async:182 - üèÅ Server stopped
2025-06-03 17:06:44.931 | INFO     | __main__:main:189 - üõë Shutdown signal received
2025-06-03 17:07:10.404 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 17:07:10.405 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-03 17:07:10.410 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 17:07:10.413 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 17:07:10.415 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 17:07:10.416 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-03 17:07:10.417 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-03 17:07:10.417 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-03 17:07:10.418 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-03 17:07:10.418 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-03 17:07:10.419 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-03 17:07:10.419 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-03 17:07:10.419 | INFO     | __main__:display_server_info:48 - üìä Environment: development
2025-06-03 17:07:10.420 | INFO     | __main__:display_server_info:49 - üîß Debug Mode: True
2025-06-03 17:07:10.420 | INFO     | __main__:display_server_info:50 - 
2025-06-03 17:07:10.423 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 17:07:10.428 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 17:07:10.429 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-03 17:07:10.434 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 17:07:10.437 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 17:07:10.437 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5412/a2a
2025-06-03 17:07:10.443 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 17:07:10.449 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 17:07:10.450 | INFO     | __main__:check_agent_availability:34 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-03 17:07:10.451 | INFO     | __main__:display_server_info:56 - ü§ñ Available A2A Agents:
2025-06-03 17:07:10.451 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-03 17:07:10.451 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5412/a2a
2025-06-03 17:07:10.452 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-03 17:07:10.452 | INFO     | __main__:display_server_info:65 - 
2025-06-03 17:07:10.452 | INFO     | __main__:display_server_info:66 - üí° API Documentation available at:
2025-06-03 17:07:10.453 | INFO     | __main__:display_server_info:67 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-03 17:07:10.453 | INFO     | __main__:display_server_info:68 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-03 17:07:10.453 | INFO     | __main__:display_server_info:69 - ======================================================================
2025-06-03 17:07:10.454 | INFO     | __main__:configure_uvicorn:150 - üîß Development mode: Hot-reloading enabled
2025-06-03 17:07:10.454 | INFO     | __main__:main_async:168 - üöÄ Starting Multi-Agent System Server...
2025-06-03 17:07:10.454 | INFO     | __main__:main_async:169 - Press Ctrl+C to stop the server
2025-06-03 17:07:10.508 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-03 17:07:10.509 | INFO     | server.orchestrator:initialize:34 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-03 17:07:10.509 | INFO     | server.orchestrator:initialize:40 - Found 3 agent configurations to process...
2025-06-03 17:07:10.509 | INFO     | server.orchestrator:initialize:43 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 17:07:10.510 | INFO     | server.orchestrator:initialize:50 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-03 17:07:10.511 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/.well-known/agent.json
2025-06-03 17:07:10.535 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/a2a
2025-06-03 17:07:10.551 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/agent-card
2025-06-03 17:07:10.559 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/info
2025-06-03 17:07:10.570 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5211/a2a
2025-06-03 17:07:10.570 | WARNING  | server.orchestrator:initialize:80 - Could not discover AgentCard for weather_agent at http://127.0.0.1:5211/a2a. Trying fallback approach...
2025-06-03 17:07:10.570 | INFO     | server.orchestrator:_create_fallback_tool:152 - Creating fallback tool for weather_agent
2025-06-03 17:07:10.571 | INFO     | server.orchestrator:_create_fallback_tool:173 - Successfully created fallback tool for weather_agent
2025-06-03 17:07:10.571 | INFO     | server.orchestrator:initialize:43 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 17:07:10.571 | INFO     | server.orchestrator:initialize:50 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5412/a2a
2025-06-03 17:07:10.572 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/.well-known/agent.json
2025-06-03 17:07:10.581 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/a2a
2025-06-03 17:07:10.587 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/agent-card
2025-06-03 17:07:10.597 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/info
2025-06-03 17:07:10.603 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5412/a2a
2025-06-03 17:07:10.604 | WARNING  | server.orchestrator:initialize:80 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5412/a2a. Trying fallback approach...
2025-06-03 17:07:10.605 | INFO     | server.orchestrator:_create_fallback_tool:152 - Creating fallback tool for web_search_agent
2025-06-03 17:07:10.606 | INFO     | server.orchestrator:_create_fallback_tool:173 - Successfully created fallback tool for web_search_agent
2025-06-03 17:07:10.606 | INFO     | server.orchestrator:initialize:43 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 17:07:10.609 | INFO     | server.orchestrator:initialize:50 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-03 17:07:10.611 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/.well-known/agent.json
2025-06-03 17:07:10.619 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/a2a
2025-06-03 17:07:10.630 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/agent-card
2025-06-03 17:07:10.637 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/info
2025-06-03 17:07:10.647 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5313/a2a
2025-06-03 17:07:10.648 | WARNING  | server.orchestrator:initialize:80 - Could not discover AgentCard for news_agent at http://127.0.0.1:5313/a2a. Trying fallback approach...
2025-06-03 17:07:10.649 | INFO     | server.orchestrator:_create_fallback_tool:152 - Creating fallback tool for news_agent
2025-06-03 17:07:10.649 | INFO     | server.orchestrator:_create_fallback_tool:173 - Successfully created fallback tool for news_agent
2025-06-03 17:07:10.649 | INFO     | server.orchestrator:initialize:90 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-03 17:07:10.650 | INFO     | server.orchestrator:initialize:104 - Successfully initialized Perplexity LLM
2025-06-03 17:07:10.650 | INFO     | server.orchestrator:initialize:129 - Successfully created Orchestrator Agent with 3 tools
2025-06-03 17:07:10.651 | INFO     | server.orchestrator:initialize:141 - Successfully created Runner
2025-06-03 17:07:10.651 | INFO     | server.orchestrator:initialize:147 - OrchestratorAgent fully initialized and ready.
2025-06-03 17:07:10.651 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-03 17:07:10.652 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-03 17:07:10.653 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-03 17:07:10.654 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-03 17:07:10.654 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-03 17:07:10.655 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-03 17:07:10.656 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-03 17:21:19.439 | INFO     | server.agent_server:lifespan:50 - Agent Server shutting down...
2025-06-03 17:21:19.463 | INFO     | server.websocket_handler:disconnect_all:61 - All WebSocket connections disconnected.
2025-06-03 17:21:19.465 | INFO     | server.orchestrator:shutdown:207 - Shutting down OrchestratorAgent...
2025-06-03 17:21:19.488 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-03 17:21:19.488 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-03 17:21:19.495 | INFO     | server.agent_server:lifespan:57 - Agent Server shutdown complete.
2025-06-03 17:21:19.510 | INFO     | __main__:main_async:182 - üèÅ Server stopped
2025-06-03 17:21:19.524 | INFO     | __main__:main:189 - üõë Shutdown signal received
2025-06-03 17:21:40.849 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 17:21:40.850 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-03 17:21:40.854 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 17:21:40.859 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 17:21:40.862 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 17:21:40.862 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-03 17:21:40.863 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-03 17:21:40.863 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-03 17:21:40.863 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-03 17:21:40.864 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-03 17:21:40.865 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-03 17:21:40.866 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-03 17:21:40.867 | INFO     | __main__:display_server_info:48 - üìä Environment: development
2025-06-03 17:21:40.868 | INFO     | __main__:display_server_info:49 - üîß Debug Mode: True
2025-06-03 17:21:40.868 | INFO     | __main__:display_server_info:50 - 
2025-06-03 17:21:40.874 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 17:21:40.877 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 17:21:40.877 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-03 17:21:40.880 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 17:21:40.883 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 17:21:40.883 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5412/a2a
2025-06-03 17:21:40.886 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 17:21:40.893 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 17:21:40.893 | INFO     | __main__:check_agent_availability:34 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-03 17:21:40.894 | INFO     | __main__:display_server_info:56 - ü§ñ Available A2A Agents:
2025-06-03 17:21:40.894 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-03 17:21:40.895 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5412/a2a
2025-06-03 17:21:40.895 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-03 17:21:40.895 | INFO     | __main__:display_server_info:65 - 
2025-06-03 17:21:40.896 | INFO     | __main__:display_server_info:66 - üí° API Documentation available at:
2025-06-03 17:21:40.896 | INFO     | __main__:display_server_info:67 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-03 17:21:40.896 | INFO     | __main__:display_server_info:68 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-03 17:21:40.897 | INFO     | __main__:display_server_info:69 - ======================================================================
2025-06-03 17:21:40.897 | INFO     | __main__:configure_uvicorn:150 - üîß Development mode: Hot-reloading enabled
2025-06-03 17:21:40.897 | INFO     | __main__:main_async:168 - üöÄ Starting Multi-Agent System Server...
2025-06-03 17:21:40.898 | INFO     | __main__:main_async:169 - Press Ctrl+C to stop the server
2025-06-03 17:21:40.950 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-03 17:21:40.951 | INFO     | server.orchestrator:initialize:34 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-03 17:21:40.951 | INFO     | server.orchestrator:initialize:40 - Found 3 agent configurations to process...
2025-06-03 17:21:40.952 | INFO     | server.orchestrator:initialize:43 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 17:21:40.952 | INFO     | server.orchestrator:initialize:50 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-03 17:21:40.952 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/.well-known/agent.json
2025-06-03 17:21:40.976 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/a2a
2025-06-03 17:21:40.985 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/agent-card
2025-06-03 17:21:40.997 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/info
2025-06-03 17:21:41.002 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5211/a2a
2025-06-03 17:21:41.003 | WARNING  | server.orchestrator:initialize:80 - Could not discover AgentCard for weather_agent at http://127.0.0.1:5211/a2a. Trying fallback approach...
2025-06-03 17:21:41.007 | INFO     | server.orchestrator:_create_fallback_tool:152 - Creating fallback tool for weather_agent
2025-06-03 17:21:41.010 | INFO     | server.orchestrator:_create_fallback_tool:173 - Successfully created fallback tool for weather_agent
2025-06-03 17:21:41.011 | INFO     | server.orchestrator:initialize:43 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 17:21:41.012 | INFO     | server.orchestrator:initialize:50 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5412/a2a
2025-06-03 17:21:41.012 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/.well-known/agent.json
2025-06-03 17:21:41.018 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/a2a
2025-06-03 17:21:41.028 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/agent-card
2025-06-03 17:21:41.033 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/info
2025-06-03 17:21:41.042 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5412/a2a
2025-06-03 17:21:41.043 | WARNING  | server.orchestrator:initialize:80 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5412/a2a. Trying fallback approach...
2025-06-03 17:21:41.044 | INFO     | server.orchestrator:_create_fallback_tool:152 - Creating fallback tool for web_search_agent
2025-06-03 17:21:41.045 | INFO     | server.orchestrator:_create_fallback_tool:173 - Successfully created fallback tool for web_search_agent
2025-06-03 17:21:41.045 | INFO     | server.orchestrator:initialize:43 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 17:21:41.045 | INFO     | server.orchestrator:initialize:50 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-03 17:21:41.045 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/.well-known/agent.json
2025-06-03 17:21:41.053 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/a2a
2025-06-03 17:21:41.063 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/agent-card
2025-06-03 17:21:41.071 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/info
2025-06-03 17:21:41.080 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5313/a2a
2025-06-03 17:21:41.080 | WARNING  | server.orchestrator:initialize:80 - Could not discover AgentCard for news_agent at http://127.0.0.1:5313/a2a. Trying fallback approach...
2025-06-03 17:21:41.081 | INFO     | server.orchestrator:_create_fallback_tool:152 - Creating fallback tool for news_agent
2025-06-03 17:21:41.081 | INFO     | server.orchestrator:_create_fallback_tool:173 - Successfully created fallback tool for news_agent
2025-06-03 17:21:41.081 | INFO     | server.orchestrator:initialize:90 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-03 17:21:41.082 | INFO     | server.orchestrator:initialize:104 - Successfully initialized Perplexity LLM
2025-06-03 17:21:41.082 | INFO     | server.orchestrator:initialize:129 - Successfully created Orchestrator Agent with 3 tools
2025-06-03 17:21:41.083 | INFO     | server.orchestrator:initialize:141 - Successfully created Runner
2025-06-03 17:21:41.083 | INFO     | server.orchestrator:initialize:147 - OrchestratorAgent fully initialized and ready.
2025-06-03 17:21:41.084 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-03 17:21:41.085 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-03 17:21:41.086 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-03 17:21:41.086 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-03 17:21:41.086 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-03 17:21:41.087 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-03 17:21:41.087 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-03 17:33:11.913 | INFO     | server.agent_server:lifespan:50 - Agent Server shutting down...
2025-06-03 17:33:11.943 | INFO     | server.websocket_handler:disconnect_all:61 - All WebSocket connections disconnected.
2025-06-03 17:33:11.945 | INFO     | server.orchestrator:shutdown:207 - Shutting down OrchestratorAgent...
2025-06-03 17:33:11.962 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-03 17:33:11.963 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-03 17:33:11.963 | INFO     | server.agent_server:lifespan:57 - Agent Server shutdown complete.
2025-06-03 17:33:11.982 | INFO     | __main__:main_async:182 - üèÅ Server stopped
2025-06-03 17:33:11.999 | INFO     | __main__:main:189 - üõë Shutdown signal received
2025-06-03 17:33:37.302 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 17:33:37.303 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-03 17:33:37.306 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 17:33:37.312 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 17:33:37.315 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 17:33:37.316 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-03 17:33:37.316 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-03 17:33:37.316 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-03 17:33:37.316 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-03 17:33:37.317 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-03 17:33:37.317 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-03 17:33:37.317 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-03 17:33:37.318 | INFO     | __main__:display_server_info:48 - üìä Environment: development
2025-06-03 17:33:37.319 | INFO     | __main__:display_server_info:49 - üîß Debug Mode: True
2025-06-03 17:33:37.319 | INFO     | __main__:display_server_info:50 - 
2025-06-03 17:33:37.321 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 17:33:37.328 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 17:33:37.329 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-03 17:33:37.332 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 17:33:37.334 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 17:33:37.336 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5412/a2a
2025-06-03 17:33:37.338 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 17:33:37.346 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 17:33:37.346 | INFO     | __main__:check_agent_availability:34 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-03 17:33:37.347 | INFO     | __main__:display_server_info:56 - ü§ñ Available A2A Agents:
2025-06-03 17:33:37.350 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-03 17:33:37.350 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5412/a2a
2025-06-03 17:33:37.351 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-03 17:33:37.353 | INFO     | __main__:display_server_info:65 - 
2025-06-03 17:33:37.353 | INFO     | __main__:display_server_info:66 - üí° API Documentation available at:
2025-06-03 17:33:37.354 | INFO     | __main__:display_server_info:67 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-03 17:33:37.354 | INFO     | __main__:display_server_info:68 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-03 17:33:37.354 | INFO     | __main__:display_server_info:69 - ======================================================================
2025-06-03 17:33:37.355 | INFO     | __main__:configure_uvicorn:150 - üîß Development mode: Hot-reloading enabled
2025-06-03 17:33:37.357 | INFO     | __main__:main_async:168 - üöÄ Starting Multi-Agent System Server...
2025-06-03 17:33:37.360 | INFO     | __main__:main_async:169 - Press Ctrl+C to stop the server
2025-06-03 17:33:37.413 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-03 17:33:37.414 | INFO     | server.orchestrator:initialize:34 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-03 17:33:37.414 | INFO     | server.orchestrator:initialize:40 - Found 3 agent configurations to process...
2025-06-03 17:33:37.414 | INFO     | server.orchestrator:initialize:43 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 17:33:37.415 | INFO     | server.orchestrator:initialize:50 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-03 17:33:37.415 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/.well-known/agent.json
2025-06-03 17:33:37.437 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/a2a
2025-06-03 17:33:37.446 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/agent-card
2025-06-03 17:33:37.453 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/info
2025-06-03 17:33:37.460 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5211/a2a
2025-06-03 17:33:37.461 | WARNING  | server.orchestrator:initialize:80 - Could not discover AgentCard for weather_agent at http://127.0.0.1:5211/a2a. Trying fallback approach...
2025-06-03 17:33:37.461 | INFO     | server.orchestrator:_create_fallback_tool:152 - Creating fallback tool for weather_agent
2025-06-03 17:33:37.461 | INFO     | server.orchestrator:_create_fallback_tool:173 - Successfully created fallback tool for weather_agent
2025-06-03 17:33:37.462 | INFO     | server.orchestrator:initialize:43 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 17:33:37.462 | INFO     | server.orchestrator:initialize:50 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5412/a2a
2025-06-03 17:33:37.462 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/.well-known/agent.json
2025-06-03 17:33:37.549 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/a2a
2025-06-03 17:33:37.599 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/agent-card
2025-06-03 17:33:37.609 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/info
2025-06-03 17:33:37.620 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5412/a2a
2025-06-03 17:33:37.621 | WARNING  | server.orchestrator:initialize:80 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5412/a2a. Trying fallback approach...
2025-06-03 17:33:37.621 | INFO     | server.orchestrator:_create_fallback_tool:152 - Creating fallback tool for web_search_agent
2025-06-03 17:33:37.622 | INFO     | server.orchestrator:_create_fallback_tool:173 - Successfully created fallback tool for web_search_agent
2025-06-03 17:33:37.623 | INFO     | server.orchestrator:initialize:43 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 17:33:37.623 | INFO     | server.orchestrator:initialize:50 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-03 17:33:37.624 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/.well-known/agent.json
2025-06-03 17:33:37.701 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/a2a
2025-06-03 17:33:37.715 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/agent-card
2025-06-03 17:33:37.729 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/info
2025-06-03 17:33:37.768 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5313/a2a
2025-06-03 17:33:37.769 | WARNING  | server.orchestrator:initialize:80 - Could not discover AgentCard for news_agent at http://127.0.0.1:5313/a2a. Trying fallback approach...
2025-06-03 17:33:37.770 | INFO     | server.orchestrator:_create_fallback_tool:152 - Creating fallback tool for news_agent
2025-06-03 17:33:37.770 | INFO     | server.orchestrator:_create_fallback_tool:173 - Successfully created fallback tool for news_agent
2025-06-03 17:33:37.770 | INFO     | server.orchestrator:initialize:90 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-03 17:33:37.771 | INFO     | server.orchestrator:initialize:104 - Successfully initialized Perplexity LLM
2025-06-03 17:33:37.771 | INFO     | server.orchestrator:initialize:129 - Successfully created Orchestrator Agent with 3 tools
2025-06-03 17:33:37.772 | INFO     | server.orchestrator:initialize:141 - Successfully created Runner
2025-06-03 17:33:37.773 | INFO     | server.orchestrator:initialize:147 - OrchestratorAgent fully initialized and ready.
2025-06-03 17:33:37.773 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-03 17:33:37.775 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-03 17:33:37.775 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-03 17:33:37.776 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-03 17:33:37.776 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-03 17:33:37.776 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-03 17:33:37.777 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-03 17:41:21.360 | INFO     | server.agent_server:lifespan:50 - Agent Server shutting down...
2025-06-03 17:41:21.376 | INFO     | server.websocket_handler:disconnect_all:61 - All WebSocket connections disconnected.
2025-06-03 17:41:21.380 | INFO     | server.orchestrator:shutdown:207 - Shutting down OrchestratorAgent...
2025-06-03 17:41:21.400 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-03 17:41:21.401 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-03 17:41:21.402 | INFO     | server.agent_server:lifespan:57 - Agent Server shutdown complete.
2025-06-03 17:41:21.417 | INFO     | __main__:main_async:182 - üèÅ Server stopped
2025-06-03 17:41:21.430 | INFO     | __main__:main:189 - üõë Shutdown signal received
2025-06-03 17:41:44.301 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 17:41:44.301 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-03 17:41:44.304 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 17:41:44.307 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 17:41:44.309 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 17:41:44.310 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-03 17:41:44.310 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-03 17:41:44.310 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-03 17:41:44.311 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-03 17:41:44.312 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-03 17:41:44.315 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-03 17:41:44.317 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-03 17:41:44.317 | INFO     | __main__:display_server_info:48 - üìä Environment: development
2025-06-03 17:41:44.318 | INFO     | __main__:display_server_info:49 - üîß Debug Mode: True
2025-06-03 17:41:44.318 | INFO     | __main__:display_server_info:50 - 
2025-06-03 17:41:44.320 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 17:41:44.323 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 17:41:44.324 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-03 17:41:44.326 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 17:41:44.342 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 17:41:44.342 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5412/a2a
2025-06-03 17:41:44.350 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 17:41:44.356 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 17:41:44.357 | INFO     | __main__:check_agent_availability:34 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-03 17:41:44.357 | INFO     | __main__:display_server_info:56 - ü§ñ Available A2A Agents:
2025-06-03 17:41:44.357 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-03 17:41:44.358 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5412/a2a
2025-06-03 17:41:44.358 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-03 17:41:44.358 | INFO     | __main__:display_server_info:65 - 
2025-06-03 17:41:44.359 | INFO     | __main__:display_server_info:66 - üí° API Documentation available at:
2025-06-03 17:41:44.359 | INFO     | __main__:display_server_info:67 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-03 17:41:44.359 | INFO     | __main__:display_server_info:68 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-03 17:41:44.360 | INFO     | __main__:display_server_info:69 - ======================================================================
2025-06-03 17:41:44.360 | INFO     | __main__:configure_uvicorn:150 - üîß Development mode: Hot-reloading enabled
2025-06-03 17:41:44.360 | INFO     | __main__:main_async:168 - üöÄ Starting Multi-Agent System Server...
2025-06-03 17:41:44.361 | INFO     | __main__:main_async:169 - Press Ctrl+C to stop the server
2025-06-03 17:41:44.405 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-03 17:41:44.406 | INFO     | server.orchestrator:initialize:34 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-03 17:41:44.406 | INFO     | server.orchestrator:initialize:40 - Found 3 agent configurations to process...
2025-06-03 17:41:44.406 | INFO     | server.orchestrator:initialize:43 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 17:41:44.407 | INFO     | server.orchestrator:initialize:50 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-03 17:41:44.407 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/.well-known/agent.json
2025-06-03 17:41:44.423 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/a2a
2025-06-03 17:41:44.434 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/agent-card
2025-06-03 17:41:44.439 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5211/a2a/info
2025-06-03 17:41:44.444 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5211/a2a
2025-06-03 17:41:44.444 | WARNING  | server.orchestrator:initialize:80 - Could not discover AgentCard for weather_agent at http://127.0.0.1:5211/a2a. Trying fallback approach...
2025-06-03 17:41:44.449 | INFO     | server.orchestrator:_create_fallback_tool:152 - Creating fallback tool for weather_agent
2025-06-03 17:41:44.449 | INFO     | server.orchestrator:_create_fallback_tool:173 - Successfully created fallback tool for weather_agent
2025-06-03 17:41:44.450 | INFO     | server.orchestrator:initialize:43 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 17:41:44.450 | INFO     | server.orchestrator:initialize:50 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5412/a2a
2025-06-03 17:41:44.450 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/.well-known/agent.json
2025-06-03 17:41:44.503 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/a2a
2025-06-03 17:41:44.516 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/agent-card
2025-06-03 17:41:44.522 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5412/a2a/info
2025-06-03 17:41:44.530 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5412/a2a
2025-06-03 17:41:44.533 | WARNING  | server.orchestrator:initialize:80 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5412/a2a. Trying fallback approach...
2025-06-03 17:41:44.533 | INFO     | server.orchestrator:_create_fallback_tool:152 - Creating fallback tool for web_search_agent
2025-06-03 17:41:44.534 | INFO     | server.orchestrator:_create_fallback_tool:173 - Successfully created fallback tool for web_search_agent
2025-06-03 17:41:44.534 | INFO     | server.orchestrator:initialize:43 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 17:41:44.535 | INFO     | server.orchestrator:initialize:50 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-03 17:41:44.535 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/.well-known/agent.json
2025-06-03 17:41:44.592 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/a2a
2025-06-03 17:41:44.605 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/agent-card
2025-06-03 17:41:44.612 | DEBUG    | protocols.a2a_protocol:discover_agent_card:52 - Attempting agent discovery at: http://127.0.0.1:5313/a2a/info
2025-06-03 17:41:44.621 | WARNING  | protocols.a2a_protocol:discover_agent_card:87 - Could not discover agent card at any endpoint for http://127.0.0.1:5313/a2a
2025-06-03 17:41:44.622 | WARNING  | server.orchestrator:initialize:80 - Could not discover AgentCard for news_agent at http://127.0.0.1:5313/a2a. Trying fallback approach...
2025-06-03 17:41:44.623 | INFO     | server.orchestrator:_create_fallback_tool:152 - Creating fallback tool for news_agent
2025-06-03 17:41:44.623 | INFO     | server.orchestrator:_create_fallback_tool:173 - Successfully created fallback tool for news_agent
2025-06-03 17:41:44.624 | INFO     | server.orchestrator:initialize:90 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-03 17:41:44.624 | INFO     | server.orchestrator:initialize:104 - Successfully initialized Perplexity LLM
2025-06-03 17:41:44.625 | INFO     | server.orchestrator:initialize:129 - Successfully created Orchestrator Agent with 3 tools
2025-06-03 17:41:44.625 | INFO     | server.orchestrator:initialize:141 - Successfully created Runner
2025-06-03 17:41:44.626 | INFO     | server.orchestrator:initialize:147 - OrchestratorAgent fully initialized and ready.
2025-06-03 17:41:44.626 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-03 17:41:44.627 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-03 17:41:44.627 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-03 17:41:44.627 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-03 17:41:44.628 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-03 17:41:44.628 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-03 17:41:44.629 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-03 22:14:14.317 | INFO     | server.agent_server:lifespan:50 - Agent Server shutting down...
2025-06-03 22:14:14.333 | INFO     | server.websocket_handler:disconnect_all:61 - All WebSocket connections disconnected.
2025-06-03 22:14:14.336 | INFO     | server.orchestrator:shutdown:207 - Shutting down OrchestratorAgent...
2025-06-03 22:14:14.350 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-03 22:14:14.351 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-03 22:14:14.352 | INFO     | server.agent_server:lifespan:57 - Agent Server shutdown complete.
2025-06-03 22:14:14.368 | INFO     | __main__:main_async:182 - üèÅ Server stopped
2025-06-03 22:14:14.382 | INFO     | __main__:main:189 - üõë Shutdown signal received
2025-06-03 22:14:34.793 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 22:14:34.794 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-03 22:14:34.796 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 22:14:34.798 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 22:14:34.803 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 22:14:34.804 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-03 22:14:34.804 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-03 22:14:34.805 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-03 22:14:34.805 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-03 22:14:34.805 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-03 22:14:34.805 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-03 22:14:34.806 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-03 22:14:34.806 | INFO     | __main__:display_server_info:48 - üìä Environment: development
2025-06-03 22:14:34.806 | INFO     | __main__:display_server_info:49 - üîß Debug Mode: True
2025-06-03 22:14:34.807 | INFO     | __main__:display_server_info:50 - 
2025-06-03 22:14:34.809 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 22:14:34.811 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 22:14:34.812 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-03 22:14:34.814 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 22:14:34.819 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 22:14:34.819 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5412/a2a
2025-06-03 22:14:34.822 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 22:14:34.825 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 22:14:34.826 | INFO     | __main__:check_agent_availability:34 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-03 22:14:34.827 | INFO     | __main__:display_server_info:56 - ü§ñ Available A2A Agents:
2025-06-03 22:14:34.827 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-03 22:14:34.828 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5412/a2a
2025-06-03 22:14:34.828 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-03 22:14:34.828 | INFO     | __main__:display_server_info:65 - 
2025-06-03 22:14:34.829 | INFO     | __main__:display_server_info:66 - üí° API Documentation available at:
2025-06-03 22:14:34.829 | INFO     | __main__:display_server_info:67 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-03 22:14:34.829 | INFO     | __main__:display_server_info:68 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-03 22:14:34.830 | INFO     | __main__:display_server_info:69 - ======================================================================
2025-06-03 22:14:34.830 | INFO     | __main__:configure_uvicorn:150 - üîß Development mode: Hot-reloading enabled
2025-06-03 22:14:34.830 | INFO     | __main__:main_async:168 - üöÄ Starting Multi-Agent System Server...
2025-06-03 22:14:34.831 | INFO     | __main__:main_async:169 - Press Ctrl+C to stop the server
2025-06-03 22:14:34.875 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-03 22:14:34.876 | INFO     | server.orchestrator:initialize:35 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-03 22:14:34.876 | INFO     | server.orchestrator:initialize:41 - Found 3 agent configurations to process...
2025-06-03 22:14:34.876 | INFO     | server.orchestrator:initialize:44 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 22:14:34.877 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-03 22:14:34.877 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for weather_agent
2025-06-03 22:14:35.186 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5211/.well-known/agent.json
2025-06-03 22:14:35.198 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for weather_agent at http://127.0.0.1:5211/.well-known/agent.json
2025-06-03 22:14:35.199 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for weather_agent
2025-06-03 22:14:35.199 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for weather_agent
2025-06-03 22:14:35.199 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Weather Agent (weather_agent) at http://127.0.0.1:5211/a2a
2025-06-03 22:14:35.199 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for weather_agent
2025-06-03 22:14:35.200 | INFO     | server.orchestrator:initialize:44 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 22:14:35.200 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5412/a2a
2025-06-03 22:14:35.201 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for web_search_agent
2025-06-03 22:14:35.484 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:541/.well-known/agent.json
2025-06-03 22:14:37.499 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:541/.well-known/agent.json: All connection attempts failed
2025-06-03 22:14:37.499 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:541/agent-card
2025-06-03 22:14:39.533 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:541/agent-card: All connection attempts failed
2025-06-03 22:14:39.534 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:541/info
2025-06-03 22:14:41.563 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:541/info: All connection attempts failed
2025-06-03 22:14:41.564 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:541/a2a
2025-06-03 22:14:43.594 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:541/a2a: All connection attempts failed
2025-06-03 22:14:43.595 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:541/
2025-06-03 22:14:45.631 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:541/: All connection attempts failed
2025-06-03 22:14:45.631 | WARNING  | server.orchestrator:_discover_agent_card_robust:190 - Could not discover agent card at any endpoint for web_search_agent
2025-06-03 22:14:45.632 | WARNING  | server.orchestrator:initialize:81 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5412/a2a. Trying fallback approach...
2025-06-03 22:14:45.633 | INFO     | server.orchestrator:_create_fallback_tool:281 - Creating fallback tool for web_search_agent
2025-06-03 22:14:45.633 | INFO     | server.orchestrator:_create_fallback_tool:313 - Successfully created fallback tool for web_search_agent
2025-06-03 22:14:45.634 | INFO     | server.orchestrator:initialize:44 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 22:14:45.635 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-03 22:14:45.636 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for news_agent
2025-06-03 22:14:45.954 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5313/.well-known/agent.json
2025-06-03 22:14:46.012 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for news_agent at http://127.0.0.1:5313/.well-known/agent.json
2025-06-03 22:14:46.012 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for news_agent
2025-06-03 22:14:46.013 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for news_agent
2025-06-03 22:14:46.013 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: News Agent (news_agent) at http://127.0.0.1:5313/a2a
2025-06-03 22:14:46.013 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for news_agent
2025-06-03 22:14:46.014 | INFO     | server.orchestrator:initialize:91 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-03 22:14:46.015 | INFO     | server.orchestrator:initialize:105 - Successfully initialized Perplexity LLM
2025-06-03 22:14:46.016 | INFO     | server.orchestrator:initialize:130 - Successfully created Orchestrator Agent with 3 tools
2025-06-03 22:14:46.016 | INFO     | server.orchestrator:initialize:142 - Successfully created Runner
2025-06-03 22:14:46.019 | INFO     | server.orchestrator:initialize:148 - OrchestratorAgent fully initialized and ready.
2025-06-03 22:14:46.019 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-03 22:14:46.020 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-03 22:14:46.020 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-03 22:14:46.020 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-03 22:14:46.021 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-03 22:14:46.021 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-03 22:14:46.021 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-03 22:15:03.449 | INFO     | server.agent_server:lifespan:50 - Agent Server shutting down...
2025-06-03 22:15:03.450 | INFO     | server.websocket_handler:disconnect_all:61 - All WebSocket connections disconnected.
2025-06-03 22:15:03.451 | INFO     | server.orchestrator:shutdown:347 - Shutting down OrchestratorAgent...
2025-06-03 22:15:03.452 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-03 22:15:03.452 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-03 22:15:03.453 | INFO     | server.agent_server:lifespan:57 - Agent Server shutdown complete.
2025-06-03 22:15:03.455 | INFO     | __main__:main_async:182 - üèÅ Server stopped
2025-06-03 22:15:03.457 | INFO     | __main__:main:189 - üõë Shutdown signal received
2025-06-03 22:18:19.051 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 22:18:19.052 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-03 22:18:19.055 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 22:18:19.058 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 22:18:19.061 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 22:18:19.061 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-03 22:18:19.062 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-03 22:18:19.062 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-03 22:18:19.062 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-03 22:18:19.063 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-03 22:18:19.063 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-03 22:18:19.065 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-03 22:18:19.066 | INFO     | __main__:display_server_info:48 - üìä Environment: development
2025-06-03 22:18:19.066 | INFO     | __main__:display_server_info:49 - üîß Debug Mode: True
2025-06-03 22:18:19.067 | INFO     | __main__:display_server_info:50 - 
2025-06-03 22:18:19.069 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 22:18:19.071 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 22:18:19.071 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-03 22:18:19.073 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 22:18:19.075 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 22:18:19.076 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5412/a2a
2025-06-03 22:18:19.078 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 22:18:19.081 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 22:18:19.082 | INFO     | __main__:check_agent_availability:34 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-03 22:18:19.082 | INFO     | __main__:display_server_info:56 - ü§ñ Available A2A Agents:
2025-06-03 22:18:19.083 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-03 22:18:19.083 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5412/a2a
2025-06-03 22:18:19.083 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-03 22:18:19.084 | INFO     | __main__:display_server_info:65 - 
2025-06-03 22:18:19.084 | INFO     | __main__:display_server_info:66 - üí° API Documentation available at:
2025-06-03 22:18:19.084 | INFO     | __main__:display_server_info:67 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-03 22:18:19.084 | INFO     | __main__:display_server_info:68 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-03 22:18:19.085 | INFO     | __main__:display_server_info:69 - ======================================================================
2025-06-03 22:18:19.085 | INFO     | __main__:configure_uvicorn:150 - üîß Development mode: Hot-reloading enabled
2025-06-03 22:18:19.085 | INFO     | __main__:main_async:168 - üöÄ Starting Multi-Agent System Server...
2025-06-03 22:18:19.085 | INFO     | __main__:main_async:169 - Press Ctrl+C to stop the server
2025-06-03 22:18:19.123 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-03 22:18:19.123 | INFO     | server.orchestrator:initialize:35 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-03 22:18:19.124 | INFO     | server.orchestrator:initialize:41 - Found 3 agent configurations to process...
2025-06-03 22:18:19.124 | INFO     | server.orchestrator:initialize:44 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 22:18:19.124 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-03 22:18:19.125 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for weather_agent
2025-06-03 22:18:19.412 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5211/.well-known/agent.json
2025-06-03 22:18:19.452 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for weather_agent at http://127.0.0.1:5211/.well-known/agent.json
2025-06-03 22:18:19.452 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for weather_agent
2025-06-03 22:18:19.453 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for weather_agent
2025-06-03 22:18:19.453 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Weather Agent (weather_agent) at http://127.0.0.1:5211/a2a
2025-06-03 22:18:19.453 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for weather_agent
2025-06-03 22:18:19.454 | INFO     | server.orchestrator:initialize:44 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5412/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 22:18:19.454 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5412/a2a
2025-06-03 22:18:19.454 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for web_search_agent
2025-06-03 22:18:19.775 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:541/.well-known/agent.json
2025-06-03 22:18:21.808 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:541/.well-known/agent.json: All connection attempts failed
2025-06-03 22:18:21.808 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:541/agent-card
2025-06-03 22:18:23.830 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:541/agent-card: All connection attempts failed
2025-06-03 22:18:23.831 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:541/info
2025-06-03 22:18:25.853 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:541/info: All connection attempts failed
2025-06-03 22:18:25.853 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:541/a2a
2025-06-03 22:18:27.889 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:541/a2a: All connection attempts failed
2025-06-03 22:18:27.889 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:541/
2025-06-03 22:18:29.915 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:541/: All connection attempts failed
2025-06-03 22:18:29.916 | WARNING  | server.orchestrator:_discover_agent_card_robust:190 - Could not discover agent card at any endpoint for web_search_agent
2025-06-03 22:18:29.916 | WARNING  | server.orchestrator:initialize:81 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5412/a2a. Trying fallback approach...
2025-06-03 22:18:29.917 | INFO     | server.orchestrator:_create_fallback_tool:281 - Creating fallback tool for web_search_agent
2025-06-03 22:18:29.918 | INFO     | server.orchestrator:_create_fallback_tool:313 - Successfully created fallback tool for web_search_agent
2025-06-03 22:18:29.918 | INFO     | server.orchestrator:initialize:44 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 22:18:29.919 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-03 22:18:29.920 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for news_agent
2025-06-03 22:18:30.233 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5313/.well-known/agent.json
2025-06-03 22:18:30.238 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for news_agent at http://127.0.0.1:5313/.well-known/agent.json
2025-06-03 22:18:30.239 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for news_agent
2025-06-03 22:18:30.239 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for news_agent
2025-06-03 22:18:30.240 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: News Agent (news_agent) at http://127.0.0.1:5313/a2a
2025-06-03 22:18:30.240 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for news_agent
2025-06-03 22:18:30.240 | INFO     | server.orchestrator:initialize:91 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-03 22:18:30.240 | INFO     | server.orchestrator:initialize:105 - Successfully initialized Perplexity LLM
2025-06-03 22:18:30.241 | INFO     | server.orchestrator:initialize:130 - Successfully created Orchestrator Agent with 3 tools
2025-06-03 22:18:30.242 | INFO     | server.orchestrator:initialize:142 - Successfully created Runner
2025-06-03 22:18:30.243 | INFO     | server.orchestrator:initialize:148 - OrchestratorAgent fully initialized and ready.
2025-06-03 22:18:30.244 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-03 22:18:30.244 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-03 22:18:30.244 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-03 22:18:30.245 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-03 22:18:30.245 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-03 22:18:30.245 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-03 22:18:30.245 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-03 22:20:24.325 | INFO     | server.agent_server:lifespan:50 - Agent Server shutting down...
2025-06-03 22:20:24.325 | INFO     | server.websocket_handler:disconnect_all:61 - All WebSocket connections disconnected.
2025-06-03 22:20:24.326 | INFO     | server.orchestrator:shutdown:347 - Shutting down OrchestratorAgent...
2025-06-03 22:20:24.327 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-03 22:20:24.327 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-03 22:20:24.327 | INFO     | server.agent_server:lifespan:57 - Agent Server shutdown complete.
2025-06-03 22:20:24.329 | INFO     | __main__:main_async:182 - üèÅ Server stopped
2025-06-03 22:20:24.330 | INFO     | __main__:main:189 - üõë Shutdown signal received
2025-06-03 22:25:15.674 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 22:25:15.674 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-03 22:25:15.676 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 22:25:15.678 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 22:25:15.681 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 22:25:15.681 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-03 22:25:15.682 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-03 22:25:15.682 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-03 22:25:15.682 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-03 22:25:15.683 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-03 22:25:15.683 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-03 22:25:15.683 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-03 22:25:15.683 | INFO     | __main__:display_server_info:48 - üìä Environment: development
2025-06-03 22:25:15.684 | INFO     | __main__:display_server_info:49 - üîß Debug Mode: True
2025-06-03 22:25:15.686 | INFO     | __main__:display_server_info:50 - 
2025-06-03 22:25:15.688 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 22:25:15.691 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 22:25:15.692 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-03 22:25:15.693 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 22:25:15.695 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 22:25:15.696 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5512/a2a
2025-06-03 22:25:15.698 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 22:25:15.700 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 22:25:15.700 | INFO     | __main__:check_agent_availability:34 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-03 22:25:15.701 | INFO     | __main__:display_server_info:56 - ü§ñ Available A2A Agents:
2025-06-03 22:25:15.701 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-03 22:25:15.702 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5512/a2a
2025-06-03 22:25:15.703 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-03 22:25:15.704 | INFO     | __main__:display_server_info:65 - 
2025-06-03 22:25:15.705 | INFO     | __main__:display_server_info:66 - üí° API Documentation available at:
2025-06-03 22:25:15.706 | INFO     | __main__:display_server_info:67 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-03 22:25:15.706 | INFO     | __main__:display_server_info:68 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-03 22:25:15.706 | INFO     | __main__:display_server_info:69 - ======================================================================
2025-06-03 22:25:15.707 | INFO     | __main__:configure_uvicorn:150 - üîß Development mode: Hot-reloading enabled
2025-06-03 22:25:15.707 | INFO     | __main__:main_async:168 - üöÄ Starting Multi-Agent System Server...
2025-06-03 22:25:15.708 | INFO     | __main__:main_async:169 - Press Ctrl+C to stop the server
2025-06-03 22:25:15.741 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-03 22:25:15.741 | INFO     | server.orchestrator:initialize:35 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-03 22:25:15.742 | INFO     | server.orchestrator:initialize:41 - Found 3 agent configurations to process...
2025-06-03 22:25:15.742 | INFO     | server.orchestrator:initialize:44 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 22:25:15.742 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-03 22:25:15.743 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for weather_agent
2025-06-03 22:25:16.036 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5211/.well-known/agent.json
2025-06-03 22:25:16.049 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for weather_agent at http://127.0.0.1:5211/.well-known/agent.json
2025-06-03 22:25:16.050 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for weather_agent
2025-06-03 22:25:16.050 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for weather_agent
2025-06-03 22:25:16.050 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Weather Agent (weather_agent) at http://127.0.0.1:5211/a2a
2025-06-03 22:25:16.050 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for weather_agent
2025-06-03 22:25:16.051 | INFO     | server.orchestrator:initialize:44 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 22:25:16.051 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5512/a2a
2025-06-03 22:25:16.051 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for web_search_agent
2025-06-03 22:25:16.342 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/.well-known/agent.json
2025-06-03 22:25:18.370 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/.well-known/agent.json: All connection attempts failed
2025-06-03 22:25:18.371 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/agent-card
2025-06-03 22:25:20.393 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/agent-card: All connection attempts failed
2025-06-03 22:25:20.394 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/info
2025-06-03 22:25:22.414 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/info: All connection attempts failed
2025-06-03 22:25:22.414 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/a2a
2025-06-03 22:25:24.438 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/a2a: All connection attempts failed
2025-06-03 22:25:24.438 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/
2025-06-03 22:25:26.481 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/: All connection attempts failed
2025-06-03 22:25:26.482 | WARNING  | server.orchestrator:_discover_agent_card_robust:190 - Could not discover agent card at any endpoint for web_search_agent
2025-06-03 22:25:26.483 | WARNING  | server.orchestrator:initialize:81 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5512/a2a. Trying fallback approach...
2025-06-03 22:25:26.485 | INFO     | server.orchestrator:_create_fallback_tool:281 - Creating fallback tool for web_search_agent
2025-06-03 22:25:26.486 | INFO     | server.orchestrator:_create_fallback_tool:313 - Successfully created fallback tool for web_search_agent
2025-06-03 22:25:26.486 | INFO     | server.orchestrator:initialize:44 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 22:25:26.487 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-03 22:25:26.488 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for news_agent
2025-06-03 22:25:26.777 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5313/.well-known/agent.json
2025-06-03 22:25:26.786 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for news_agent at http://127.0.0.1:5313/.well-known/agent.json
2025-06-03 22:25:26.786 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for news_agent
2025-06-03 22:25:26.787 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for news_agent
2025-06-03 22:25:26.787 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: News Agent (news_agent) at http://127.0.0.1:5313/a2a
2025-06-03 22:25:26.787 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for news_agent
2025-06-03 22:25:26.788 | INFO     | server.orchestrator:initialize:91 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-03 22:25:26.788 | INFO     | server.orchestrator:initialize:105 - Successfully initialized Perplexity LLM
2025-06-03 22:25:26.789 | INFO     | server.orchestrator:initialize:130 - Successfully created Orchestrator Agent with 3 tools
2025-06-03 22:25:26.789 | INFO     | server.orchestrator:initialize:142 - Successfully created Runner
2025-06-03 22:25:26.789 | INFO     | server.orchestrator:initialize:148 - OrchestratorAgent fully initialized and ready.
2025-06-03 22:25:26.790 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-03 22:25:26.790 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-03 22:25:26.790 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-03 22:25:26.790 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-03 22:25:26.791 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-03 22:25:26.792 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-03 22:25:26.792 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-03 22:33:53.944 | INFO     | server.agent_server:lifespan:50 - Agent Server shutting down...
2025-06-03 22:33:53.954 | INFO     | server.websocket_handler:disconnect_all:61 - All WebSocket connections disconnected.
2025-06-03 22:33:53.958 | INFO     | server.orchestrator:shutdown:347 - Shutting down OrchestratorAgent...
2025-06-03 22:33:53.967 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-03 22:33:53.967 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-03 22:33:53.968 | INFO     | server.agent_server:lifespan:57 - Agent Server shutdown complete.
2025-06-03 22:33:53.973 | INFO     | __main__:main_async:182 - üèÅ Server stopped
2025-06-03 22:33:53.986 | INFO     | __main__:main:189 - üõë Shutdown signal received
2025-06-03 22:34:11.163 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 22:34:11.164 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-03 22:34:11.167 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 22:34:11.169 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 22:34:11.172 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 22:34:11.173 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-03 22:34:11.173 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-03 22:34:11.173 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-03 22:34:11.174 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-03 22:34:11.174 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-03 22:34:11.175 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-03 22:34:11.175 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-03 22:34:11.175 | INFO     | __main__:display_server_info:48 - üìä Environment: development
2025-06-03 22:34:11.176 | INFO     | __main__:display_server_info:49 - üîß Debug Mode: True
2025-06-03 22:34:11.176 | INFO     | __main__:display_server_info:50 - 
2025-06-03 22:34:11.178 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 22:34:11.181 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 22:34:11.182 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-03 22:34:11.183 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 22:34:11.185 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 22:34:11.185 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5512/a2a
2025-06-03 22:34:11.187 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 22:34:11.190 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 22:34:11.190 | INFO     | __main__:check_agent_availability:34 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-03 22:34:11.191 | INFO     | __main__:display_server_info:56 - ü§ñ Available A2A Agents:
2025-06-03 22:34:11.191 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-03 22:34:11.192 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5512/a2a
2025-06-03 22:34:11.192 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-03 22:34:11.192 | INFO     | __main__:display_server_info:65 - 
2025-06-03 22:34:11.193 | INFO     | __main__:display_server_info:66 - üí° API Documentation available at:
2025-06-03 22:34:11.193 | INFO     | __main__:display_server_info:67 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-03 22:34:11.194 | INFO     | __main__:display_server_info:68 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-03 22:34:11.194 | INFO     | __main__:display_server_info:69 - ======================================================================
2025-06-03 22:34:11.194 | INFO     | __main__:configure_uvicorn:150 - üîß Development mode: Hot-reloading enabled
2025-06-03 22:34:11.195 | INFO     | __main__:main_async:168 - üöÄ Starting Multi-Agent System Server...
2025-06-03 22:34:11.195 | INFO     | __main__:main_async:169 - Press Ctrl+C to stop the server
2025-06-03 22:34:11.233 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-03 22:34:11.234 | INFO     | server.orchestrator:initialize:35 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-03 22:34:11.234 | INFO     | server.orchestrator:initialize:41 - Found 3 agent configurations to process...
2025-06-03 22:34:11.235 | INFO     | server.orchestrator:initialize:44 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 22:34:11.235 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-03 22:34:11.235 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for weather_agent
2025-06-03 22:34:11.525 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5211/.well-known/agent.json
2025-06-03 22:34:11.570 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for weather_agent at http://127.0.0.1:5211/.well-known/agent.json
2025-06-03 22:34:11.571 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for weather_agent
2025-06-03 22:34:11.571 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for weather_agent
2025-06-03 22:34:11.573 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Weather Agent (weather_agent) at http://127.0.0.1:5211/a2a
2025-06-03 22:34:11.573 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for weather_agent
2025-06-03 22:34:11.574 | INFO     | server.orchestrator:initialize:44 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 22:34:11.574 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5512/a2a
2025-06-03 22:34:11.574 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for web_search_agent
2025-06-03 22:34:11.860 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/.well-known/agent.json
2025-06-03 22:34:13.868 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/.well-known/agent.json: All connection attempts failed
2025-06-03 22:34:13.868 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/agent-card
2025-06-03 22:34:15.875 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/agent-card: All connection attempts failed
2025-06-03 22:34:15.875 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/info
2025-06-03 22:34:17.911 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/info: All connection attempts failed
2025-06-03 22:34:17.912 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/a2a
2025-06-03 22:34:19.935 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/a2a: All connection attempts failed
2025-06-03 22:34:19.936 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/
2025-06-03 22:34:21.974 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/: All connection attempts failed
2025-06-03 22:34:21.974 | WARNING  | server.orchestrator:_discover_agent_card_robust:190 - Could not discover agent card at any endpoint for web_search_agent
2025-06-03 22:34:21.976 | WARNING  | server.orchestrator:initialize:81 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5512/a2a. Trying fallback approach...
2025-06-03 22:34:21.977 | INFO     | server.orchestrator:_create_fallback_tool:281 - Creating fallback tool for web_search_agent
2025-06-03 22:34:21.977 | INFO     | server.orchestrator:_create_fallback_tool:313 - Successfully created fallback tool for web_search_agent
2025-06-03 22:34:21.977 | INFO     | server.orchestrator:initialize:44 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 22:34:21.977 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-03 22:34:21.978 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for news_agent
2025-06-03 22:34:22.292 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5313/.well-known/agent.json
2025-06-03 22:34:22.323 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for news_agent at http://127.0.0.1:5313/.well-known/agent.json
2025-06-03 22:34:22.323 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for news_agent
2025-06-03 22:34:22.324 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for news_agent
2025-06-03 22:34:22.324 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: News Agent (news_agent) at http://127.0.0.1:5313/a2a
2025-06-03 22:34:22.324 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for news_agent
2025-06-03 22:34:22.325 | INFO     | server.orchestrator:initialize:91 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-03 22:34:22.325 | INFO     | server.orchestrator:initialize:105 - Successfully initialized Perplexity LLM
2025-06-03 22:34:22.326 | INFO     | server.orchestrator:initialize:130 - Successfully created Orchestrator Agent with 3 tools
2025-06-03 22:34:22.326 | INFO     | server.orchestrator:initialize:142 - Successfully created Runner
2025-06-03 22:34:22.326 | INFO     | server.orchestrator:initialize:148 - OrchestratorAgent fully initialized and ready.
2025-06-03 22:34:22.327 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-03 22:34:22.327 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-03 22:34:22.327 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-03 22:34:22.328 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-03 22:34:22.328 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-03 22:34:22.329 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-03 22:34:22.329 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-03 23:03:55.638 | INFO     | server.agent_server:lifespan:50 - Agent Server shutting down...
2025-06-03 23:03:55.653 | INFO     | server.websocket_handler:disconnect_all:61 - All WebSocket connections disconnected.
2025-06-03 23:03:55.657 | INFO     | server.orchestrator:shutdown:347 - Shutting down OrchestratorAgent...
2025-06-03 23:03:55.664 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-03 23:03:55.665 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-03 23:03:55.667 | INFO     | server.agent_server:lifespan:57 - Agent Server shutdown complete.
2025-06-03 23:03:55.681 | INFO     | __main__:main_async:182 - üèÅ Server stopped
2025-06-03 23:03:55.701 | INFO     | __main__:main:189 - üõë Shutdown signal received
2025-06-03 23:08:24.410 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 23:08:24.411 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-03 23:08:24.414 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 23:08:24.422 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 23:08:24.424 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 23:08:24.424 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-03 23:08:24.425 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-03 23:08:24.425 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-03 23:08:24.427 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-03 23:08:24.427 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-03 23:08:24.428 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-03 23:08:24.428 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-03 23:08:24.428 | INFO     | __main__:display_server_info:48 - üìä Environment: development
2025-06-03 23:08:24.429 | INFO     | __main__:display_server_info:49 - üîß Debug Mode: True
2025-06-03 23:08:24.435 | INFO     | __main__:display_server_info:50 - 
2025-06-03 23:08:24.437 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 23:08:24.439 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 23:08:24.440 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-03 23:08:24.443 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 23:08:24.450 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 23:08:24.451 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5512/a2a
2025-06-03 23:08:24.457 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 23:08:24.460 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 23:08:24.461 | INFO     | __main__:check_agent_availability:34 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-03 23:08:24.461 | INFO     | __main__:display_server_info:56 - ü§ñ Available A2A Agents:
2025-06-03 23:08:24.461 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-03 23:08:24.462 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5512/a2a
2025-06-03 23:08:24.462 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-03 23:08:24.465 | INFO     | __main__:display_server_info:65 - 
2025-06-03 23:08:24.466 | INFO     | __main__:display_server_info:66 - üí° API Documentation available at:
2025-06-03 23:08:24.466 | INFO     | __main__:display_server_info:67 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-03 23:08:24.467 | INFO     | __main__:display_server_info:68 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-03 23:08:24.467 | INFO     | __main__:display_server_info:69 - ======================================================================
2025-06-03 23:08:24.467 | INFO     | __main__:configure_uvicorn:150 - üîß Development mode: Hot-reloading enabled
2025-06-03 23:08:24.468 | INFO     | __main__:main_async:168 - üöÄ Starting Multi-Agent System Server...
2025-06-03 23:08:24.468 | INFO     | __main__:main_async:169 - Press Ctrl+C to stop the server
2025-06-03 23:08:24.514 | INFO     | server.agent_server:lifespan:25 - Agent Server starting up...
2025-06-03 23:08:24.515 | INFO     | server.orchestrator:initialize:35 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-03 23:08:24.515 | INFO     | server.orchestrator:initialize:41 - Found 3 agent configurations to process...
2025-06-03 23:08:24.515 | INFO     | server.orchestrator:initialize:44 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 23:08:24.516 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-03 23:08:24.516 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for weather_agent
2025-06-03 23:08:25.036 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5211/.well-known/agent.json
2025-06-03 23:08:25.125 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for weather_agent at http://127.0.0.1:5211/.well-known/agent.json
2025-06-03 23:08:25.125 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for weather_agent
2025-06-03 23:08:25.126 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for weather_agent
2025-06-03 23:08:25.128 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Weather Agent (weather_agent) at http://127.0.0.1:5211/a2a
2025-06-03 23:08:25.129 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for weather_agent
2025-06-03 23:08:25.129 | INFO     | server.orchestrator:initialize:44 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 23:08:25.131 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5512/a2a
2025-06-03 23:08:25.135 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for web_search_agent
2025-06-03 23:08:25.587 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/.well-known/agent.json
2025-06-03 23:08:27.615 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/.well-known/agent.json: All connection attempts failed
2025-06-03 23:08:27.615 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/agent-card
2025-06-03 23:08:29.641 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/agent-card: All connection attempts failed
2025-06-03 23:08:29.641 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/info
2025-06-03 23:08:31.676 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/info: All connection attempts failed
2025-06-03 23:08:31.676 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/a2a
2025-06-03 23:08:33.713 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/a2a: All connection attempts failed
2025-06-03 23:08:33.713 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/
2025-06-03 23:08:35.738 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/: All connection attempts failed
2025-06-03 23:08:35.738 | WARNING  | server.orchestrator:_discover_agent_card_robust:190 - Could not discover agent card at any endpoint for web_search_agent
2025-06-03 23:08:35.739 | WARNING  | server.orchestrator:initialize:81 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5512/a2a. Trying fallback approach...
2025-06-03 23:08:35.739 | INFO     | server.orchestrator:_create_fallback_tool:281 - Creating fallback tool for web_search_agent
2025-06-03 23:08:35.739 | INFO     | server.orchestrator:_create_fallback_tool:313 - Successfully created fallback tool for web_search_agent
2025-06-03 23:08:35.740 | INFO     | server.orchestrator:initialize:44 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 23:08:35.740 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-03 23:08:35.740 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for news_agent
2025-06-03 23:08:36.177 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5313/.well-known/agent.json
2025-06-03 23:08:36.229 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for news_agent at http://127.0.0.1:5313/.well-known/agent.json
2025-06-03 23:08:36.230 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for news_agent
2025-06-03 23:08:36.232 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for news_agent
2025-06-03 23:08:36.233 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: News Agent (news_agent) at http://127.0.0.1:5313/a2a
2025-06-03 23:08:36.234 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for news_agent
2025-06-03 23:08:36.234 | INFO     | server.orchestrator:initialize:91 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-03 23:08:36.234 | INFO     | server.orchestrator:initialize:105 - Successfully initialized Perplexity LLM
2025-06-03 23:08:36.235 | INFO     | server.orchestrator:initialize:130 - Successfully created Orchestrator Agent with 3 tools
2025-06-03 23:08:36.237 | INFO     | server.orchestrator:initialize:142 - Successfully created Runner
2025-06-03 23:08:36.239 | INFO     | server.orchestrator:initialize:148 - OrchestratorAgent fully initialized and ready.
2025-06-03 23:08:36.239 | INFO     | server.agent_server:lifespan:28 - Orchestrator Agent initialized.
2025-06-03 23:08:36.240 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: weather_agent
2025-06-03 23:08:36.241 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: web_search_agent
2025-06-03 23:08:36.242 | INFO     | server.agent_server:lifespan:44 - Registered A2A tool for agent: news_agent
2025-06-03 23:08:36.242 | INFO     | server.agent_server:lifespan:48 - Agent Server startup complete.
2025-06-03 23:08:36.243 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-03 23:08:36.244 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-03 23:13:34.086 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 23:13:34.794 | INFO     | client.connection_manager:__init__:17 - Client ConnectionManager initialized for ws://127.0.0.1:5002/ws
2025-06-03 23:13:34.795 | INFO     | client.agent_client:__init__:21 - AgentClient initialized. API: http://127.0.0.1:5000/api/v1, WS: ws://127.0.0.1:5002/ws
2025-06-03 23:20:56.976 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 23:20:57.609 | INFO     | client.connection_manager:__init__:20 - Client ConnectionManager initialized for ws://127.0.0.1:5000/ws
2025-06-03 23:20:57.609 | INFO     | client.agent_client:__init__:22 - AgentClient initialized. API: http://127.0.0.1:5000/api/v1, WS: ws://127.0.0.1:5000/ws
2025-06-03 23:20:57.894 | INFO     | server.websocket_handler:connect:23 - WebSocket connected. Assigned user_id: d7b969ce-44a9-4b31-bf93-1b77affe57c2. Total connections: 1
2025-06-03 23:21:37.887 | INFO     | server.agent_server:websocket_endpoint:111 - WebSocket disconnected.
2025-06-03 23:21:37.887 | INFO     | server.websocket_handler:disconnect:31 - WebSocket disconnected. User ID: d7b969ce-44a9-4b31-bf93-1b77affe57c2. Remaining connections: 0
2025-06-03 23:27:50.205 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 23:29:58.733 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 23:29:58.736 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-03 23:29:58.737 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-03 23:29:58.737 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-03 23:29:58.737 | INFO     | client.connection_manager:connect:30 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-03 23:29:58.915 | INFO     | server.websocket_handler:connect:23 - WebSocket connected. Assigned user_id: 2a918e1b-ba61-4933-86a1-8a6722819afb. Total connections: 1
2025-06-03 23:29:58.939 | INFO     | client.connection_manager:connect:45 - WebSocket connected successfully
2025-06-03 23:29:58.943 | ERROR    | client.connection_manager:_receive_loop:147 - Error in receive loop: cannot call recv while another coroutine is already running recv or recv_streaming
2025-06-03 23:29:58.944 | WARNING  | client.connection_manager:_handle_connection_error:227 - Connection lost, attempting to reconnect...
2025-06-03 23:29:58.947 | INFO     | client.connection_manager:connect:54 - Connection established. User ID: 2a918e1b-ba61-4933-86a1-8a6722819afb
2025-06-03 23:29:58.950 | INFO     | client.agent_client:connect:62 - Client connected successfully. User ID: 2a918e1b-ba61-4933-86a1-8a6722819afb
2025-06-03 23:29:58.950 | INFO     | __main__:main:38 - Successfully connected to Multi-Agent System
2025-06-03 23:29:58.951 | ERROR    | client.agent_client:get_status:110 - Cannot get status: not connected
2025-06-03 23:30:00.967 | ERROR    | client.agent_client:send_query:77 - Cannot send query: not connected
2025-06-03 23:30:03.961 | INFO     | client.connection_manager:_handle_connection_error:233 - Reconnection attempt 1/3
2025-06-03 23:30:03.962 | INFO     | client.connection_manager:connect:30 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-03 23:30:03.975 | INFO     | server.websocket_handler:connect:23 - WebSocket connected. Assigned user_id: 5f1604e1-6113-42ec-8132-dd0c2252569c. Total connections: 2
2025-06-03 23:30:03.989 | ERROR    | client.agent_client:send_query:77 - Cannot send query: not connected
2025-06-03 23:30:03.990 | INFO     | client.connection_manager:connect:45 - WebSocket connected successfully
2025-06-03 23:30:03.991 | INFO     | client.connection_manager:connect:54 - Connection established. User ID: 5f1604e1-6113-42ec-8132-dd0c2252569c
2025-06-03 23:30:07.001 | INFO     | client.agent_client:send_text:104 - Sending text: Hello, this is a test message!
2025-06-03 23:30:07.002 | DEBUG    | client.connection_manager:send_text:113 - Sent text: Hello, this is a test message!
2025-06-03 23:30:07.005 | INFO     | server.agent_server:websocket_endpoint:88 - Received WebSocket message: Hello, this is a test message!
2025-06-03 23:30:07.013 | WARNING  | server.agent_server:websocket_endpoint:104 - Invalid JSON received on WebSocket: Hello, this is a test message!
2025-06-03 23:30:07.015 | DEBUG    | client.connection_manager:_handle_message:185 - Received message type: unknown
2025-06-03 23:30:07.015 | DEBUG    | client.connection_manager:_handle_message:200 - No handler for message type: unknown
2025-06-03 23:30:09.018 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-03 23:30:09.019 | DEBUG    | client.connection_manager:send_text:113 - Sent text: status
2025-06-03 23:30:09.023 | INFO     | server.agent_server:websocket_endpoint:88 - Received WebSocket message: status
2025-06-03 23:30:09.023 | WARNING  | server.agent_server:websocket_endpoint:104 - Invalid JSON received on WebSocket: status
2025-06-03 23:30:09.026 | DEBUG    | client.connection_manager:_handle_message:185 - Received message type: unknown
2025-06-03 23:30:09.026 | DEBUG    | client.connection_manager:_handle_message:200 - No handler for message type: unknown
2025-06-03 23:30:49.009 | INFO     | server.agent_server:websocket_endpoint:111 - WebSocket disconnected.
2025-06-03 23:30:49.011 | INFO     | server.websocket_handler:disconnect:31 - WebSocket disconnected. User ID: 2a918e1b-ba61-4933-86a1-8a6722819afb. Remaining connections: 1
2025-06-03 23:30:54.032 | INFO     | server.agent_server:websocket_endpoint:111 - WebSocket disconnected.
2025-06-03 23:30:54.033 | INFO     | server.websocket_handler:disconnect:31 - WebSocket disconnected. User ID: 5f1604e1-6113-42ec-8132-dd0c2252569c. Remaining connections: 0
2025-06-03 23:31:11.755 | INFO     | client.agent_client:send_query:89 - Sending query: <what is the weather of us now>
2025-06-03 23:31:11.757 | DEBUG    | client.connection_manager:send_json:98 - Sent message: {'type': 'query', 'query': '<what is the weather of us now>', 'query_id': '57a763ff-5255-4ca0-8d76-b28d36f9c35d', 'timestamp': 291419.254545}
2025-06-03 23:31:11.760 | DEBUG    | client.connection_manager:_receive_loop:138 - No message received within timeout - sending ping
2025-06-03 23:31:11.761 | ERROR    | client.connection_manager:send_json:101 - Failed to send message: no close frame received or sent
2025-06-03 23:31:11.762 | WARNING  | client.connection_manager:_handle_connection_error:227 - Connection lost, attempting to reconnect...
2025-06-03 23:41:17.505 | INFO     | __main__:main:49 - Cleaning up...
2025-06-03 23:41:17.531 | INFO     | client.connection_manager:disconnect:88 - WebSocket disconnected
2025-06-03 23:41:17.535 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-03 23:46:31.506 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 23:46:31.510 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-03 23:46:31.510 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-03 23:46:31.510 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-03 23:46:31.511 | INFO     | client.connection_manager:connect:30 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-03 23:46:31.716 | INFO     | server.websocket_handler:connect:23 - WebSocket connected. Assigned user_id: 87109c3b-2e0a-42d1-ab4d-a5c05f403b00. Total connections: 1
2025-06-03 23:46:31.730 | INFO     | client.connection_manager:connect:45 - WebSocket connected successfully
2025-06-03 23:46:31.731 | ERROR    | client.connection_manager:_receive_loop:147 - Error in receive loop: cannot call recv while another coroutine is already running recv or recv_streaming
2025-06-03 23:46:31.731 | WARNING  | client.connection_manager:_handle_connection_error:227 - Connection lost, attempting to reconnect...
2025-06-03 23:46:31.738 | INFO     | client.connection_manager:connect:54 - Connection established. User ID: 87109c3b-2e0a-42d1-ab4d-a5c05f403b00
2025-06-03 23:46:31.739 | INFO     | client.agent_client:connect:62 - Client connected successfully. User ID: 87109c3b-2e0a-42d1-ab4d-a5c05f403b00
2025-06-03 23:46:31.739 | INFO     | __main__:main:38 - Successfully connected to Multi-Agent System
2025-06-03 23:46:31.740 | ERROR    | client.agent_client:get_status:110 - Cannot get status: not connected
2025-06-03 23:46:33.754 | ERROR    | client.agent_client:send_query:77 - Cannot send query: not connected
2025-06-03 23:46:36.748 | INFO     | client.connection_manager:_handle_connection_error:233 - Reconnection attempt 1/3
2025-06-03 23:46:36.749 | INFO     | client.connection_manager:connect:30 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-03 23:46:36.775 | ERROR    | client.agent_client:send_query:77 - Cannot send query: not connected
2025-06-03 23:46:36.787 | INFO     | server.websocket_handler:connect:23 - WebSocket connected. Assigned user_id: b8c9164e-21ef-496b-bcfb-3e8afccbaf6e. Total connections: 2
2025-06-03 23:46:36.795 | INFO     | client.connection_manager:connect:45 - WebSocket connected successfully
2025-06-03 23:46:36.805 | ERROR    | client.connection_manager:_receive_loop:147 - Error in receive loop: cannot call recv while another coroutine is already running recv or recv_streaming
2025-06-03 23:46:36.805 | WARNING  | client.connection_manager:_handle_connection_error:227 - Connection lost, attempting to reconnect...
2025-06-03 23:46:36.806 | INFO     | client.connection_manager:connect:54 - Connection established. User ID: b8c9164e-21ef-496b-bcfb-3e8afccbaf6e
2025-06-03 23:46:39.792 | ERROR    | client.agent_client:send_text:101 - Cannot send text: not connected
2025-06-03 23:46:41.794 | ERROR    | client.agent_client:get_status:110 - Cannot get status: not connected
2025-06-03 23:46:41.810 | INFO     | client.connection_manager:_handle_connection_error:233 - Reconnection attempt 1/3
2025-06-03 23:46:41.812 | INFO     | client.connection_manager:connect:30 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-03 23:46:41.845 | INFO     | server.websocket_handler:connect:23 - WebSocket connected. Assigned user_id: 04eeec45-4b50-4205-9d14-0876a4c4d3d2. Total connections: 3
2025-06-03 23:46:41.863 | INFO     | client.connection_manager:connect:45 - WebSocket connected successfully
2025-06-03 23:46:41.865 | ERROR    | client.connection_manager:_receive_loop:147 - Error in receive loop: cannot call recv while another coroutine is already running recv or recv_streaming
2025-06-03 23:46:41.868 | WARNING  | client.connection_manager:_handle_connection_error:227 - Connection lost, attempting to reconnect...
2025-06-03 23:46:41.869 | INFO     | client.connection_manager:connect:54 - Connection established. User ID: 04eeec45-4b50-4205-9d14-0876a4c4d3d2
2025-06-03 23:47:21.788 | INFO     | server.agent_server:websocket_endpoint:111 - WebSocket disconnected.
2025-06-03 23:47:21.790 | INFO     | server.websocket_handler:disconnect:31 - WebSocket disconnected. User ID: 87109c3b-2e0a-42d1-ab4d-a5c05f403b00. Remaining connections: 2
2025-06-03 23:47:26.833 | INFO     | server.agent_server:websocket_endpoint:111 - WebSocket disconnected.
2025-06-03 23:47:26.833 | INFO     | server.websocket_handler:disconnect:31 - WebSocket disconnected. User ID: b8c9164e-21ef-496b-bcfb-3e8afccbaf6e. Remaining connections: 1
2025-06-03 23:47:31.914 | INFO     | server.agent_server:websocket_endpoint:111 - WebSocket disconnected.
2025-06-03 23:47:31.915 | INFO     | server.websocket_handler:disconnect:31 - WebSocket disconnected. User ID: 04eeec45-4b50-4205-9d14-0876a4c4d3d2. Remaining connections: 0
2025-06-03 23:50:06.451 | INFO     | __main__:main:49 - Cleaning up...
2025-06-03 23:50:08.623 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 23:50:08.627 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-03 23:50:08.628 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-03 23:50:08.628 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-03 23:50:08.629 | INFO     | client.connection_manager:connect:34 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-03 23:50:08.715 | INFO     | server.websocket_handler:connect:23 - WebSocket connected. Assigned user_id: c71505d8-e3a9-4a7d-a044-791fe6cf8a7e. Total connections: 1
2025-06-03 23:50:08.722 | INFO     | client.connection_manager:connect:53 - WebSocket connected successfully
2025-06-03 23:50:08.725 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: connection_established
2025-06-03 23:50:08.725 | DEBUG    | client.connection_manager:_handle_message:196 - Connection established message handled
2025-06-03 23:50:08.725 | INFO     | client.connection_manager:connect:67 - Connection established. User ID: c71505d8-e3a9-4a7d-a044-791fe6cf8a7e
2025-06-03 23:50:08.726 | INFO     | client.agent_client:connect:62 - Client connected successfully. User ID: c71505d8-e3a9-4a7d-a044-791fe6cf8a7e
2025-06-03 23:50:08.726 | INFO     | __main__:main:38 - Successfully connected to Multi-Agent System
2025-06-03 23:50:08.727 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-03 23:50:08.728 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-03 23:50:08.730 | INFO     | server.agent_server:websocket_endpoint:88 - Received WebSocket message: status
2025-06-03 23:50:08.733 | WARNING  | server.agent_server:websocket_endpoint:104 - Invalid JSON received on WebSocket: status
2025-06-03 23:50:08.734 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: unknown
2025-06-03 23:50:08.735 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: unknown
2025-06-03 23:50:10.735 | INFO     | client.agent_client:send_query:89 - Sending query: What is the weather like today?
2025-06-03 23:50:10.737 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'What is the weather like today?', 'query_id': 'e68504a6-4c37-4726-9b1d-5e03f7559485', 'timestamp': 292558.2345793}
2025-06-03 23:50:10.739 | INFO     | server.agent_server:websocket_endpoint:88 - Received WebSocket message: {"type": "query", "query": "What is the weather like today?", "query_id": "e68504a6-4c37-4726-9b1d-5e03f7559485", "timestamp": 292558.2345793}
2025-06-03 23:50:10.777 | ERROR    | server.agent_server:websocket_endpoint:107 - Error processing WebSocket message: module 'asyncio' has no attribute 'time'
2025-06-03 23:50:10.784 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: unknown
2025-06-03 23:50:10.784 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: unknown
2025-06-03 23:50:13.749 | INFO     | client.agent_client:send_query:89 - Sending query: Can you help me with data analysis?
2025-06-03 23:50:13.749 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'Can you help me with data analysis?', 'query_id': '070b2b9e-ff0a-46b7-a296-ba06cd396b79', 'timestamp': 292561.2480763}
2025-06-03 23:50:13.750 | INFO     | server.agent_server:websocket_endpoint:88 - Received WebSocket message: {"type": "query", "query": "Can you help me with data analysis?", "query_id": "070b2b9e-ff0a-46b7-a296-ba06cd396b79", "timestamp": 292561.2480763}
2025-06-03 23:50:13.752 | ERROR    | server.agent_server:websocket_endpoint:107 - Error processing WebSocket message: module 'asyncio' has no attribute 'time'
2025-06-03 23:50:13.753 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: unknown
2025-06-03 23:50:13.754 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: unknown
2025-06-03 23:50:16.760 | INFO     | client.agent_client:send_text:104 - Sending text: Hello, this is a test message!
2025-06-03 23:50:16.762 | DEBUG    | client.connection_manager:send_text:141 - Sent text: Hello, this is a test message!
2025-06-03 23:50:16.765 | INFO     | server.agent_server:websocket_endpoint:88 - Received WebSocket message: Hello, this is a test message!
2025-06-03 23:50:16.767 | WARNING  | server.agent_server:websocket_endpoint:104 - Invalid JSON received on WebSocket: Hello, this is a test message!
2025-06-03 23:50:16.771 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: unknown
2025-06-03 23:50:16.772 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: unknown
2025-06-03 23:50:18.770 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-03 23:50:18.772 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-03 23:50:18.774 | INFO     | server.agent_server:websocket_endpoint:88 - Received WebSocket message: status
2025-06-03 23:50:18.776 | WARNING  | server.agent_server:websocket_endpoint:104 - Invalid JSON received on WebSocket: status
2025-06-03 23:50:18.781 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: unknown
2025-06-03 23:50:18.781 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: unknown
2025-06-03 23:50:58.767 | INFO     | server.agent_server:websocket_endpoint:111 - WebSocket disconnected.
2025-06-03 23:50:58.768 | INFO     | server.websocket_handler:disconnect:31 - WebSocket disconnected. User ID: c71505d8-e3a9-4a7d-a044-791fe6cf8a7e. Remaining connections: 0
2025-06-03 23:55:09.744 | INFO     | server.agent_server:lifespan:50 - Agent Server shutting down...
2025-06-03 23:55:09.748 | INFO     | server.websocket_handler:disconnect_all:61 - All WebSocket connections disconnected.
2025-06-03 23:55:09.755 | INFO     | server.orchestrator:shutdown:347 - Shutting down OrchestratorAgent...
2025-06-03 23:55:09.777 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-03 23:55:09.777 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-03 23:55:09.778 | INFO     | server.agent_server:lifespan:57 - Agent Server shutdown complete.
2025-06-03 23:55:09.800 | INFO     | __main__:main_async:182 - üèÅ Server stopped
2025-06-03 23:55:09.821 | INFO     | __main__:main:189 - üõë Shutdown signal received
2025-06-03 23:55:32.924 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 23:55:32.925 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-03 23:55:32.928 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 23:55:32.931 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 23:55:32.935 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 23:55:32.936 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-03 23:55:32.936 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-03 23:55:32.936 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-03 23:55:32.937 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-03 23:55:32.937 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-03 23:55:32.937 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-03 23:55:32.938 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-03 23:55:32.938 | INFO     | __main__:display_server_info:48 - üìä Environment: development
2025-06-03 23:55:32.939 | INFO     | __main__:display_server_info:49 - üîß Debug Mode: True
2025-06-03 23:55:32.940 | INFO     | __main__:display_server_info:50 - 
2025-06-03 23:55:32.950 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 23:55:32.953 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 23:55:32.959 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-03 23:55:32.961 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 23:55:32.965 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 23:55:32.966 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5512/a2a
2025-06-03 23:55:32.968 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 23:55:32.972 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 23:55:32.976 | INFO     | __main__:check_agent_availability:34 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-03 23:55:32.976 | INFO     | __main__:display_server_info:56 - ü§ñ Available A2A Agents:
2025-06-03 23:55:32.977 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-03 23:55:32.977 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5512/a2a
2025-06-03 23:55:32.977 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-03 23:55:32.978 | INFO     | __main__:display_server_info:65 - 
2025-06-03 23:55:32.978 | INFO     | __main__:display_server_info:66 - üí° API Documentation available at:
2025-06-03 23:55:32.979 | INFO     | __main__:display_server_info:67 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-03 23:55:32.979 | INFO     | __main__:display_server_info:68 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-03 23:55:32.980 | INFO     | __main__:display_server_info:69 - ======================================================================
2025-06-03 23:55:32.981 | INFO     | __main__:configure_uvicorn:150 - üîß Development mode: Hot-reloading enabled
2025-06-03 23:55:32.981 | INFO     | __main__:main_async:168 - üöÄ Starting Multi-Agent System Server...
2025-06-03 23:55:32.982 | INFO     | __main__:main_async:169 - Press Ctrl+C to stop the server
2025-06-03 23:55:33.041 | INFO     | server.agent_server:lifespan:28 - Agent Server starting up...
2025-06-03 23:55:33.042 | INFO     | server.orchestrator:initialize:35 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-03 23:55:33.042 | INFO     | server.orchestrator:initialize:41 - Found 3 agent configurations to process...
2025-06-03 23:55:33.042 | INFO     | server.orchestrator:initialize:44 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-03 23:55:33.043 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-03 23:55:33.043 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for weather_agent
2025-06-03 23:55:33.548 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5211/.well-known/agent.json
2025-06-03 23:55:33.624 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for weather_agent at http://127.0.0.1:5211/.well-known/agent.json
2025-06-03 23:55:33.627 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for weather_agent
2025-06-03 23:55:33.629 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for weather_agent
2025-06-03 23:55:33.629 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Weather Agent (weather_agent) at http://127.0.0.1:5211/a2a
2025-06-03 23:55:33.630 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for weather_agent
2025-06-03 23:55:33.632 | INFO     | server.orchestrator:initialize:44 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-03 23:55:33.641 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5512/a2a
2025-06-03 23:55:33.641 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for web_search_agent
2025-06-03 23:55:34.100 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/.well-known/agent.json
2025-06-03 23:55:36.137 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/.well-known/agent.json: All connection attempts failed
2025-06-03 23:55:36.137 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/agent-card
2025-06-03 23:55:38.181 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/agent-card: All connection attempts failed
2025-06-03 23:55:38.181 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/info
2025-06-03 23:55:40.216 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/info: All connection attempts failed
2025-06-03 23:55:40.216 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/a2a
2025-06-03 23:55:42.235 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/a2a: All connection attempts failed
2025-06-03 23:55:42.235 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/
2025-06-03 23:55:44.267 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/: All connection attempts failed
2025-06-03 23:55:44.268 | WARNING  | server.orchestrator:_discover_agent_card_robust:190 - Could not discover agent card at any endpoint for web_search_agent
2025-06-03 23:55:44.268 | WARNING  | server.orchestrator:initialize:81 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5512/a2a. Trying fallback approach...
2025-06-03 23:55:44.269 | INFO     | server.orchestrator:_create_fallback_tool:281 - Creating fallback tool for web_search_agent
2025-06-03 23:55:44.269 | INFO     | server.orchestrator:_create_fallback_tool:313 - Successfully created fallback tool for web_search_agent
2025-06-03 23:55:44.270 | INFO     | server.orchestrator:initialize:44 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-03 23:55:44.270 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-03 23:55:44.271 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for news_agent
2025-06-03 23:55:44.750 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5313/.well-known/agent.json
2025-06-03 23:55:44.829 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for news_agent at http://127.0.0.1:5313/.well-known/agent.json
2025-06-03 23:55:44.830 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for news_agent
2025-06-03 23:55:44.831 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for news_agent
2025-06-03 23:55:44.833 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: News Agent (news_agent) at http://127.0.0.1:5313/a2a
2025-06-03 23:55:44.834 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for news_agent
2025-06-03 23:55:44.842 | INFO     | server.orchestrator:initialize:91 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-03 23:55:44.843 | INFO     | server.orchestrator:initialize:105 - Successfully initialized Perplexity LLM
2025-06-03 23:55:44.850 | INFO     | server.orchestrator:initialize:130 - Successfully created Orchestrator Agent with 3 tools
2025-06-03 23:55:44.852 | INFO     | server.orchestrator:initialize:142 - Successfully created Runner
2025-06-03 23:55:44.853 | INFO     | server.orchestrator:initialize:148 - OrchestratorAgent fully initialized and ready.
2025-06-03 23:55:44.854 | INFO     | server.agent_server:lifespan:31 - Orchestrator Agent initialized.
2025-06-03 23:55:44.856 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: weather_agent
2025-06-03 23:55:44.857 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: web_search_agent
2025-06-03 23:55:44.857 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: news_agent
2025-06-03 23:55:44.858 | INFO     | server.agent_server:lifespan:51 - Agent Server startup complete.
2025-06-03 23:55:44.859 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-03 23:55:44.859 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-03 23:55:55.104 | INFO     | __main__:main:49 - Cleaning up...
2025-06-03 23:55:55.161 | INFO     | client.connection_manager:disconnect:116 - WebSocket disconnected
2025-06-03 23:55:55.162 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-03 23:55:56.926 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-03 23:55:56.929 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-03 23:55:56.930 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-03 23:55:56.930 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-03 23:55:56.930 | INFO     | client.connection_manager:connect:34 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-03 23:55:57.013 | INFO     | server.websocket_handler:connect:26 - WebSocket connected. User ID: 709a1669-5fff-49b8-81d8-629ceb5b651b. Total connections: 1
2025-06-03 23:55:57.016 | INFO     | client.connection_manager:connect:53 - WebSocket connected successfully
2025-06-03 23:55:57.018 | INFO     | server.websocket_handler:start_heartbeat:106 - Heartbeat started
2025-06-03 23:55:57.019 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: connection_established
2025-06-03 23:55:57.019 | DEBUG    | client.connection_manager:_handle_message:196 - Connection established message handled
2025-06-03 23:55:57.019 | INFO     | client.connection_manager:connect:67 - Connection established. User ID: 709a1669-5fff-49b8-81d8-629ceb5b651b
2025-06-03 23:55:57.020 | INFO     | client.agent_client:connect:62 - Client connected successfully. User ID: 709a1669-5fff-49b8-81d8-629ceb5b651b
2025-06-03 23:55:57.018 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: 709a1669-5fff-49b8-81d8-629ceb5b651b
2025-06-03 23:55:57.020 | INFO     | __main__:main:38 - Successfully connected to Multi-Agent System
2025-06-03 23:55:57.023 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-03 23:55:57.024 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-03 23:55:57.025 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-03 23:55:57.026 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-03 23:55:57.026 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-03 23:55:59.030 | INFO     | client.agent_client:send_query:89 - Sending query: What is the weather like today?
2025-06-03 23:55:59.031 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'What is the weather like today?', 'query_id': '9a0c148a-5079-4c1f-96b2-a864399f5ade', 'timestamp': 292906.5289628}
2025-06-03 23:55:59.032 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "What is the weather like today?", "query_id": "9a0c148a-5079-4c1f-96b2-a864399f5ade", "timestamp": 292906.5289628}
2025-06-03 23:55:59.034 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-03 23:55:59.034 | INFO     | client.agent_client:_handle_query_received:132 - Query 9a0c148a-5079-4c1f-96b2-a864399f5ade received by server - Status: processing
2025-06-03 23:55:59.039 | ERROR    | server.agent_server:process_websocket_message:129 - Error processing WebSocket message: module 'asyncio' has no attribute 'time'
2025-06-03 23:55:59.046 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: unknown
2025-06-03 23:55:59.046 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: unknown
2025-06-03 23:56:02.043 | INFO     | client.agent_client:send_query:89 - Sending query: Can you help me with data analysis?
2025-06-03 23:56:02.045 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'Can you help me with data analysis?', 'query_id': '3984a5ed-8bf9-4f2d-97c9-2c3a28fd8dde', 'timestamp': 292909.5418434}
2025-06-03 23:56:02.048 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Can you help me with data analysis?", "query_id": "3984a5ed-8bf9-4f2d-97c9-2c3a28fd8dde", "timestamp": 292909.5418434}
2025-06-03 23:56:02.052 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-03 23:56:02.052 | ERROR    | server.agent_server:process_websocket_message:129 - Error processing WebSocket message: module 'asyncio' has no attribute 'time'
2025-06-03 23:56:02.052 | INFO     | client.agent_client:_handle_query_received:132 - Query 3984a5ed-8bf9-4f2d-97c9-2c3a28fd8dde received by server - Status: processing
2025-06-03 23:56:02.060 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: unknown
2025-06-03 23:56:02.060 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: unknown
2025-06-03 23:56:05.053 | INFO     | client.agent_client:send_text:104 - Sending text: Hello, this is a test message!
2025-06-03 23:56:05.055 | DEBUG    | client.connection_manager:send_text:141 - Sent text: Hello, this is a test message!
2025-06-03 23:56:05.056 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: Hello, this is a test message!
2025-06-03 23:56:05.057 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from 709a1669-5fff-49b8-81d8-629ceb5b651b: Hello, this is a test message!
2025-06-03 23:56:05.059 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: text_response
2025-06-03 23:56:05.060 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'Hello, this is a test message!'
2025-06-03 23:56:07.060 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-03 23:56:07.061 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-03 23:56:07.061 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-03 23:56:07.063 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-03 23:56:07.063 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-03 23:56:23.912 | INFO     | client.agent_client:send_text:104 - Sending text: query<what is teh weather in us>
2025-06-03 23:56:23.914 | DEBUG    | client.connection_manager:send_text:141 - Sent text: query<what is teh weather in us>
eh weather in us>
2025-06-03 23:56:23.916 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from 709a1669-5fff-49b8-81d8-629ceb5b651b: query<what is teh weather in us>
2025-06-03 23:56:23.917 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: text_response
2025-06-03 23:56:23.917 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'query<what is teh weather in us>'
2025-06-03 23:56:27.029 | DEBUG    | server.websocket_handler:_heartbeat_loop:131 - Heartbeat sent to 1 connections
2025-06-03 23:56:57.034 | DEBUG    | server.websocket_handler:_heartbeat_loop:131 - Heartbeat sent to 1 connections
2025-06-03 23:57:13.956 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: 709a1669-5fff-49b8-81d8-629ceb5b651b
2025-06-03 23:57:13.957 | INFO     | server.websocket_handler:disconnect:47 - WebSocket disconnected. User ID: 709a1669-5fff-49b8-81d8-629ceb5b651b. Remaining connections: 0
2025-06-03 23:57:13.969 | INFO     | server.websocket_handler:_heartbeat_loop:134 - Heartbeat loop cancelled
2025-06-03 23:57:13.970 | INFO     | server.websocket_handler:stop_heartbeat:116 - Heartbeat stopped
2025-06-03 23:58:22.146 | INFO     | __main__:main:49 - Cleaning up...
2025-06-03 23:58:22.148 | INFO     | client.connection_manager:disconnect:116 - WebSocket disconnected
2025-06-03 23:58:22.149 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-04 09:22:37.099 | INFO     | server.agent_server:lifespan:53 - Agent Server shutting down...
2025-06-04 09:22:37.105 | INFO     | server.websocket_handler:disconnect_all:64 - All WebSocket connections closed
2025-06-04 09:22:37.107 | INFO     | server.orchestrator:shutdown:347 - Shutting down OrchestratorAgent...
2025-06-04 09:22:37.123 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-04 09:22:37.124 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-04 09:22:37.124 | INFO     | server.agent_server:lifespan:60 - Agent Server shutdown complete.
2025-06-04 09:22:37.137 | INFO     | __main__:main_async:182 - üèÅ Server stopped
2025-06-04 09:22:37.157 | INFO     | __main__:main:189 - üõë Shutdown signal received
2025-06-04 09:22:54.889 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 09:22:54.889 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-04 09:22:54.892 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5212/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:22:54.895 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:22:54.941 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5413/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:22:54.974 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-04 09:22:54.984 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-04 09:22:54.984 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-04 09:22:54.985 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-04 09:22:54.985 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-04 09:22:54.986 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-04 09:22:54.986 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-04 09:22:54.987 | INFO     | __main__:display_server_info:48 - üìä Environment: development
2025-06-04 09:22:54.987 | INFO     | __main__:display_server_info:49 - üîß Debug Mode: True
2025-06-04 09:22:54.988 | INFO     | __main__:display_server_info:50 - 
2025-06-04 09:22:54.992 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5212/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:22:54.995 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5212/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:22:54.996 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Weather Agent configured at http://127.0.0.1:5212/a2a
2025-06-04 09:22:54.998 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:22:55.001 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:22:55.002 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 09:22:55.005 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5413/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:22:55.007 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5413/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:22:55.022 | INFO     | __main__:check_agent_availability:34 - ‚úÖ News Agent configured at http://127.0.0.1:5413/a2a
2025-06-04 09:22:55.022 | INFO     | __main__:display_server_info:56 - ü§ñ Available A2A Agents:
2025-06-04 09:22:55.023 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5212/a2a
2025-06-04 09:22:55.023 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5513/a2a
2025-06-04 09:22:55.024 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ News Agent: http://127.0.0.1:5413/a2a
2025-06-04 09:22:55.024 | INFO     | __main__:display_server_info:65 - 
2025-06-04 09:22:55.025 | INFO     | __main__:display_server_info:66 - üí° API Documentation available at:
2025-06-04 09:22:55.026 | INFO     | __main__:display_server_info:67 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-04 09:22:55.026 | INFO     | __main__:display_server_info:68 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-04 09:22:55.027 | INFO     | __main__:display_server_info:69 - ======================================================================
2025-06-04 09:22:55.027 | INFO     | __main__:configure_uvicorn:150 - üîß Development mode: Hot-reloading enabled
2025-06-04 09:22:55.028 | INFO     | __main__:main_async:168 - üöÄ Starting Multi-Agent System Server...
2025-06-04 09:22:55.028 | INFO     | __main__:main_async:169 - Press Ctrl+C to stop the server
2025-06-04 09:22:55.077 | INFO     | server.agent_server:lifespan:28 - Agent Server starting up...
2025-06-04 09:22:55.077 | INFO     | server.orchestrator:initialize:35 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-04 09:22:55.078 | INFO     | server.orchestrator:initialize:41 - Found 3 agent configurations to process...
2025-06-04 09:22:55.078 | INFO     | server.orchestrator:initialize:44 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5212/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:22:55.078 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5212/a2a
2025-06-04 09:22:55.078 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for weather_agent
2025-06-04 09:22:55.377 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:521/.well-known/agent.json
2025-06-04 09:22:57.414 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:521/.well-known/agent.json: All connection attempts failed
2025-06-04 09:22:57.414 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:521/agent-card
2025-06-04 09:22:59.452 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:521/agent-card: All connection attempts failed
2025-06-04 09:22:59.453 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:521/info
2025-06-04 09:23:01.485 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:521/info: All connection attempts failed
2025-06-04 09:23:01.485 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:521/a2a
2025-06-04 09:23:03.526 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:521/a2a: All connection attempts failed
2025-06-04 09:23:03.527 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:521/
2025-06-04 09:23:05.555 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:521/: All connection attempts failed
2025-06-04 09:23:05.555 | WARNING  | server.orchestrator:_discover_agent_card_robust:190 - Could not discover agent card at any endpoint for weather_agent
2025-06-04 09:23:05.556 | WARNING  | server.orchestrator:initialize:81 - Could not discover AgentCard for weather_agent at http://127.0.0.1:5212/a2a. Trying fallback approach...
2025-06-04 09:23:05.558 | INFO     | server.orchestrator:_create_fallback_tool:281 - Creating fallback tool for weather_agent
2025-06-04 09:23:05.558 | INFO     | server.orchestrator:_create_fallback_tool:313 - Successfully created fallback tool for weather_agent
2025-06-04 09:23:05.559 | INFO     | server.orchestrator:initialize:44 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:23:05.560 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5513/a2a
2025-06-04 09:23:05.561 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for web_search_agent
2025-06-04 09:23:05.856 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 09:23:06.037 | DEBUG    | server.orchestrator:_discover_agent_card_robust:183 - Failed to parse JSON response from http://127.0.0.1:5513/.well-known/agent.json: Expecting value: line 2 column 1 (char 1)
2025-06-04 09:23:06.037 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5513/agent-card
2025-06-04 09:23:06.059 | DEBUG    | server.orchestrator:_discover_agent_card_robust:183 - Failed to parse JSON response from http://127.0.0.1:5513/agent-card: Expecting value: line 2 column 1 (char 1)
2025-06-04 09:23:06.060 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5513/info
2025-06-04 09:23:06.077 | DEBUG    | server.orchestrator:_discover_agent_card_robust:183 - Failed to parse JSON response from http://127.0.0.1:5513/info: Expecting value: line 2 column 1 (char 1)
2025-06-04 09:23:06.077 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5513/a2a
2025-06-04 09:23:06.092 | DEBUG    | server.orchestrator:_discover_agent_card_robust:183 - Failed to parse JSON response from http://127.0.0.1:5513/a2a: Expecting value: line 2 column 1 (char 1)
2025-06-04 09:23:06.092 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5513/
2025-06-04 09:23:06.106 | DEBUG    | server.orchestrator:_discover_agent_card_robust:183 - Failed to parse JSON response from http://127.0.0.1:5513/: Expecting value: line 2 column 1 (char 1)
2025-06-04 09:23:06.106 | WARNING  | server.orchestrator:_discover_agent_card_robust:190 - Could not discover agent card at any endpoint for web_search_agent
2025-06-04 09:23:06.107 | WARNING  | server.orchestrator:initialize:81 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5513/a2a. Trying fallback approach...
2025-06-04 09:23:06.107 | INFO     | server.orchestrator:_create_fallback_tool:281 - Creating fallback tool for web_search_agent
2025-06-04 09:23:06.107 | INFO     | server.orchestrator:_create_fallback_tool:313 - Successfully created fallback tool for web_search_agent
2025-06-04 09:23:06.107 | INFO     | server.orchestrator:initialize:44 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5413/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:23:06.108 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for news_agent at http://127.0.0.1:5413/a2a
2025-06-04 09:23:06.108 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for news_agent
2025-06-04 09:23:06.437 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5413/.well-known/agent.json
2025-06-04 09:23:06.538 | DEBUG    | server.orchestrator:_discover_agent_card_robust:183 - Failed to parse JSON response from http://127.0.0.1:5413/.well-known/agent.json: Expecting value: line 2 column 1 (char 1)
2025-06-04 09:23:06.538 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5413/agent-card
2025-06-04 09:23:06.573 | DEBUG    | server.orchestrator:_discover_agent_card_robust:183 - Failed to parse JSON response from http://127.0.0.1:5413/agent-card: Expecting value: line 2 column 1 (char 1)
2025-06-04 09:23:06.573 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5413/info
2025-06-04 09:23:06.589 | DEBUG    | server.orchestrator:_discover_agent_card_robust:183 - Failed to parse JSON response from http://127.0.0.1:5413/info: Expecting value: line 2 column 1 (char 1)
2025-06-04 09:23:06.589 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5413/a2a
2025-06-04 09:23:06.602 | DEBUG    | server.orchestrator:_discover_agent_card_robust:183 - Failed to parse JSON response from http://127.0.0.1:5413/a2a: Expecting value: line 2 column 1 (char 1)
2025-06-04 09:23:06.602 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5413/
2025-06-04 09:23:06.614 | DEBUG    | server.orchestrator:_discover_agent_card_robust:183 - Failed to parse JSON response from http://127.0.0.1:5413/: Expecting value: line 2 column 1 (char 1)
2025-06-04 09:23:06.614 | WARNING  | server.orchestrator:_discover_agent_card_robust:190 - Could not discover agent card at any endpoint for news_agent
2025-06-04 09:23:06.614 | WARNING  | server.orchestrator:initialize:81 - Could not discover AgentCard for news_agent at http://127.0.0.1:5413/a2a. Trying fallback approach...
2025-06-04 09:23:06.615 | INFO     | server.orchestrator:_create_fallback_tool:281 - Creating fallback tool for news_agent
2025-06-04 09:23:06.615 | INFO     | server.orchestrator:_create_fallback_tool:313 - Successfully created fallback tool for news_agent
2025-06-04 09:23:06.615 | INFO     | server.orchestrator:initialize:91 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-04 09:23:06.616 | INFO     | server.orchestrator:initialize:105 - Successfully initialized Perplexity LLM
2025-06-04 09:23:06.617 | INFO     | server.orchestrator:initialize:130 - Successfully created Orchestrator Agent with 3 tools
2025-06-04 09:23:06.618 | INFO     | server.orchestrator:initialize:142 - Successfully created Runner
2025-06-04 09:23:06.619 | INFO     | server.orchestrator:initialize:148 - OrchestratorAgent fully initialized and ready.
2025-06-04 09:23:06.620 | INFO     | server.agent_server:lifespan:31 - Orchestrator Agent initialized.
2025-06-04 09:23:06.621 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: weather_agent
2025-06-04 09:23:06.621 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: web_search_agent
2025-06-04 09:23:06.621 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: news_agent
2025-06-04 09:23:06.622 | INFO     | server.agent_server:lifespan:51 - Agent Server startup complete.
2025-06-04 09:23:06.622 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-04 09:23:06.623 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-04 09:24:36.288 | INFO     | server.agent_server:lifespan:53 - Agent Server shutting down...
2025-06-04 09:24:36.289 | INFO     | server.websocket_handler:disconnect_all:64 - All WebSocket connections closed
2025-06-04 09:24:36.289 | INFO     | server.orchestrator:shutdown:347 - Shutting down OrchestratorAgent...
2025-06-04 09:24:36.290 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-04 09:24:36.290 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-04 09:24:36.291 | INFO     | server.agent_server:lifespan:60 - Agent Server shutdown complete.
2025-06-04 09:24:36.293 | INFO     | __main__:main_async:182 - üèÅ Server stopped
2025-06-04 09:24:36.295 | INFO     | __main__:main:189 - üõë Shutdown signal received
2025-06-04 09:24:51.173 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 09:24:51.176 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-04 09:24:51.178 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:24:51.181 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:24:51.184 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:24:51.185 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-04 09:24:51.185 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-04 09:24:51.185 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-04 09:24:51.186 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-04 09:24:51.186 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-04 09:24:51.186 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-04 09:24:51.187 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-04 09:24:51.187 | INFO     | __main__:display_server_info:48 - üìä Environment: development
2025-06-04 09:24:51.187 | INFO     | __main__:display_server_info:49 - üîß Debug Mode: True
2025-06-04 09:24:51.187 | INFO     | __main__:display_server_info:50 - 
2025-06-04 09:24:51.189 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:24:51.191 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:24:51.192 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 09:24:51.194 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:24:51.196 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:24:51.196 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5512/a2a
2025-06-04 09:24:51.199 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:24:51.204 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:24:51.205 | INFO     | __main__:check_agent_availability:34 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 09:24:51.207 | INFO     | __main__:display_server_info:56 - ü§ñ Available A2A Agents:
2025-06-04 09:24:51.208 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-04 09:24:51.209 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5512/a2a
2025-06-04 09:24:51.210 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-04 09:24:51.210 | INFO     | __main__:display_server_info:65 - 
2025-06-04 09:24:51.210 | INFO     | __main__:display_server_info:66 - üí° API Documentation available at:
2025-06-04 09:24:51.211 | INFO     | __main__:display_server_info:67 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-04 09:24:51.211 | INFO     | __main__:display_server_info:68 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-04 09:24:51.211 | INFO     | __main__:display_server_info:69 - ======================================================================
2025-06-04 09:24:51.211 | INFO     | __main__:configure_uvicorn:150 - üîß Development mode: Hot-reloading enabled
2025-06-04 09:24:51.212 | INFO     | __main__:main_async:168 - üöÄ Starting Multi-Agent System Server...
2025-06-04 09:24:51.212 | INFO     | __main__:main_async:169 - Press Ctrl+C to stop the server
2025-06-04 09:24:51.244 | INFO     | server.agent_server:lifespan:28 - Agent Server starting up...
2025-06-04 09:24:51.244 | INFO     | server.orchestrator:initialize:35 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-04 09:24:51.244 | INFO     | server.orchestrator:initialize:41 - Found 3 agent configurations to process...
2025-06-04 09:24:51.245 | INFO     | server.orchestrator:initialize:44 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:24:51.245 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-04 09:24:51.245 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for weather_agent
2025-06-04 09:24:51.542 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 09:24:51.553 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for weather_agent at http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 09:24:51.556 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for weather_agent
2025-06-04 09:24:51.556 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for weather_agent
2025-06-04 09:24:51.556 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Weather Agent (weather_agent) at http://127.0.0.1:5211/a2a
2025-06-04 09:24:51.557 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for weather_agent
2025-06-04 09:24:51.558 | INFO     | server.orchestrator:initialize:44 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:24:51.558 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5512/a2a
2025-06-04 09:24:51.558 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for web_search_agent
2025-06-04 09:24:51.856 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/.well-known/agent.json
2025-06-04 09:24:53.900 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/.well-known/agent.json: All connection attempts failed
2025-06-04 09:24:53.900 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/agent-card
2025-06-04 09:24:55.935 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/agent-card: All connection attempts failed
2025-06-04 09:24:55.936 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/info
2025-06-04 09:24:57.950 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/info: All connection attempts failed
2025-06-04 09:24:57.950 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/a2a
2025-06-04 09:25:00.003 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/a2a: All connection attempts failed
2025-06-04 09:25:00.003 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/
2025-06-04 09:25:02.048 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/: All connection attempts failed
2025-06-04 09:25:02.048 | WARNING  | server.orchestrator:_discover_agent_card_robust:190 - Could not discover agent card at any endpoint for web_search_agent
2025-06-04 09:25:02.049 | WARNING  | server.orchestrator:initialize:81 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5512/a2a. Trying fallback approach...
2025-06-04 09:25:02.049 | INFO     | server.orchestrator:_create_fallback_tool:281 - Creating fallback tool for web_search_agent
2025-06-04 09:25:02.050 | INFO     | server.orchestrator:_create_fallback_tool:313 - Successfully created fallback tool for web_search_agent
2025-06-04 09:25:02.050 | INFO     | server.orchestrator:initialize:44 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:25:02.051 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-04 09:25:02.051 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for news_agent
2025-06-04 09:25:02.343 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 09:25:02.354 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for news_agent at http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 09:25:02.355 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for news_agent
2025-06-04 09:25:02.355 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for news_agent
2025-06-04 09:25:02.355 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: News Agent (news_agent) at http://127.0.0.1:5313/a2a
2025-06-04 09:25:02.356 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for news_agent
2025-06-04 09:25:02.356 | INFO     | server.orchestrator:initialize:91 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-04 09:25:02.357 | INFO     | server.orchestrator:initialize:105 - Successfully initialized Perplexity LLM
2025-06-04 09:25:02.357 | INFO     | server.orchestrator:initialize:130 - Successfully created Orchestrator Agent with 3 tools
2025-06-04 09:25:02.357 | INFO     | server.orchestrator:initialize:142 - Successfully created Runner
2025-06-04 09:25:02.358 | INFO     | server.orchestrator:initialize:148 - OrchestratorAgent fully initialized and ready.
2025-06-04 09:25:02.358 | INFO     | server.agent_server:lifespan:31 - Orchestrator Agent initialized.
2025-06-04 09:25:02.358 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: weather_agent
2025-06-04 09:25:02.359 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: web_search_agent
2025-06-04 09:25:02.359 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: news_agent
2025-06-04 09:25:02.359 | INFO     | server.agent_server:lifespan:51 - Agent Server startup complete.
2025-06-04 09:25:02.360 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-04 09:25:02.360 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-04 09:29:35.645 | INFO     | server.agent_server:lifespan:53 - Agent Server shutting down...
2025-06-04 09:29:35.657 | INFO     | server.websocket_handler:disconnect_all:64 - All WebSocket connections closed
2025-06-04 09:29:35.658 | INFO     | server.orchestrator:shutdown:347 - Shutting down OrchestratorAgent...
2025-06-04 09:29:35.669 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-04 09:29:35.670 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-04 09:29:35.670 | INFO     | server.agent_server:lifespan:60 - Agent Server shutdown complete.
2025-06-04 09:29:35.678 | INFO     | __main__:main_async:182 - üèÅ Server stopped
2025-06-04 09:29:35.690 | INFO     | __main__:main:189 - üõë Shutdown signal received
2025-06-04 09:29:52.647 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 09:29:52.648 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-04 09:29:52.652 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:29:52.654 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:29:52.656 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:29:52.657 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-04 09:29:52.657 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-04 09:29:52.658 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-04 09:29:52.658 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-04 09:29:52.658 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-04 09:29:52.658 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-04 09:29:52.659 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-04 09:29:52.659 | INFO     | __main__:display_server_info:48 - üìä Environment: development
2025-06-04 09:29:52.660 | INFO     | __main__:display_server_info:49 - üîß Debug Mode: True
2025-06-04 09:29:52.661 | INFO     | __main__:display_server_info:50 - 
2025-06-04 09:29:52.664 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:29:52.667 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:29:52.668 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 09:29:52.670 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:29:52.672 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:29:52.672 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5512/a2a
2025-06-04 09:29:52.675 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:29:52.679 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:29:52.679 | INFO     | __main__:check_agent_availability:34 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 09:29:52.679 | INFO     | __main__:display_server_info:56 - ü§ñ Available A2A Agents:
2025-06-04 09:29:52.680 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-04 09:29:52.680 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5512/a2a
2025-06-04 09:29:52.680 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-04 09:29:52.681 | INFO     | __main__:display_server_info:65 - 
2025-06-04 09:29:52.681 | INFO     | __main__:display_server_info:66 - üí° API Documentation available at:
2025-06-04 09:29:52.681 | INFO     | __main__:display_server_info:67 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-04 09:29:52.681 | INFO     | __main__:display_server_info:68 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-04 09:29:52.682 | INFO     | __main__:display_server_info:69 - ======================================================================
2025-06-04 09:29:52.682 | INFO     | __main__:configure_uvicorn:150 - üîß Development mode: Hot-reloading enabled
2025-06-04 09:29:52.682 | INFO     | __main__:main_async:168 - üöÄ Starting Multi-Agent System Server...
2025-06-04 09:29:52.682 | INFO     | __main__:main_async:169 - Press Ctrl+C to stop the server
2025-06-04 09:29:52.716 | INFO     | server.agent_server:lifespan:28 - Agent Server starting up...
2025-06-04 09:29:52.716 | INFO     | server.orchestrator:initialize:35 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-04 09:29:52.716 | INFO     | server.orchestrator:initialize:41 - Found 3 agent configurations to process...
2025-06-04 09:29:52.717 | INFO     | server.orchestrator:initialize:44 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:29:52.717 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-04 09:29:52.717 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for weather_agent
2025-06-04 09:29:53.085 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 09:29:53.099 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for weather_agent at http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 09:29:53.100 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for weather_agent
2025-06-04 09:29:53.100 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for weather_agent
2025-06-04 09:29:53.100 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Weather Agent (weather_agent) at http://127.0.0.1:5211/a2a
2025-06-04 09:29:53.100 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for weather_agent
2025-06-04 09:29:53.100 | INFO     | server.orchestrator:initialize:44 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5512/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:29:53.101 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5512/a2a
2025-06-04 09:29:53.101 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for web_search_agent
2025-06-04 09:29:53.421 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/.well-known/agent.json
2025-06-04 09:29:55.456 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/.well-known/agent.json: All connection attempts failed
2025-06-04 09:29:55.456 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/agent-card
2025-06-04 09:29:57.483 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/agent-card: All connection attempts failed
2025-06-04 09:29:57.484 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/info
2025-06-04 09:29:59.519 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/info: All connection attempts failed
2025-06-04 09:29:59.519 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/a2a
2025-06-04 09:30:01.552 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/a2a: All connection attempts failed
2025-06-04 09:30:01.552 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:551/
2025-06-04 09:30:03.587 | DEBUG    | server.orchestrator:_discover_agent_card_robust:188 - Discovery failed for http://127.0.0.1:551/: All connection attempts failed
2025-06-04 09:30:03.587 | WARNING  | server.orchestrator:_discover_agent_card_robust:190 - Could not discover agent card at any endpoint for web_search_agent
2025-06-04 09:30:03.588 | WARNING  | server.orchestrator:initialize:81 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5512/a2a. Trying fallback approach...
2025-06-04 09:30:03.588 | INFO     | server.orchestrator:_create_fallback_tool:281 - Creating fallback tool for web_search_agent
2025-06-04 09:30:03.589 | INFO     | server.orchestrator:_create_fallback_tool:313 - Successfully created fallback tool for web_search_agent
2025-06-04 09:30:03.590 | INFO     | server.orchestrator:initialize:44 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:30:03.591 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-04 09:30:03.591 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for news_agent
2025-06-04 09:30:03.929 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 09:30:03.949 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for news_agent at http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 09:30:03.950 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for news_agent
2025-06-04 09:30:03.950 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for news_agent
2025-06-04 09:30:03.950 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: News Agent (news_agent) at http://127.0.0.1:5313/a2a
2025-06-04 09:30:03.950 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for news_agent
2025-06-04 09:30:03.951 | INFO     | server.orchestrator:initialize:91 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-04 09:30:03.951 | INFO     | server.orchestrator:initialize:105 - Successfully initialized Perplexity LLM
2025-06-04 09:30:03.951 | INFO     | server.orchestrator:initialize:130 - Successfully created Orchestrator Agent with 3 tools
2025-06-04 09:30:03.951 | INFO     | server.orchestrator:initialize:142 - Successfully created Runner
2025-06-04 09:30:03.952 | INFO     | server.orchestrator:initialize:148 - OrchestratorAgent fully initialized and ready.
2025-06-04 09:30:03.952 | INFO     | server.agent_server:lifespan:31 - Orchestrator Agent initialized.
2025-06-04 09:30:03.952 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: weather_agent
2025-06-04 09:30:03.952 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: web_search_agent
2025-06-04 09:30:03.953 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: news_agent
2025-06-04 09:30:03.953 | INFO     | server.agent_server:lifespan:51 - Agent Server startup complete.
2025-06-04 09:30:03.953 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-04 09:30:03.953 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-04 09:31:13.595 | INFO     | server.agent_server:lifespan:53 - Agent Server shutting down...
2025-06-04 09:31:13.595 | INFO     | server.websocket_handler:disconnect_all:64 - All WebSocket connections closed
2025-06-04 09:31:13.596 | INFO     | server.orchestrator:shutdown:347 - Shutting down OrchestratorAgent...
2025-06-04 09:31:13.596 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-04 09:31:13.596 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-04 09:31:13.597 | INFO     | server.agent_server:lifespan:60 - Agent Server shutdown complete.
2025-06-04 09:31:13.598 | INFO     | __main__:main_async:182 - üèÅ Server stopped
2025-06-04 09:31:13.599 | INFO     | __main__:main:189 - üõë Shutdown signal received
2025-06-04 09:31:30.651 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 09:31:30.652 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-04 09:31:30.656 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:31:30.662 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:31:30.667 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:31:30.667 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-04 09:31:30.668 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-04 09:31:30.669 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-04 09:31:30.669 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-04 09:31:30.670 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-04 09:31:30.670 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-04 09:31:30.670 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-04 09:31:30.671 | INFO     | __main__:display_server_info:48 - üìä Environment: development
2025-06-04 09:31:30.671 | INFO     | __main__:display_server_info:49 - üîß Debug Mode: True
2025-06-04 09:31:30.671 | INFO     | __main__:display_server_info:50 - 
2025-06-04 09:31:30.675 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:31:30.679 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:31:30.680 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 09:31:30.684 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:31:30.690 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:31:30.691 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 09:31:30.697 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:31:30.702 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:31:30.702 | INFO     | __main__:check_agent_availability:34 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 09:31:30.703 | INFO     | __main__:display_server_info:56 - ü§ñ Available A2A Agents:
2025-06-04 09:31:30.704 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-04 09:31:30.704 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5513/a2a
2025-06-04 09:31:30.705 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-04 09:31:30.706 | INFO     | __main__:display_server_info:65 - 
2025-06-04 09:31:30.707 | INFO     | __main__:display_server_info:66 - üí° API Documentation available at:
2025-06-04 09:31:30.708 | INFO     | __main__:display_server_info:67 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-04 09:31:30.709 | INFO     | __main__:display_server_info:68 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-04 09:31:30.710 | INFO     | __main__:display_server_info:69 - ======================================================================
2025-06-04 09:31:30.712 | INFO     | __main__:configure_uvicorn:150 - üîß Development mode: Hot-reloading enabled
2025-06-04 09:31:30.712 | INFO     | __main__:main_async:168 - üöÄ Starting Multi-Agent System Server...
2025-06-04 09:31:30.713 | INFO     | __main__:main_async:169 - Press Ctrl+C to stop the server
2025-06-04 09:31:30.775 | INFO     | server.agent_server:lifespan:28 - Agent Server starting up...
2025-06-04 09:31:30.776 | INFO     | server.orchestrator:initialize:35 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-04 09:31:30.776 | INFO     | server.orchestrator:initialize:41 - Found 3 agent configurations to process...
2025-06-04 09:31:30.776 | INFO     | server.orchestrator:initialize:44 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:31:30.777 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-04 09:31:30.777 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for weather_agent
2025-06-04 09:31:31.346 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 09:31:31.365 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for weather_agent at http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 09:31:31.366 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for weather_agent
2025-06-04 09:31:31.367 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for weather_agent
2025-06-04 09:31:31.367 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Weather Agent (weather_agent) at http://127.0.0.1:5211/a2a
2025-06-04 09:31:31.369 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for weather_agent
2025-06-04 09:31:31.371 | INFO     | server.orchestrator:initialize:44 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:31:31.372 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5513/a2a
2025-06-04 09:31:31.373 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for web_search_agent
2025-06-04 09:31:31.984 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 09:31:31.995 | DEBUG    | server.orchestrator:_discover_agent_card_robust:183 - Failed to parse JSON response from http://127.0.0.1:5513/.well-known/agent.json: Expecting value: line 2 column 1 (char 1)
2025-06-04 09:31:31.995 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5513/agent-card
2025-06-04 09:31:32.011 | DEBUG    | server.orchestrator:_discover_agent_card_robust:183 - Failed to parse JSON response from http://127.0.0.1:5513/agent-card: Expecting value: line 2 column 1 (char 1)
2025-06-04 09:31:32.011 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5513/info
2025-06-04 09:31:32.033 | DEBUG    | server.orchestrator:_discover_agent_card_robust:183 - Failed to parse JSON response from http://127.0.0.1:5513/info: Expecting value: line 2 column 1 (char 1)
2025-06-04 09:31:32.033 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5513/a2a
2025-06-04 09:31:32.050 | DEBUG    | server.orchestrator:_discover_agent_card_robust:183 - Failed to parse JSON response from http://127.0.0.1:5513/a2a: Expecting value: line 2 column 1 (char 1)
2025-06-04 09:31:32.050 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5513/
2025-06-04 09:31:32.069 | DEBUG    | server.orchestrator:_discover_agent_card_robust:183 - Failed to parse JSON response from http://127.0.0.1:5513/: Expecting value: line 2 column 1 (char 1)
2025-06-04 09:31:32.070 | WARNING  | server.orchestrator:_discover_agent_card_robust:190 - Could not discover agent card at any endpoint for web_search_agent
2025-06-04 09:31:32.070 | WARNING  | server.orchestrator:initialize:81 - Could not discover AgentCard for web_search_agent at http://127.0.0.1:5513/a2a. Trying fallback approach...
2025-06-04 09:31:32.071 | INFO     | server.orchestrator:_create_fallback_tool:281 - Creating fallback tool for web_search_agent
2025-06-04 09:31:32.071 | INFO     | server.orchestrator:_create_fallback_tool:313 - Successfully created fallback tool for web_search_agent
2025-06-04 09:31:32.072 | INFO     | server.orchestrator:initialize:44 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:31:32.072 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-04 09:31:32.073 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for news_agent
2025-06-04 09:31:32.600 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 09:31:32.608 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for news_agent at http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 09:31:32.609 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for news_agent
2025-06-04 09:31:32.609 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for news_agent
2025-06-04 09:31:32.609 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: News Agent (news_agent) at http://127.0.0.1:5313/a2a
2025-06-04 09:31:32.609 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for news_agent
2025-06-04 09:31:32.610 | INFO     | server.orchestrator:initialize:91 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-04 09:31:32.610 | INFO     | server.orchestrator:initialize:105 - Successfully initialized Perplexity LLM
2025-06-04 09:31:32.611 | INFO     | server.orchestrator:initialize:130 - Successfully created Orchestrator Agent with 3 tools
2025-06-04 09:31:32.611 | INFO     | server.orchestrator:initialize:142 - Successfully created Runner
2025-06-04 09:31:32.612 | INFO     | server.orchestrator:initialize:148 - OrchestratorAgent fully initialized and ready.
2025-06-04 09:31:32.612 | INFO     | server.agent_server:lifespan:31 - Orchestrator Agent initialized.
2025-06-04 09:31:32.613 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: weather_agent
2025-06-04 09:31:32.613 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: web_search_agent
2025-06-04 09:31:32.613 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: news_agent
2025-06-04 09:31:32.614 | INFO     | server.agent_server:lifespan:51 - Agent Server startup complete.
2025-06-04 09:31:32.614 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-04 09:31:32.615 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-04 09:40:27.843 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 09:40:27.849 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:40:28.707 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:40:29.397 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:40:30.101 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:40:30.107 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:40:30.110 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:46:32.472 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 09:46:32.476 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:46:33.385 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:46:34.006 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:46:34.706 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:46:34.709 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:46:34.711 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:46:48.910 | INFO     | server.agent_server:lifespan:53 - Agent Server shutting down...
2025-06-04 09:46:48.920 | INFO     | server.websocket_handler:disconnect_all:64 - All WebSocket connections closed
2025-06-04 09:46:48.923 | INFO     | server.orchestrator:shutdown:347 - Shutting down OrchestratorAgent...
2025-06-04 09:46:48.936 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-04 09:46:48.937 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-04 09:46:48.938 | INFO     | server.agent_server:lifespan:60 - Agent Server shutdown complete.
2025-06-04 09:46:48.946 | INFO     | __main__:main_async:182 - üèÅ Server stopped
2025-06-04 09:46:48.956 | INFO     | __main__:main:189 - üõë Shutdown signal received
2025-06-04 09:48:46.929 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 09:48:46.930 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-04 09:48:46.933 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:48:46.936 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:48:46.939 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:48:46.939 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-04 09:48:46.940 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-04 09:48:46.940 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-04 09:48:46.940 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-04 09:48:46.941 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-04 09:48:46.941 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-04 09:48:46.941 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-04 09:48:46.941 | INFO     | __main__:display_server_info:48 - üìä Environment: development
2025-06-04 09:48:46.942 | INFO     | __main__:display_server_info:49 - üîß Debug Mode: True
2025-06-04 09:48:46.942 | INFO     | __main__:display_server_info:50 - 
2025-06-04 09:48:46.944 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:48:46.947 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:48:46.948 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 09:48:46.951 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:48:46.954 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:48:46.954 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 09:48:46.957 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:48:46.959 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:48:46.959 | INFO     | __main__:check_agent_availability:34 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 09:48:46.960 | INFO     | __main__:display_server_info:56 - ü§ñ Available A2A Agents:
2025-06-04 09:48:46.960 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-04 09:48:46.960 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5513/a2a
2025-06-04 09:48:46.961 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-04 09:48:46.961 | INFO     | __main__:display_server_info:65 - 
2025-06-04 09:48:46.961 | INFO     | __main__:display_server_info:66 - üí° API Documentation available at:
2025-06-04 09:48:46.962 | INFO     | __main__:display_server_info:67 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-04 09:48:46.962 | INFO     | __main__:display_server_info:68 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-04 09:48:46.962 | INFO     | __main__:display_server_info:69 - ======================================================================
2025-06-04 09:48:46.963 | INFO     | __main__:configure_uvicorn:150 - üîß Development mode: Hot-reloading enabled
2025-06-04 09:48:46.963 | INFO     | __main__:main_async:168 - üöÄ Starting Multi-Agent System Server...
2025-06-04 09:48:46.964 | INFO     | __main__:main_async:169 - Press Ctrl+C to stop the server
2025-06-04 09:48:47.008 | INFO     | server.agent_server:lifespan:28 - Agent Server starting up...
2025-06-04 09:48:47.008 | INFO     | server.orchestrator:initialize:35 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-04 09:48:47.008 | INFO     | server.orchestrator:initialize:41 - Found 3 agent configurations to process...
2025-06-04 09:48:47.009 | INFO     | server.orchestrator:initialize:44 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 09:48:47.009 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-04 09:48:47.009 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for weather_agent
2025-06-04 09:48:47.349 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 09:48:47.363 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for weather_agent at http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 09:48:47.363 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for weather_agent
2025-06-04 09:48:47.364 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for weather_agent
2025-06-04 09:48:47.364 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Weather Agent (weather_agent) at http://127.0.0.1:5211/a2a
2025-06-04 09:48:47.364 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for weather_agent
2025-06-04 09:48:47.365 | INFO     | server.orchestrator:initialize:44 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 09:48:47.365 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5513/a2a
2025-06-04 09:48:47.365 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for web_search_agent
2025-06-04 09:48:47.663 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 09:48:47.670 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for web_search_agent at http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 09:48:47.671 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for web_search_agent
2025-06-04 09:48:47.672 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for web_search_agent
2025-06-04 09:48:47.672 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Web Search Agent (web_search_agent) at http://127.0.0.1:5513/a2a
2025-06-04 09:48:47.673 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for web_search_agent
2025-06-04 09:48:47.674 | INFO     | server.orchestrator:initialize:44 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 09:48:47.674 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-04 09:48:47.675 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for news_agent
2025-06-04 09:48:47.988 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 09:48:47.995 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for news_agent at http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 09:48:47.996 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for news_agent
2025-06-04 09:48:47.996 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for news_agent
2025-06-04 09:48:47.997 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: News Agent (news_agent) at http://127.0.0.1:5313/a2a
2025-06-04 09:48:47.997 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for news_agent
2025-06-04 09:48:47.997 | INFO     | server.orchestrator:initialize:91 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-04 09:48:47.998 | INFO     | server.orchestrator:initialize:105 - Successfully initialized Perplexity LLM
2025-06-04 09:48:47.999 | INFO     | server.orchestrator:initialize:130 - Successfully created Orchestrator Agent with 3 tools
2025-06-04 09:48:47.999 | INFO     | server.orchestrator:initialize:142 - Successfully created Runner
2025-06-04 09:48:47.999 | INFO     | server.orchestrator:initialize:148 - OrchestratorAgent fully initialized and ready.
2025-06-04 09:48:47.999 | INFO     | server.agent_server:lifespan:31 - Orchestrator Agent initialized.
2025-06-04 09:48:48.000 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: weather_agent
2025-06-04 09:48:48.000 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: web_search_agent
2025-06-04 09:48:48.001 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: news_agent
2025-06-04 09:48:48.001 | INFO     | server.agent_server:lifespan:51 - Agent Server startup complete.
2025-06-04 09:48:48.002 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-04 09:48:48.002 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-04 09:49:07.213 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 09:49:07.215 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-04 09:49:07.215 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-04 09:49:07.216 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-04 09:49:07.216 | INFO     | client.connection_manager:connect:34 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-04 09:49:07.281 | INFO     | server.websocket_handler:connect:26 - WebSocket connected. User ID: 35830d46-6b63-4555-b5d7-9a927cc99c67. Total connections: 1
2025-06-04 09:49:07.286 | INFO     | client.connection_manager:connect:53 - WebSocket connected successfully
2025-06-04 09:49:07.287 | INFO     | server.websocket_handler:start_heartbeat:106 - Heartbeat started
ype: connection_established
2025-06-04 09:49:07.287 | DEBUG    | client.connection_manager:_handle_message:196 - Connection established message handled
2025-06-04 09:49:07.287 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: 35830d46-6b63-4555-b5d7-9a927cc99c67
2025-06-04 09:49:07.287 | INFO     | client.connection_manager:connect:67 - Connection established. User ID: 35830d46-6b63-4555-b5d7-9a927cc99c67
2025-06-04 09:49:07.287 | INFO     | client.agent_client:connect:62 - Client connected successfully. User ID: 35830d46-6b63-4555-b5d7-9a927cc99c67
2025-06-04 09:49:07.288 | INFO     | __main__:main:38 - Successfully connected to Multi-Agent System
2025-06-04 09:49:07.288 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 09:49:07.288 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 09:49:07.289 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 09:49:07.290 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 09:49:07.290 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 09:49:09.303 | INFO     | client.agent_client:send_query:89 - Sending query: What is the weather like today?
2025-06-04 09:49:09.304 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'What is the weather like today?', 'query_id': '68ac2a6f-273d-443c-b634-949065cd8589', 'timestamp': 328500.491421}
2025-06-04 09:49:09.305 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "What is the weather like today?", "query_id": "68ac2a6f-273d-443c-b634-949065cd8589", "timestamp": 328500.491421}
2025-06-04 09:49:09.307 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 09:49:09.307 | ERROR    | server.agent_server:process_websocket_message:129 - Error processing WebSocket message: module 'asyncio' has no attribute 'time'
g
2025-06-04 09:49:09.310 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: unknown
2025-06-04 09:49:09.310 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: unknown
2025-06-04 09:49:12.311 | INFO     | client.agent_client:send_query:89 - Sending query: Can you help me with data analysis?
2025-06-04 09:49:12.312 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'Can you help me with data analysis?', 'query_id': '8ff9ab1c-36e5-4d05-8c21-c5423b8d1d6e', 'timestamp': 328503.4995801}
2025-06-04 09:49:12.312 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Can you help me with data analysis?", "query_id": "8ff9ab1c-36e5-4d05-8c21-c5423b8d1d6e", "timestamp": 328503.4995801}
2025-06-04 09:49:12.314 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 09:49:12.314 | ERROR    | server.agent_server:process_websocket_message:129 - Error processing WebSocket message: module 'asyncio' has no attribute 'time'
2025-06-04 09:49:12.314 | INFO     | client.agent_client:_handle_query_received:132 - Query 8ff9ab1c-36e5-4d05-8c21-c5423b8d1d6e received by server - Status: processing
2025-06-04 09:49:12.315 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: unknown
2025-06-04 09:49:12.315 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: unknown
2025-06-04 09:49:15.325 | INFO     | client.agent_client:send_text:104 - Sending text: Hello, this is a test message!
2025-06-04 09:49:15.326 | DEBUG    | client.connection_manager:send_text:141 - Sent text: Hello, this is a test message!
2025-06-04 09:49:15.326 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: Hello, this is a test message!
2025-06-04 09:49:15.327 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from 35830d46-6b63-4555-b5d7-9a927cc99c67: Hello, this is a test message!
2025-06-04 09:49:15.328 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: text_response
2025-06-04 09:49:15.328 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'Hello, this is a test message!'
2025-06-04 09:49:17.342 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 09:49:17.344 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 09:49:17.345 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 09:49:17.348 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 09:49:17.348 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 09:49:37.300 | DEBUG    | server.websocket_handler:_heartbeat_loop:131 - Heartbeat sent to 1 connections
2025-06-04 09:49:57.318 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: 35830d46-6b63-4555-b5d7-9a927cc99c67
2025-06-04 09:49:57.319 | INFO     | server.websocket_handler:disconnect:47 - WebSocket disconnected. User ID: 35830d46-6b63-4555-b5d7-9a927cc99c67. Remaining connections: 0
2025-06-04 09:49:57.320 | INFO     | server.websocket_handler:_heartbeat_loop:134 - Heartbeat loop cancelled
2025-06-04 09:49:57.321 | INFO     | server.websocket_handler:stop_heartbeat:116 - Heartbeat stopped
2025-06-04 09:55:48.008 | INFO     | __main__:main:49 - Cleaning up...
2025-06-04 09:55:48.049 | INFO     | client.connection_manager:disconnect:116 - WebSocket disconnected
2025-06-04 09:55:48.049 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-04 09:55:50.152 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 09:55:50.154 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-04 09:55:50.154 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-04 09:55:50.155 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-04 09:55:50.155 | INFO     | client.connection_manager:connect:34 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-04 09:55:50.319 | INFO     | server.websocket_handler:connect:26 - WebSocket connected. User ID: 7dd811fb-2999-424a-96c1-f0401821967e. Total connections: 1
2025-06-04 09:55:50.332 | INFO     | client.connection_manager:connect:53 - WebSocket connected successfully
2025-06-04 09:55:50.337 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: connection_established
2025-06-04 09:55:50.337 | DEBUG    | client.connection_manager:_handle_message:196 - Connection established message handled
2025-06-04 09:55:50.337 | INFO     | client.connection_manager:connect:67 - Connection established. User ID: 7dd811fb-2999-424a-96c1-f0401821967e
2025-06-04 09:55:50.337 | INFO     | client.agent_client:connect:62 - Client connected successfully. User ID: 7dd811fb-2999-424a-96c1-f0401821967e
2025-06-04 09:55:50.337 | INFO     | server.websocket_handler:start_heartbeat:106 - Heartbeat started
2025-06-04 09:55:50.337 | INFO     | __main__:main:38 - Successfully connected to Multi-Agent System
2025-06-04 09:55:50.338 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: 7dd811fb-2999-424a-96c1-f0401821967e
2025-06-04 09:55:50.340 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 09:55:50.340 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 09:55:50.342 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 09:55:50.344 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 09:55:50.344 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 09:55:52.348 | INFO     | client.agent_client:send_query:89 - Sending query: What is the weather like today?
2025-06-04 09:55:52.349 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'What is the weather like today?', 'query_id': '870cb5ab-5d5f-4389-8b66-fe2a037165e6', 'timestamp': 328903.5370296}
2025-06-04 09:55:52.349 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "What is the weather like today?", "query_id": "870cb5ab-5d5f-4389-8b66-fe2a037165e6", "timestamp": 328903.5370296}
2025-06-04 09:55:52.351 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 09:55:52.351 | INFO     | client.agent_client:_handle_query_received:132 - Query 870cb5ab-5d5f-4389-8b66-fe2a037165e6 received by server - Status: processing
2025-06-04 09:55:52.353 | ERROR    | server.agent_server:process_websocket_message:129 - Error processing WebSocket message: module 'asyncio' has no attribute 'time'
2025-06-04 09:55:52.355 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: unknown
2025-06-04 09:55:52.355 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: unknown
2025-06-04 09:55:55.359 | INFO     | client.agent_client:send_query:89 - Sending query: Can you help me with data analysis?
2025-06-04 09:55:55.359 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'Can you help me with data analysis?', 'query_id': '81edf958-2ecc-4e4b-bce6-b25f6ddbf369', 'timestamp': 328906.5475498}
2025-06-04 09:55:55.360 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Can you help me with data analysis?", "query_id": "81edf958-2ecc-4e4b-bce6-b25f6ddbf369", "timestamp": 328906.5475498}
2025-06-04 09:55:55.362 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 09:55:55.362 | ERROR    | server.agent_server:process_websocket_message:129 - Error processing WebSocket message: module 'asyncio' has no attribute 'time'
2025-06-04 09:55:55.362 | INFO     | client.agent_client:_handle_query_received:132 - Query 81edf958-2ecc-4e4b-bce6-b25f6ddbf369 received by server - Status: processing
2025-06-04 09:55:55.363 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: unknown
2025-06-04 09:55:55.363 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: unknown
2025-06-04 09:55:58.375 | INFO     | client.agent_client:send_text:104 - Sending text: Hello, this is a test message!
2025-06-04 09:55:58.376 | DEBUG    | client.connection_manager:send_text:141 - Sent text: Hello, this is a test message!
2025-06-04 09:55:58.377 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: Hello, this is a test message!
2025-06-04 09:55:58.378 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from 7dd811fb-2999-424a-96c1-f0401821967e: Hello, this is a test message!
2025-06-04 09:55:58.380 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: text_response
2025-06-04 09:55:58.380 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'Hello, this is a test message!'
2025-06-04 09:56:00.392 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 09:56:00.393 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 09:56:00.394 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 09:56:00.396 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 09:56:00.396 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 09:56:20.350 | DEBUG    | server.websocket_handler:_heartbeat_loop:131 - Heartbeat sent to 1 connections
2025-06-04 09:56:40.367 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: 7dd811fb-2999-424a-96c1-f0401821967e
2025-06-04 09:56:40.368 | INFO     | server.websocket_handler:disconnect:47 - WebSocket disconnected. User ID: 7dd811fb-2999-424a-96c1-f0401821967e. Remaining connections: 0
2025-06-04 09:56:40.371 | INFO     | server.websocket_handler:_heartbeat_loop:134 - Heartbeat loop cancelled
2025-06-04 09:56:40.371 | INFO     | server.websocket_handler:stop_heartbeat:116 - Heartbeat stopped
2025-06-04 10:03:34.598 | INFO     | __main__:main:49 - Cleaning up...
2025-06-04 10:03:34.644 | INFO     | client.connection_manager:disconnect:116 - WebSocket disconnected
2025-06-04 10:03:34.644 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-04 10:03:36.534 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 10:03:36.536 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-04 10:03:36.537 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-04 10:03:36.537 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-04 10:03:36.537 | INFO     | client.connection_manager:connect:34 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-04 10:03:36.627 | INFO     | server.websocket_handler:connect:26 - WebSocket connected. User ID: 79f9942c-608f-49f0-b683-551a4edb516f. Total connections: 1
2025-06-04 10:03:36.634 | INFO     | client.connection_manager:connect:53 - WebSocket connected successfully
2025-06-04 10:03:36.635 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: connection_established
2025-06-04 10:03:36.635 | DEBUG    | client.connection_manager:_handle_message:196 - Connection established message handled
2025-06-04 10:03:36.635 | INFO     | server.websocket_handler:start_heartbeat:106 - Heartbeat started
2025-06-04 10:03:36.636 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: 79f9942c-608f-49f0-b683-551a4edb516f
2025-06-04 10:03:36.636 | INFO     | client.connection_manager:connect:67 - Connection established. User ID: 79f9942c-608f-49f0-b683-551a4edb516f
2025-06-04 10:03:36.636 | INFO     | client.agent_client:connect:62 - Client connected successfully. User ID: 79f9942c-608f-49f0-b683-551a4edb516f
2025-06-04 10:03:36.636 | INFO     | __main__:main:38 - Successfully connected to Multi-Agent System
2025-06-04 10:03:36.637 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 10:03:36.638 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 10:03:36.638 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 10:03:36.639 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 10:03:36.640 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 10:03:38.641 | INFO     | client.agent_client:send_query:89 - Sending query: What is the weather like today?
2025-06-04 10:03:38.642 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'What is the weather like today?', 'query_id': 'c4fc1fec-6318-445a-8f33-5403f08f217b', 'timestamp': 329369.8300378}
2025-06-04 10:03:38.642 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "What is the weather like today?", "query_id": "c4fc1fec-6318-445a-8f33-5403f08f217b", "timestamp": 329369.8300378}
2025-06-04 10:03:38.644 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 10:03:38.644 | INFO     | client.agent_client:_handle_query_received:132 - Query c4fc1fec-6318-445a-8f33-5403f08f217b received by server - Status: processing
2025-06-04 10:03:38.650 | ERROR    | server.agent_server:process_websocket_message:129 - Error processing WebSocket message: module 'asyncio' has no attribute 'time'
2025-06-04 10:03:38.651 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: unknown
2025-06-04 10:03:38.652 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: unknown
2025-06-04 10:03:41.659 | INFO     | client.agent_client:send_query:89 - Sending query: Can you help me with data analysis?
2025-06-04 10:03:41.662 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'Can you help me with data analysis?', 'query_id': '752f76e0-e844-43a4-9102-b3b77094a887', 'timestamp': 329372.8481031}
2025-06-04 10:03:41.663 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Can you help me with data analysis?", "query_id": "752f76e0-e844-43a4-9102-b3b77094a887", "timestamp": 329372.8481031}
2025-06-04 10:03:41.666 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 10:03:41.666 | ERROR    | server.agent_server:process_websocket_message:129 - Error processing WebSocket message: module 'asyncio' has no attribute 'time'
2025-06-04 10:03:41.666 | INFO     | client.agent_client:_handle_query_received:132 - Query 752f76e0-e844-43a4-9102-b3b77094a887 received by server - Status: processing
2025-06-04 10:03:41.670 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: unknown
2025-06-04 10:03:41.670 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: unknown
2025-06-04 10:03:44.670 | INFO     | client.agent_client:send_text:104 - Sending text: Hello, this is a test message!
2025-06-04 10:03:44.671 | DEBUG    | client.connection_manager:send_text:141 - Sent text: Hello, this is a test message!
2025-06-04 10:03:44.672 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: Hello, this is a test message!
2025-06-04 10:03:44.673 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from 79f9942c-608f-49f0-b683-551a4edb516f: Hello, this is a test message!
2025-06-04 10:03:44.674 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: text_response
2025-06-04 10:03:44.674 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'Hello, this is a test message!'
2025-06-04 10:03:46.674 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 10:03:46.675 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 10:03:46.676 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 10:03:46.678 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 10:03:46.678 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 10:04:06.641 | DEBUG    | server.websocket_handler:_heartbeat_loop:131 - Heartbeat sent to 1 connections
2025-06-04 10:04:26.669 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: 79f9942c-608f-49f0-b683-551a4edb516f
2025-06-04 10:04:26.670 | INFO     | server.websocket_handler:disconnect:47 - WebSocket disconnected. User ID: 79f9942c-608f-49f0-b683-551a4edb516f. Remaining connections: 0
2025-06-04 10:04:26.671 | INFO     | server.websocket_handler:_heartbeat_loop:134 - Heartbeat loop cancelled
2025-06-04 10:04:26.672 | INFO     | server.websocket_handler:stop_heartbeat:116 - Heartbeat stopped
2025-06-04 10:04:50.811 | INFO     | server.agent_server:lifespan:53 - Agent Server shutting down...
2025-06-04 10:04:50.814 | INFO     | server.websocket_handler:disconnect_all:64 - All WebSocket connections closed
2025-06-04 10:04:50.816 | INFO     | server.orchestrator:shutdown:347 - Shutting down OrchestratorAgent...
2025-06-04 10:04:50.834 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-04 10:04:50.835 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-04 10:04:50.836 | INFO     | server.agent_server:lifespan:60 - Agent Server shutdown complete.
2025-06-04 10:04:50.852 | INFO     | __main__:main_async:182 - üèÅ Server stopped
2025-06-04 10:04:50.867 | INFO     | __main__:main:189 - üõë Shutdown signal received
2025-06-04 10:05:09.160 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 10:05:09.161 | INFO     | __main__:startup_checks:114 - üîç Performing startup checks...
2025-06-04 10:05:09.164 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 10:05:09.167 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 10:05:09.169 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 10:05:09.170 | INFO     | __main__:validate_configuration:109 - ‚úÖ Configuration validation passed
2025-06-04 10:05:09.170 | INFO     | __main__:startup_checks:124 - ‚úÖ All startup checks passed
2025-06-04 10:05:09.170 | INFO     | __main__:display_server_info:43 - ======================================================================
2025-06-04 10:05:09.171 | INFO     | __main__:display_server_info:44 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-04 10:05:09.171 | INFO     | __main__:display_server_info:45 - ======================================================================
2025-06-04 10:05:09.171 | INFO     | __main__:display_server_info:46 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-04 10:05:09.171 | INFO     | __main__:display_server_info:47 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-04 10:05:09.172 | INFO     | __main__:display_server_info:48 - üìä Environment: development
2025-06-04 10:05:09.172 | INFO     | __main__:display_server_info:49 - üîß Debug Mode: True
2025-06-04 10:05:09.172 | INFO     | __main__:display_server_info:50 - 
2025-06-04 10:05:09.174 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 10:05:09.177 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 10:05:09.177 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 10:05:09.180 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 10:05:09.183 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 10:05:09.183 | INFO     | __main__:check_agent_availability:34 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 10:05:09.186 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 10:05:09.188 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 10:05:09.189 | INFO     | __main__:check_agent_availability:34 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 10:05:09.189 | INFO     | __main__:display_server_info:56 - ü§ñ Available A2A Agents:
2025-06-04 10:05:09.190 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-04 10:05:09.190 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5513/a2a
2025-06-04 10:05:09.190 | INFO     | __main__:display_server_info:58 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-04 10:05:09.191 | INFO     | __main__:display_server_info:65 - 
2025-06-04 10:05:09.191 | INFO     | __main__:display_server_info:66 - üí° API Documentation available at:
2025-06-04 10:05:09.192 | INFO     | __main__:display_server_info:67 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-04 10:05:09.192 | INFO     | __main__:display_server_info:68 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-04 10:05:09.193 | INFO     | __main__:display_server_info:69 - ======================================================================
2025-06-04 10:05:09.193 | INFO     | __main__:configure_uvicorn:150 - üîß Development mode: Hot-reloading enabled
2025-06-04 10:05:09.194 | INFO     | __main__:main_async:168 - üöÄ Starting Multi-Agent System Server...
2025-06-04 10:05:09.195 | INFO     | __main__:main_async:169 - Press Ctrl+C to stop the server
2025-06-04 10:05:09.243 | INFO     | server.agent_server:lifespan:28 - Agent Server starting up...
2025-06-04 10:05:09.243 | INFO     | server.orchestrator:initialize:35 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-04 10:05:09.243 | INFO     | server.orchestrator:initialize:41 - Found 3 agent configurations to process...
2025-06-04 10:05:09.244 | INFO     | server.orchestrator:initialize:44 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 10:05:09.244 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-04 10:05:09.244 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for weather_agent
2025-06-04 10:05:09.599 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 10:05:09.657 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for weather_agent at http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 10:05:09.658 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for weather_agent
2025-06-04 10:05:09.658 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for weather_agent
2025-06-04 10:05:09.658 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Weather Agent (weather_agent) at http://127.0.0.1:5211/a2a
2025-06-04 10:05:09.658 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for weather_agent
2025-06-04 10:05:09.659 | INFO     | server.orchestrator:initialize:44 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 10:05:09.659 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5513/a2a
2025-06-04 10:05:09.659 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for web_search_agent
2025-06-04 10:05:09.976 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 10:05:10.025 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for web_search_agent at http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 10:05:10.026 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for web_search_agent
2025-06-04 10:05:10.026 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for web_search_agent
2025-06-04 10:05:10.026 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Web Search Agent (web_search_agent) at http://127.0.0.1:5513/a2a
2025-06-04 10:05:10.027 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for web_search_agent
2025-06-04 10:05:10.027 | INFO     | server.orchestrator:initialize:44 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 10:05:10.027 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-04 10:05:10.028 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for news_agent
2025-06-04 10:05:10.357 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 10:05:10.392 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for news_agent at http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 10:05:10.393 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for news_agent
2025-06-04 10:05:10.395 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for news_agent
2025-06-04 10:05:10.395 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: News Agent (news_agent) at http://127.0.0.1:5313/a2a
2025-06-04 10:05:10.396 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for news_agent
2025-06-04 10:05:10.396 | INFO     | server.orchestrator:initialize:91 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-04 10:05:10.397 | INFO     | server.orchestrator:initialize:105 - Successfully initialized Perplexity LLM
2025-06-04 10:05:10.398 | INFO     | server.orchestrator:initialize:130 - Successfully created Orchestrator Agent with 3 tools
2025-06-04 10:05:10.398 | INFO     | server.orchestrator:initialize:142 - Successfully created Runner
2025-06-04 10:05:10.399 | INFO     | server.orchestrator:initialize:148 - OrchestratorAgent fully initialized and ready.
2025-06-04 10:05:10.399 | INFO     | server.agent_server:lifespan:31 - Orchestrator Agent initialized.
2025-06-04 10:05:10.400 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: weather_agent
2025-06-04 10:05:10.401 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: web_search_agent
2025-06-04 10:05:10.402 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: news_agent
2025-06-04 10:05:10.402 | INFO     | server.agent_server:lifespan:51 - Agent Server startup complete.
2025-06-04 10:05:10.403 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-04 10:05:10.404 | INFO     | core.message_broker:consume:30 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-04 10:05:19.208 | INFO     | __main__:main:49 - Cleaning up...
2025-06-04 10:05:19.213 | INFO     | client.connection_manager:disconnect:116 - WebSocket disconnected
2025-06-04 10:05:19.214 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-04 10:05:21.358 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 10:05:21.359 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-04 10:05:21.360 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-04 10:05:21.360 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-04 10:05:21.360 | INFO     | client.connection_manager:connect:34 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-04 10:05:21.425 | INFO     | server.websocket_handler:connect:26 - WebSocket connected. User ID: 94a570d5-b170-4fbf-b05b-dd2923d2f046. Total connections: 1
2025-06-04 10:05:21.427 | INFO     | client.connection_manager:connect:53 - WebSocket connected successfully
2025-06-04 10:05:21.428 | INFO     | server.websocket_handler:start_heartbeat:106 - Heartbeat started
ype: connection_established
2025-06-04 10:05:21.429 | DEBUG    | client.connection_manager:_handle_message:196 - Connection established message handled
2025-06-04 10:05:21.429 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: 94a570d5-b170-4fbf-b05b-dd2923d2f046
2025-06-04 10:05:21.429 | INFO     | client.connection_manager:connect:67 - Connection established. User ID: 94a570d5-b170-4fbf-b05b-dd2923d2f046
2025-06-04 10:05:21.429 | INFO     | client.agent_client:connect:62 - Client connected successfully. User ID: 94a570d5-b170-4fbf-b05b-dd2923d2f046
2025-06-04 10:05:21.430 | INFO     | __main__:main:38 - Successfully connected to Multi-Agent System
2025-06-04 10:05:21.430 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 10:05:21.431 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 10:05:21.432 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 10:05:21.433 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 10:05:21.433 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 10:05:23.437 | INFO     | client.agent_client:send_query:89 - Sending query: What is the weather like today?
2025-06-04 10:05:23.438 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'What is the weather like today?', 'query_id': '01bb3950-251f-4d96-b68d-8546a2283ce8', 'timestamp': 329474.6261887}
2025-06-04 10:05:23.439 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "What is the weather like today?", "query_id": "01bb3950-251f-4d96-b68d-8546a2283ce8", "timestamp": 329474.6261887}
2025-06-04 10:05:23.440 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 10:05:23.440 | INFO     | client.agent_client:_handle_query_received:132 - Query 01bb3950-251f-4d96-b68d-8546a2283ce8 received by server - Status: processing
2025-06-04 10:05:23.444 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': 'a6c9f527-f7ad-4158-9a2b-e1d70dbe8552', 'user_id': '94a570d5-b170-4fbf-b05b-dd2923d2f046', 'text_content': 'What is the weather like today?', 'timestamp': 1749011723.440486}
2025-06-04 10:05:23.444 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 10:05:24.460 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_response
2025-06-04 10:05:24.460 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 01bb3950-251f-4d96-b68d-8546a2283ce8)
2025-06-04 10:05:24.461 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 10:05:24.461 | INFO     | client.agent_client:_handle_query_response:143 - Response: Current weather conditions show partly cloudy skies with a temperature of 72¬∞F. There's a 20% chance of light rain later today. Winds are light from the southwest.
2025-06-04 10:05:26.451 | INFO     | client.agent_client:send_query:89 - Sending query: Can you help me with data analysis?
2025-06-04 10:05:26.452 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'Can you help me with data analysis?', 'query_id': 'e3106ac4-708c-42aa-a17f-90c3b89c98f4', 'timestamp': 329477.6395037}
2025-06-04 10:05:26.454 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Can you help me with data analysis?", "query_id": "e3106ac4-708c-42aa-a17f-90c3b89c98f4", "timestamp": 329477.6395037}
2025-06-04 10:05:26.456 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': '76b762df-aee4-4dbb-8d94-ca88d121d570', 'user_id': '94a570d5-b170-4fbf-b05b-dd2923d2f046', 'text_content': 'Can you help me with data analysis?', 'timestamp': 1749011726.4566784}
2025-06-04 10:05:26.456 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 10:05:26.457 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 10:05:26.457 | INFO     | client.agent_client:_handle_query_received:132 - Query e3106ac4-708c-42aa-a17f-90c3b89c98f4 received by server - Status: processing
2025-06-04 10:05:27.464 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_response
2025-06-04 10:05:27.464 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: e3106ac4-708c-42aa-a17f-90c3b89c98f4)
2025-06-04 10:05:27.465 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 10:05:27.465 | INFO     | client.agent_client:_handle_query_response:143 - Response: I can help you with various data analysis tasks including statistical analysis, data visualization, trend analysis, and predictive modeling. What specific type of analysis are you looking for?
2025-06-04 10:05:29.465 | INFO     | client.agent_client:send_text:104 - Sending text: Hello, this is a test message!
2025-06-04 10:05:29.466 | DEBUG    | client.connection_manager:send_text:141 - Sent text: Hello, this is a test message!
2025-06-04 10:05:29.466 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: Hello, this is a test message!
2025-06-04 10:05:29.467 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from 94a570d5-b170-4fbf-b05b-dd2923d2f046: Hello, this is a test message!
2025-06-04 10:05:29.468 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: text_response
2025-06-04 10:05:29.468 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'Hello, this is a test message!'
2025-06-04 10:05:31.480 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 10:05:31.482 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 10:05:31.484 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 10:05:31.485 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 10:05:31.485 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 10:05:50.790 | INFO     | client.agent_client:send_query:89 - Sending query: < what is the weather today in us>
2025-06-04 10:05:50.791 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': '< what is the weather today in us>', 'query_id': 'faba9de9-463e-4125-b777-78ddb0cacdd3', 'timestamp': 329501.9784094}
2025-06-04 10:05:50.791 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "< what is the weather today in us>", "query_id": "faba9de9-463e-4125-b777-78ddb0cacdd3", "timestamp": 329501.9784094}
2025-06-04 10:05:50.794 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': '72ab96ed-fc93-4ac6-9a34-8bea68caf93e', 'user_id': '94a570d5-b170-4fbf-b05b-dd2923d2f046', 'text_content': '< what is the weather today in us>', 'timestamp': 1749011750.794109}
2025-06-04 10:05:50.794 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 10:05:50.794 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 10:05:50.794 | INFO     | client.agent_client:_handle_query_received:132 - Query faba9de9-463e-4125-b777-78ddb0cacdd3 received by server - Status: processing
2025-06-04 10:05:51.445 | DEBUG    | server.websocket_handler:_heartbeat_loop:131 - Heartbeat sent to 1 connections
2025-06-04 10:06:21.458 | DEBUG    | server.websocket_handler:_heartbeat_loop:131 - Heartbeat sent to 1 connections
2025-06-04 10:06:40.846 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: 94a570d5-b170-4fbf-b05b-dd2923d2f046
2025-06-04 10:06:40.847 | INFO     | server.websocket_handler:disconnect:47 - WebSocket disconnected. User ID: 94a570d5-b170-4fbf-b05b-dd2923d2f046. Remaining connections: 0
2025-06-04 10:06:40.849 | INFO     | server.websocket_handler:_heartbeat_loop:134 - Heartbeat loop cancelled
2025-06-04 10:06:40.849 | INFO     | server.websocket_handler:stop_heartbeat:116 - Heartbeat stopped
2025-06-04 10:18:33.292 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 10:18:33.296 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 10:18:33.298 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 10:18:33.300 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 10:18:33.302 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 10:18:33.305 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 10:18:33.307 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 10:18:33.307 | INFO     | __main__:display_agent_info:50 - ============================================================
2025-06-04 10:18:33.307 | INFO     | __main__:display_agent_info:51 - A2A MULTI-AGENT SYSTEM STARTUP
2025-06-04 10:18:33.308 | INFO     | __main__:display_agent_info:52 - ============================================================
2025-06-04 10:18:33.310 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 10:18:33.312 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 10:18:33.313 | INFO     | __main__:display_agent_info:65 - ü§ñ Weather Agent
2025-06-04 10:18:33.313 | INFO     | __main__:display_agent_info:66 -    Description: Provides weather conditions and forecasts
2025-06-04 10:18:33.314 | INFO     | __main__:display_agent_info:67 -    Endpoint: http://127.0.0.1:5211/a2a
2025-06-04 10:18:33.314 | INFO     | __main__:display_agent_info:68 -    Port: 5211
2025-06-04 10:18:33.314 | INFO     | __main__:display_agent_info:69 - 
2025-06-04 10:18:33.317 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 10:18:33.320 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 10:18:33.321 | INFO     | __main__:display_agent_info:65 - ü§ñ Web Search Agent
2025-06-04 10:18:33.321 | INFO     | __main__:display_agent_info:66 -    Description: Performs web searches and content retrieval
2025-06-04 10:18:33.321 | INFO     | __main__:display_agent_info:67 -    Endpoint: http://127.0.0.1:5513/a2a
2025-06-04 10:18:33.321 | INFO     | __main__:display_agent_info:68 -    Port: 5513
2025-06-04 10:18:33.322 | INFO     | __main__:display_agent_info:69 - 
2025-06-04 10:18:33.325 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 10:18:33.327 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 10:18:33.328 | INFO     | __main__:display_agent_info:65 - ü§ñ News Agent
2025-06-04 10:18:33.328 | INFO     | __main__:display_agent_info:66 -    Description: Fetches and provides news information
2025-06-04 10:18:33.328 | INFO     | __main__:display_agent_info:67 -    Endpoint: http://127.0.0.1:5313/a2a
2025-06-04 10:18:33.329 | INFO     | __main__:display_agent_info:68 -    Port: 5313
2025-06-04 10:18:33.329 | INFO     | __main__:display_agent_info:69 - 
2025-06-04 10:18:33.330 | INFO     | __main__:main:112 - Starting all A2A agents...
2025-06-04 10:18:33.435 | INFO     | __main__:main:131 - ‚úÖ Started Weather Agent (PID: 22020)
2025-06-04 10:18:34.445 | INFO     | __main__:main:131 - ‚úÖ Started Web Search Agent (PID: 24160)
2025-06-04 10:18:35.455 | INFO     | __main__:main:131 - ‚úÖ Started News Agent (PID: 14164)
2025-06-04 10:18:38.456 | INFO     | __main__:main:154 - üéâ Successfully started agents:
2025-06-04 10:18:38.457 | INFO     | __main__:main:156 -    ‚Ä¢ Weather Agent
2025-06-04 10:18:38.457 | INFO     | __main__:main:156 -    ‚Ä¢ Web Search Agent
2025-06-04 10:18:38.457 | INFO     | __main__:main:156 -    ‚Ä¢ News Agent
2025-06-04 10:18:38.458 | INFO     | __main__:main:163 - ============================================================
2025-06-04 10:18:38.458 | INFO     | __main__:main:164 - All configured agents are running.
2025-06-04 10:18:38.458 | INFO     | __main__:main:165 - Press Ctrl+C to stop all agents.
2025-06-04 10:18:38.458 | INFO     | __main__:main:166 - ============================================================
2025-06-04 10:18:51.052 | INFO     | __main__:main:49 - Cleaning up...
2025-06-04 10:18:51.116 | INFO     | client.connection_manager:disconnect:116 - WebSocket disconnected
2025-06-04 10:18:51.117 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-04 10:18:52.950 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 10:18:52.953 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-04 10:18:52.953 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-04 10:18:52.953 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-04 10:18:52.953 | INFO     | client.connection_manager:connect:34 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-04 10:18:53.097 | INFO     | server.websocket_handler:connect:26 - WebSocket connected. User ID: 03651224-d5c1-4061-a11e-64e41d18c238. Total connections: 1
2025-06-04 10:18:53.108 | INFO     | client.connection_manager:connect:53 - WebSocket connected successfully
2025-06-04 10:18:53.111 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: connection_established
2025-06-04 10:18:53.111 | DEBUG    | client.connection_manager:_handle_message:196 - Connection established message handled
2025-06-04 10:18:53.111 | INFO     | client.connection_manager:connect:67 - Connection established. User ID: 03651224-d5c1-4061-a11e-64e41d18c238
2025-06-04 10:18:53.111 | INFO     | client.agent_client:connect:62 - Client connected successfully. User ID: 03651224-d5c1-4061-a11e-64e41d18c238
2025-06-04 10:18:53.112 | INFO     | server.websocket_handler:start_heartbeat:106 - Heartbeat started
2025-06-04 10:18:53.112 | INFO     | __main__:main:38 - Successfully connected to Multi-Agent System
2025-06-04 10:18:53.112 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: 03651224-d5c1-4061-a11e-64e41d18c238
2025-06-04 10:18:53.113 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 10:18:53.113 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 10:18:53.114 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 10:18:53.115 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 10:18:53.115 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 10:18:55.125 | INFO     | client.agent_client:send_query:89 - Sending query: What is the weather like today?
2025-06-04 10:18:55.126 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'What is the weather like today?', 'query_id': 'a38b4f51-886c-42cf-9306-33d92b963f38', 'timestamp': 330286.3139429}
2025-06-04 10:18:55.127 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "What is the weather like today?", "query_id": "a38b4f51-886c-42cf-9306-33d92b963f38", "timestamp": 330286.3139429}
2025-06-04 10:18:55.129 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 10:18:55.129 | INFO     | client.agent_client:_handle_query_received:132 - Query a38b4f51-886c-42cf-9306-33d92b963f38 received by server - Status: processing
2025-06-04 10:18:55.133 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': '23827ca7-3014-428c-9dbd-e80ff1614800', 'user_id': '03651224-d5c1-4061-a11e-64e41d18c238', 'text_content': 'What is the weather like today?', 'timestamp': 1749012535.1300445}
2025-06-04 10:18:55.133 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 10:18:56.149 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_response
2025-06-04 10:18:56.149 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: a38b4f51-886c-42cf-9306-33d92b963f38)
2025-06-04 10:18:56.150 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 10:18:56.150 | INFO     | client.agent_client:_handle_query_response:143 - Response: Current weather conditions show partly cloudy skies with a temperature of 72¬∞F. There's a 20% chance of light rain later today. Winds are light from the southwest.
2025-06-04 10:18:58.130 | INFO     | client.agent_client:send_query:89 - Sending query: Can you help me with data analysis?
2025-06-04 10:18:58.131 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'Can you help me with data analysis?', 'query_id': 'a1e8808e-76c1-4adc-86a6-f38bdf003647', 'timestamp': 330289.3187187}
2025-06-04 10:18:58.131 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Can you help me with data analysis?", "query_id": "a1e8808e-76c1-4adc-86a6-f38bdf003647", "timestamp": 330289.3187187}
2025-06-04 10:18:58.132 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 10:18:58.132 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': 'ec4a7f92-2d70-4516-9c8c-8c8dd0994039', 'user_id': '03651224-d5c1-4061-a11e-64e41d18c238', 'text_content': 'Can you help me with data analysis?', 'timestamp': 1749012538.1328893}
2025-06-04 10:18:58.133 | INFO     | client.agent_client:_handle_query_received:132 - Query a1e8808e-76c1-4adc-86a6-f38bdf003647 received by server - Status: processing
2025-06-04 10:18:58.133 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 10:18:59.145 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_response
2025-06-04 10:18:59.145 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: a1e8808e-76c1-4adc-86a6-f38bdf003647)
2025-06-04 10:18:59.145 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 10:18:59.146 | INFO     | client.agent_client:_handle_query_response:143 - Response: I can help you with various data analysis tasks including statistical analysis, data visualization, trend analysis, and predictive modeling. What specific type of analysis are you looking for?
2025-06-04 10:19:01.142 | INFO     | client.agent_client:send_text:104 - Sending text: Hello, this is a test message!
2025-06-04 10:19:01.142 | DEBUG    | client.connection_manager:send_text:141 - Sent text: Hello, this is a test message!
2025-06-04 10:19:01.143 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: Hello, this is a test message!
2025-06-04 10:19:01.144 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from 03651224-d5c1-4061-a11e-64e41d18c238: Hello, this is a test message!
2025-06-04 10:19:01.146 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: text_response
2025-06-04 10:19:01.146 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'Hello, this is a test message!'
2025-06-04 10:19:03.156 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 10:19:03.158 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 10:19:03.160 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 10:19:03.163 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 10:19:03.164 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 10:19:18.455 | INFO     | client.agent_client:send_query:89 - Sending query: < whts the weather today in us>
2025-06-04 10:19:18.456 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': '< whts the weather today in us>', 'query_id': '80590632-f044-46e7-b163-3412709e9a87', 'timestamp': 330309.6435388}
2025-06-04 10:19:18.457 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "< whts the weather today in us>", "query_id": "80590632-f044-46e7-b163-3412709e9a87", "timestamp": 330309.6435388}
2025-06-04 10:19:18.459 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 10:19:18.460 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': 'adac59ca-40a5-452b-aa6c-bc4e64fc35be', 'user_id': '03651224-d5c1-4061-a11e-64e41d18c238', 'text_content': '< whts the weather today in us>', 'timestamp': 1749012558.4603055}
2025-06-04 10:19:18.460 | INFO     | client.agent_client:_handle_query_received:132 - Query 80590632-f044-46e7-b163-3412709e9a87 received by server - Status: processing
2025-06-04 10:19:18.460 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 10:19:23.125 | DEBUG    | server.websocket_handler:_heartbeat_loop:131 - Heartbeat sent to 1 connections
2025-06-04 10:19:53.130 | DEBUG    | server.websocket_handler:_heartbeat_loop:131 - Heartbeat sent to 1 connections
2025-06-04 10:20:08.514 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: 03651224-d5c1-4061-a11e-64e41d18c238
2025-06-04 10:20:08.515 | INFO     | server.websocket_handler:disconnect:47 - WebSocket disconnected. User ID: 03651224-d5c1-4061-a11e-64e41d18c238. Remaining connections: 0
2025-06-04 10:20:08.516 | INFO     | server.websocket_handler:_heartbeat_loop:134 - Heartbeat loop cancelled
2025-06-04 10:20:08.516 | INFO     | server.websocket_handler:stop_heartbeat:116 - Heartbeat stopped
2025-06-04 10:22:42.515 | INFO     | __main__:main:49 - Cleaning up...
2025-06-04 10:22:42.518 | INFO     | client.connection_manager:disconnect:116 - WebSocket disconnected
2025-06-04 10:22:42.518 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-04 10:22:45.051 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 10:22:45.054 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-04 10:22:45.055 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-04 10:22:45.055 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-04 10:22:45.056 | INFO     | client.connection_manager:connect:34 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-04 10:22:45.164 | INFO     | server.websocket_handler:connect:26 - WebSocket connected. User ID: 8d3b9b7f-a786-4461-8bdf-09b6e33f9b9c. Total connections: 1
2025-06-04 10:22:45.170 | INFO     | client.connection_manager:connect:53 - WebSocket connected successfully
2025-06-04 10:22:45.171 | INFO     | server.websocket_handler:start_heartbeat:106 - Heartbeat started
ype: connection_established
2025-06-04 10:22:45.171 | DEBUG    | client.connection_manager:_handle_message:196 - Connection established message handled
2025-06-04 10:22:45.171 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: 8d3b9b7f-a786-4461-8bdf-09b6e33f9b9c
2025-06-04 10:22:45.171 | INFO     | client.connection_manager:connect:67 - Connection established. User ID: 8d3b9b7f-a786-4461-8bdf-09b6e33f9b9c
2025-06-04 10:22:45.171 | INFO     | client.agent_client:connect:62 - Client connected successfully. User ID: 8d3b9b7f-a786-4461-8bdf-09b6e33f9b9c
2025-06-04 10:22:45.172 | INFO     | __main__:main:38 - Successfully connected to Multi-Agent System
2025-06-04 10:22:45.173 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 10:22:45.173 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 10:22:45.174 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 10:22:45.175 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 10:22:45.175 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 10:22:47.180 | INFO     | client.agent_client:send_query:89 - Sending query: What is the weather like today?
2025-06-04 10:22:47.181 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'What is the weather like today?', 'query_id': '5e92ac1c-3dab-4e73-b413-49fdb8ff9994', 'timestamp': 330518.3688141}
2025-06-04 10:22:47.182 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "What is the weather like today?", "query_id": "5e92ac1c-3dab-4e73-b413-49fdb8ff9994", "timestamp": 330518.3688141}
2025-06-04 10:22:47.183 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 10:22:47.183 | INFO     | client.agent_client:_handle_query_received:132 - Query 5e92ac1c-3dab-4e73-b413-49fdb8ff9994 received by server - Status: processing
2025-06-04 10:22:47.183 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': 'd13fa7b0-013d-4845-8ae1-c4cd1f527c82', 'user_id': '8d3b9b7f-a786-4461-8bdf-09b6e33f9b9c', 'text_content': 'What is the weather like today?', 'timestamp': 1749012767.1834733}
2025-06-04 10:22:47.184 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 10:22:48.190 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_response
2025-06-04 10:22:48.190 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 5e92ac1c-3dab-4e73-b413-49fdb8ff9994)
2025-06-04 10:22:48.192 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 10:22:48.192 | INFO     | client.agent_client:_handle_query_response:143 - Response: Current weather conditions show partly cloudy skies with a temperature of 72¬∞F. There's a 20% chance of light rain later today. Winds are light from the southwest.
2025-06-04 10:22:50.184 | INFO     | client.agent_client:send_query:89 - Sending query: Can you help me with data analysis?
2025-06-04 10:22:50.185 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'Can you help me with data analysis?', 'query_id': '44db3d7e-5af1-4fab-9093-f5935601d1ae', 'timestamp': 330521.3724346}
2025-06-04 10:22:50.186 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Can you help me with data analysis?", "query_id": "44db3d7e-5af1-4fab-9093-f5935601d1ae", "timestamp": 330521.3724346}
2025-06-04 10:22:50.187 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 10:22:50.188 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': 'db680b6c-9d60-47eb-9fce-cbf497236856', 'user_id': '8d3b9b7f-a786-4461-8bdf-09b6e33f9b9c', 'text_content': 'Can you help me with data analysis?', 'timestamp': 1749012770.1883142}
2025-06-04 10:22:50.188 | INFO     | client.agent_client:_handle_query_received:132 - Query 44db3d7e-5af1-4fab-9093-f5935601d1ae received by server - Status: processing
2025-06-04 10:22:50.188 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 10:22:51.205 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_response
2025-06-04 10:22:51.205 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 44db3d7e-5af1-4fab-9093-f5935601d1ae)
2025-06-04 10:22:51.206 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 10:22:51.206 | INFO     | client.agent_client:_handle_query_response:143 - Response: I can help you with various data analysis tasks including statistical analysis, data visualization, trend analysis, and predictive modeling. What specific type of analysis are you looking for?
2025-06-04 10:22:53.201 | INFO     | client.agent_client:send_text:104 - Sending text: Hello, this is a test message!
2025-06-04 10:22:53.202 | DEBUG    | client.connection_manager:send_text:141 - Sent text: Hello, this is a test message!
2025-06-04 10:22:53.203 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: Hello, this is a test message!
2025-06-04 10:22:53.204 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from 8d3b9b7f-a786-4461-8bdf-09b6e33f9b9c: Hello, this is a test message!
2025-06-04 10:22:53.206 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: text_response
2025-06-04 10:22:53.207 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'Hello, this is a test message!'
2025-06-04 10:22:55.207 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 10:22:55.208 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 10:22:55.209 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 10:22:55.210 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 10:22:55.210 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 10:23:10.149 | INFO     | client.agent_client:send_query:89 - Sending query: <what is teh weather now in us>
2025-06-04 10:23:10.150 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': '<what is teh weather now in us>', 'query_id': '0cc29b1d-08b3-45ec-a39e-27ce9ccca0ca', 'timestamp': 330541.3375964}
2025-06-04 10:23:10.150 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "<what is teh weather now in us>", "query_id": "0cc29b1d-08b3-45ec-a39e-27ce9ccca0ca", "timestamp": 330541.3375964}
2025-06-04 10:23:10.153 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 10:23:10.153 | INFO     | client.agent_client:_handle_query_received:132 - Query 0cc29b1d-08b3-45ec-a39e-27ce9ccca0ca received by server - Status: processing
2025-06-04 10:23:10.153 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': '5db14ed2-bfd3-479c-a5e9-e73b7a7ad85e', 'user_id': '8d3b9b7f-a786-4461-8bdf-09b6e33f9b9c', 'text_content': '<what is teh weather now in us>', 'timestamp': 1749012790.153181}
2025-06-04 10:23:10.154 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 10:23:15.184 | DEBUG    | server.websocket_handler:_heartbeat_loop:131 - Heartbeat sent to 1 connections
2025-06-04 10:23:45.201 | DEBUG    | server.websocket_handler:_heartbeat_loop:131 - Heartbeat sent to 1 connections
2025-06-04 10:24:00.193 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: 8d3b9b7f-a786-4461-8bdf-09b6e33f9b9c
2025-06-04 10:24:00.194 | INFO     | server.websocket_handler:disconnect:47 - WebSocket disconnected. User ID: 8d3b9b7f-a786-4461-8bdf-09b6e33f9b9c. Remaining connections: 0
2025-06-04 10:24:00.195 | INFO     | server.websocket_handler:_heartbeat_loop:134 - Heartbeat loop cancelled
2025-06-04 10:24:00.196 | INFO     | server.websocket_handler:stop_heartbeat:116 - Heartbeat stopped
2025-06-04 10:28:02.125 | INFO     | server.agent_server:lifespan:53 - Agent Server shutting down...
2025-06-04 10:28:02.129 | INFO     | server.websocket_handler:disconnect_all:64 - All WebSocket connections closed
2025-06-04 10:28:02.133 | INFO     | server.orchestrator:shutdown:347 - Shutting down OrchestratorAgent...
2025-06-04 10:28:02.152 | DEBUG    | core.message_broker:publish:16 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-04 10:28:02.152 | WARNING  | core.message_broker:publish:24 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-04 10:28:02.153 | INFO     | server.agent_server:lifespan:60 - Agent Server shutdown complete.
2025-06-04 10:28:02.167 | INFO     | __main__:main_async:182 - üèÅ Server stopped
2025-06-04 10:28:02.183 | INFO     | __main__:main:189 - üõë Shutdown signal received
2025-06-04 10:28:23.288 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 10:28:23.288 | INFO     | __main__:startup_checks:149 - üîç Performing startup checks...
2025-06-04 10:28:23.291 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 10:28:23.293 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 10:28:23.295 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 10:28:23.296 | INFO     | __main__:validate_configuration:112 - ‚úÖ Configuration validation passed
2025-06-04 10:28:23.297 | INFO     | __main__:initialize_query_handler:118 - üîß Initializing query handler...
2025-06-04 10:28:23.297 | INFO     | core.query_handler:start:16 - Starting QueryHandler...
2025-06-04 10:28:23.298 | INFO     | core.message_broker:subscribe:59 - Subscriber registered for topic 'InternalMessageType.USER_QUERY'. Total subscribers: 1
2025-06-04 10:28:23.298 | INFO     | core.query_handler:start:24 - QueryHandler started and subscribed to USER_QUERY messages
2025-06-04 10:28:23.298 | INFO     | __main__:initialize_query_handler:120 - ‚úÖ Query handler initialized successfully
2025-06-04 10:28:23.299 | INFO     | __main__:wait_for_agents:128 - ‚è≥ Waiting for A2A agents to be ready...
2025-06-04 10:28:23.302 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 10:28:23.305 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 10:28:23.306 | INFO     | __main__:check_agent_availability:37 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 10:28:23.309 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 10:28:23.311 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 10:28:23.312 | INFO     | __main__:check_agent_availability:37 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 10:28:23.315 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 10:28:23.318 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 10:28:23.318 | INFO     | __main__:check_agent_availability:37 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 10:28:23.319 | INFO     | __main__:wait_for_agents:138 - ‚úÖ Found 3 available agents
2025-06-04 10:28:23.319 | INFO     | __main__:startup_checks:164 - ‚úÖ All startup checks passed
2025-06-04 10:28:23.320 | INFO     | __main__:display_server_info:46 - ======================================================================
2025-06-04 10:28:23.321 | INFO     | __main__:display_server_info:47 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-04 10:28:23.321 | INFO     | __main__:display_server_info:48 - ======================================================================
2025-06-04 10:28:23.321 | INFO     | __main__:display_server_info:49 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-04 10:28:23.322 | INFO     | __main__:display_server_info:50 - üîå WebSocket Server: ws://127.0.0.1:5002/ws
2025-06-04 10:28:23.322 | INFO     | __main__:display_server_info:51 - üìä Environment: development
2025-06-04 10:28:23.322 | INFO     | __main__:display_server_info:52 - üîß Debug Mode: True
2025-06-04 10:28:23.323 | INFO     | __main__:display_server_info:53 - 
2025-06-04 10:28:23.325 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 10:28:23.329 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 10:28:23.329 | INFO     | __main__:check_agent_availability:37 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 10:28:23.331 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 10:28:23.334 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 10:28:23.335 | INFO     | __main__:check_agent_availability:37 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 10:28:23.338 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 10:28:23.340 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 10:28:23.340 | INFO     | __main__:check_agent_availability:37 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 10:28:23.341 | INFO     | __main__:display_server_info:59 - ü§ñ Available A2A Agents:
2025-06-04 10:28:23.342 | INFO     | __main__:display_server_info:61 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-04 10:28:23.342 | INFO     | __main__:display_server_info:61 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5513/a2a
2025-06-04 10:28:23.343 | INFO     | __main__:display_server_info:61 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-04 10:28:23.343 | INFO     | __main__:display_server_info:68 - 
2025-06-04 10:28:23.344 | INFO     | __main__:display_server_info:69 - üí° API Documentation available at:
2025-06-04 10:28:23.345 | INFO     | __main__:display_server_info:70 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-04 10:28:23.345 | INFO     | __main__:display_server_info:71 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-04 10:28:23.345 | INFO     | __main__:display_server_info:72 - ======================================================================
2025-06-04 10:28:23.346 | INFO     | __main__:configure_uvicorn:191 - üîß Development mode: Hot-reloading enabled
2025-06-04 10:28:23.347 | INFO     | __main__:main_async:209 - üöÄ Starting Multi-Agent System Server...
2025-06-04 10:28:23.347 | INFO     | __main__:main_async:210 - üì® Query handler is active and ready to process user queries
2025-06-04 10:28:23.347 | INFO     | __main__:main_async:211 - Press Ctrl+C to stop the server
2025-06-04 10:28:23.390 | INFO     | server.agent_server:lifespan:28 - Agent Server starting up...
2025-06-04 10:28:23.390 | INFO     | server.orchestrator:initialize:35 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-04 10:28:23.390 | INFO     | server.orchestrator:initialize:41 - Found 3 agent configurations to process...
2025-06-04 10:28:23.391 | INFO     | server.orchestrator:initialize:44 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 10:28:23.391 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-04 10:28:23.391 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for weather_agent
2025-06-04 10:28:23.709 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 10:28:23.758 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for weather_agent at http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 10:28:23.759 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for weather_agent
2025-06-04 10:28:23.759 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for weather_agent
2025-06-04 10:28:23.759 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Weather Agent (weather_agent) at http://127.0.0.1:5211/a2a
2025-06-04 10:28:23.760 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for weather_agent
2025-06-04 10:28:23.760 | INFO     | server.orchestrator:initialize:44 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 10:28:23.760 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5513/a2a
2025-06-04 10:28:23.761 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for web_search_agent
2025-06-04 10:28:24.058 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 10:28:24.109 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for web_search_agent at http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 10:28:24.110 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for web_search_agent
2025-06-04 10:28:24.112 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for web_search_agent
2025-06-04 10:28:24.113 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Web Search Agent (web_search_agent) at http://127.0.0.1:5513/a2a
2025-06-04 10:28:24.113 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for web_search_agent
2025-06-04 10:28:24.114 | INFO     | server.orchestrator:initialize:44 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 10:28:24.115 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-04 10:28:24.115 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for news_agent
2025-06-04 10:28:24.431 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 10:28:24.476 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for news_agent at http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 10:28:24.476 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for news_agent
2025-06-04 10:28:24.477 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for news_agent
2025-06-04 10:28:24.477 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: News Agent (news_agent) at http://127.0.0.1:5313/a2a
2025-06-04 10:28:24.477 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for news_agent
2025-06-04 10:28:24.477 | INFO     | server.orchestrator:initialize:91 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-04 10:28:24.478 | INFO     | server.orchestrator:initialize:105 - Successfully initialized Perplexity LLM
2025-06-04 10:28:24.479 | INFO     | server.orchestrator:initialize:130 - Successfully created Orchestrator Agent with 3 tools
2025-06-04 10:28:24.479 | INFO     | server.orchestrator:initialize:142 - Successfully created Runner
2025-06-04 10:28:24.479 | INFO     | server.orchestrator:initialize:148 - OrchestratorAgent fully initialized and ready.
2025-06-04 10:28:24.480 | INFO     | server.agent_server:lifespan:31 - Orchestrator Agent initialized.
2025-06-04 10:28:24.480 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: weather_agent
2025-06-04 10:28:24.480 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: web_search_agent
2025-06-04 10:28:24.481 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: news_agent
2025-06-04 10:28:24.481 | INFO     | server.agent_server:lifespan:51 - Agent Server startup complete.
2025-06-04 10:28:24.481 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-04 10:28:24.482 | INFO     | core.message_broker:consume:48 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-04 10:28:37.091 | INFO     | __main__:main:49 - Cleaning up...
2025-06-04 10:28:37.096 | INFO     | client.connection_manager:disconnect:116 - WebSocket disconnected
2025-06-04 10:28:37.096 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-04 10:28:38.871 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 10:28:38.873 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-04 10:28:38.873 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-04 10:28:38.873 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-04 10:28:38.873 | INFO     | client.connection_manager:connect:34 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-04 10:28:38.936 | INFO     | server.websocket_handler:connect:26 - WebSocket connected. User ID: b2adc85c-a9aa-485d-9be5-a35f5a0894d4. Total connections: 1
2025-06-04 10:28:38.939 | INFO     | client.connection_manager:connect:53 - WebSocket connected successfully
2025-06-04 10:28:38.940 | INFO     | server.websocket_handler:start_heartbeat:106 - Heartbeat started
ype: connection_established
2025-06-04 10:28:38.940 | DEBUG    | client.connection_manager:_handle_message:196 - Connection established message handled
2025-06-04 10:28:38.940 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: b2adc85c-a9aa-485d-9be5-a35f5a0894d4
2025-06-04 10:28:38.940 | INFO     | client.connection_manager:connect:67 - Connection established. User ID: b2adc85c-a9aa-485d-9be5-a35f5a0894d4
2025-06-04 10:28:38.941 | INFO     | client.agent_client:connect:62 - Client connected successfully. User ID: b2adc85c-a9aa-485d-9be5-a35f5a0894d4
2025-06-04 10:28:38.941 | INFO     | __main__:main:38 - Successfully connected to Multi-Agent System
2025-06-04 10:28:38.941 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 10:28:38.942 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 10:28:38.942 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 10:28:38.943 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 10:28:38.943 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 10:28:40.953 | INFO     | client.agent_client:send_query:89 - Sending query: What is the weather like today?
2025-06-04 10:28:40.954 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'What is the weather like today?', 'query_id': '1c562378-1aed-4285-851d-e6babec7b354', 'timestamp': 330872.1423191}
2025-06-04 10:28:40.955 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "What is the weather like today?", "query_id": "1c562378-1aed-4285-851d-e6babec7b354", "timestamp": 330872.1423191}
2025-06-04 10:28:40.957 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 10:28:40.957 | INFO     | client.agent_client:_handle_query_received:132 - Query 1c562378-1aed-4285-851d-e6babec7b354 received by server - Status: processing
2025-06-04 10:28:40.958 | DEBUG    | core.message_broker:publish:14 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': 'd7044bd0-cef8-42d7-b711-4348b9fc5c89', 'user_id': 'b2adc85c-a9aa-485d-9be5-a35f5a0894d4', 'text_content': 'What is the weather like today?', 'timestamp': 1749013120.9571102}
2025-06-04 10:28:40.958 | WARNING  | core.message_broker:publish:42 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 10:28:41.967 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_response
2025-06-04 10:28:41.967 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 1c562378-1aed-4285-851d-e6babec7b354)
2025-06-04 10:28:41.968 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 10:28:41.969 | INFO     | client.agent_client:_handle_query_response:143 - Response: Current weather conditions show partly cloudy skies with a temperature of 72¬∞F. There's a 20% chance of light rain later today. Winds are light from the southwest.
2025-06-04 10:28:43.968 | INFO     | client.agent_client:send_query:89 - Sending query: Can you help me with data analysis?
2025-06-04 10:28:43.970 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'Can you help me with data analysis?', 'query_id': '56249a9e-7e62-458b-892b-b12dc35df156', 'timestamp': 330875.1570538}
2025-06-04 10:28:43.970 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Can you help me with data analysis?", "query_id": "56249a9e-7e62-458b-892b-b12dc35df156", "timestamp": 330875.1570538}
2025-06-04 10:28:43.973 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 10:28:43.973 | DEBUG    | core.message_broker:publish:14 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': 'c25c4d68-8bdc-4b86-a3e7-8693a944b634', 'user_id': 'b2adc85c-a9aa-485d-9be5-a35f5a0894d4', 'text_content': 'Can you help me with data analysis?', 'timestamp': 1749013123.973356}
2025-06-04 10:28:43.974 | INFO     | client.agent_client:_handle_query_received:132 - Query 56249a9e-7e62-458b-892b-b12dc35df156 received by server - Status: processing
2025-06-04 10:28:43.974 | WARNING  | core.message_broker:publish:42 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 10:28:44.993 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_response
2025-06-04 10:28:44.993 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 56249a9e-7e62-458b-892b-b12dc35df156)
2025-06-04 10:28:44.993 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 10:28:44.994 | INFO     | client.agent_client:_handle_query_response:143 - Response: I can help you with various data analysis tasks including statistical analysis, data visualization, trend analysis, and predictive modeling. What specific type of analysis are you looking for?
2025-06-04 10:28:46.977 | INFO     | client.agent_client:send_text:104 - Sending text: Hello, this is a test message!
2025-06-04 10:28:46.978 | DEBUG    | client.connection_manager:send_text:141 - Sent text: Hello, this is a test message!
2025-06-04 10:28:46.978 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: Hello, this is a test message!
2025-06-04 10:28:46.979 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from b2adc85c-a9aa-485d-9be5-a35f5a0894d4: Hello, this is a test message!
2025-06-04 10:28:46.980 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: text_response
2025-06-04 10:28:46.980 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'Hello, this is a test message!'
2025-06-04 10:28:48.980 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 10:28:48.980 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 10:28:48.981 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 10:28:48.982 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 10:28:48.982 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 10:29:04.662 | INFO     | client.agent_client:send_query:89 - Sending query: <what is th weather today>
2025-06-04 10:29:04.664 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': '<what is th weather today>', 'query_id': '78c3f27c-8955-4e35-a7cf-f1d0ff01213c', 'timestamp': 330895.8513771}
2025-06-04 10:29:04.665 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "<what is th weather today>", "query_id": "78c3f27c-8955-4e35-a7cf-f1d0ff01213c", "timestamp": 330895.8513771}
2025-06-04 10:29:04.667 | DEBUG    | core.message_broker:publish:14 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': 'babdf917-7526-4bd6-ab79-24a558999288', 'user_id': 'b2adc85c-a9aa-485d-9be5-a35f5a0894d4', 'text_content': '<what is th weather today>', 'timestamp': 1749013144.6673422}
2025-06-04 10:29:04.667 | WARNING  | core.message_broker:publish:42 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.

2025-06-04 10:29:08.944 | DEBUG    | server.websocket_handler:_heartbeat_loop:131 - Heartbeat sent to 1 connections
2025-06-04 10:29:38.947 | DEBUG    | server.websocket_handler:_heartbeat_loop:131 - Heartbeat sent to 1 connections
2025-06-04 10:29:54.703 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: b2adc85c-a9aa-485d-9be5-a35f5a0894d4
2025-06-04 10:29:54.703 | INFO     | server.websocket_handler:disconnect:47 - WebSocket disconnected. User ID: b2adc85c-a9aa-485d-9be5-a35f5a0894d4. Remaining connections: 0
2025-06-04 10:29:54.704 | INFO     | server.websocket_handler:_heartbeat_loop:134 - Heartbeat loop cancelled
2025-06-04 10:29:54.704 | INFO     | server.websocket_handler:stop_heartbeat:116 - Heartbeat stopped
2025-06-04 10:48:58.794 | INFO     | server.agent_server:lifespan:53 - Agent Server shutting down...
2025-06-04 10:48:58.814 | INFO     | server.websocket_handler:disconnect_all:64 - All WebSocket connections closed
2025-06-04 10:48:58.818 | INFO     | server.orchestrator:shutdown:347 - Shutting down OrchestratorAgent...
2025-06-04 10:48:58.837 | DEBUG    | core.message_broker:publish:14 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-04 10:48:58.838 | WARNING  | core.message_broker:publish:42 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-04 10:48:58.838 | INFO     | server.agent_server:lifespan:60 - Agent Server shutdown complete.
2025-06-04 10:48:58.857 | INFO     | __main__:main_async:224 - üèÅ Server stopped
2025-06-04 10:48:58.882 | INFO     | __main__:main:231 - üõë Shutdown signal received
2025-06-04 10:49:20.340 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 10:49:20.340 | INFO     | __main__:startup_checks:161 - üîç Performing startup checks...
2025-06-04 10:49:20.343 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 10:49:20.345 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 10:49:20.351 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 10:49:20.352 | INFO     | __main__:validate_configuration:117 - ‚úÖ Configuration validation passed
2025-06-04 10:49:20.353 | INFO     | __main__:initialize_core_components:123 - üîß Initializing core components...
2025-06-04 10:49:20.353 | INFO     | core.message_broker:start:22 - Message broker started
2025-06-04 10:49:20.353 | INFO     | __main__:initialize_core_components:127 - ‚úÖ Message broker initialized successfully
2025-06-04 10:49:20.353 | INFO     | core.query_handler:start:14 - Starting QueryHandler...
2025-06-04 10:49:20.354 | INFO     | core.message_broker:subscribe:80 - Subscriber registered for topic 'InternalMessageType.USER_QUERY'. Total subscribers: 1
2025-06-04 10:49:20.354 | INFO     | core.query_handler:start:19 - QueryHandler started and subscribed to USER_QUERY messages
2025-06-04 10:49:20.355 | INFO     | __main__:initialize_core_components:131 - ‚úÖ Query handler initialized successfully
2025-06-04 10:49:20.356 | INFO     | __main__:wait_for_agents:140 - ‚è≥ Waiting for A2A agents to be ready...
2025-06-04 10:49:20.361 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 10:49:20.363 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 10:49:20.364 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 10:49:20.368 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 10:49:20.370 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 10:49:20.370 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 10:49:20.372 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 10:49:20.375 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 10:49:20.376 | INFO     | __main__:check_agent_availability:39 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 10:49:20.376 | INFO     | __main__:wait_for_agents:150 - ‚úÖ Found 3 available agents
2025-06-04 10:49:20.377 | INFO     | __main__:startup_checks:176 - ‚úÖ All startup checks passed
2025-06-04 10:49:20.377 | INFO     | __main__:display_server_info:51 - ======================================================================
2025-06-04 10:49:20.378 | INFO     | __main__:display_server_info:52 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-04 10:49:20.378 | INFO     | __main__:display_server_info:53 - ======================================================================
2025-06-04 10:49:20.379 | INFO     | __main__:display_server_info:54 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-04 10:49:20.379 | INFO     | __main__:display_server_info:55 - üîå WebSocket Server: ws://127.0.0.1:5000/ws
2025-06-04 10:49:20.380 | INFO     | __main__:display_server_info:56 - üìä Environment: development
2025-06-04 10:49:20.380 | INFO     | __main__:display_server_info:57 - üîß Debug Mode: True
2025-06-04 10:49:20.381 | INFO     | __main__:display_server_info:58 - 
2025-06-04 10:49:20.382 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 10:49:20.384 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 10:49:20.385 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 10:49:20.387 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 10:49:20.389 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 10:49:20.391 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 10:49:20.394 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 10:49:20.397 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 10:49:20.397 | INFO     | __main__:check_agent_availability:39 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 10:49:20.398 | INFO     | __main__:display_server_info:64 - ü§ñ Available A2A Agents:
2025-06-04 10:49:20.398 | INFO     | __main__:display_server_info:66 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-04 10:49:20.398 | INFO     | __main__:display_server_info:66 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5513/a2a
2025-06-04 10:49:20.399 | INFO     | __main__:display_server_info:66 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-04 10:49:20.399 | INFO     | __main__:display_server_info:73 - 
2025-06-04 10:49:20.399 | INFO     | __main__:display_server_info:74 - üí° API Documentation available at:
2025-06-04 10:49:20.400 | INFO     | __main__:display_server_info:75 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-04 10:49:20.400 | INFO     | __main__:display_server_info:76 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-04 10:49:20.400 | INFO     | __main__:display_server_info:77 - ======================================================================
2025-06-04 10:49:20.400 | INFO     | __main__:configure_uvicorn:203 - üîß Development mode: Hot-reloading enabled
2025-06-04 10:49:20.401 | INFO     | __main__:main_async:221 - üöÄ Starting Multi-Agent System Server...
2025-06-04 10:49:20.401 | INFO     | __main__:main_async:222 - üì® Message broker and query handler are active and ready to process queries
2025-06-04 10:49:20.401 | INFO     | __main__:main_async:223 - Press Ctrl+C to stop the server
2025-06-04 10:49:20.447 | INFO     | server.agent_server:lifespan:28 - Agent Server starting up...
2025-06-04 10:49:20.447 | INFO     | server.orchestrator:initialize:35 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-04 10:49:20.447 | INFO     | server.orchestrator:initialize:41 - Found 3 agent configurations to process...
2025-06-04 10:49:20.448 | INFO     | server.orchestrator:initialize:44 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 10:49:20.448 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-04 10:49:20.448 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for weather_agent
2025-06-04 10:49:20.787 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 10:49:20.841 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for weather_agent at http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 10:49:20.842 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for weather_agent
2025-06-04 10:49:20.843 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for weather_agent
2025-06-04 10:49:20.843 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Weather Agent (weather_agent) at http://127.0.0.1:5211/a2a
2025-06-04 10:49:20.844 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for weather_agent
2025-06-04 10:49:20.845 | INFO     | server.orchestrator:initialize:44 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 10:49:20.845 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5513/a2a
2025-06-04 10:49:20.846 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for web_search_agent
2025-06-04 10:49:21.201 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 10:49:21.242 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for web_search_agent at http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 10:49:21.243 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for web_search_agent
2025-06-04 10:49:21.243 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for web_search_agent
2025-06-04 10:49:21.243 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Web Search Agent (web_search_agent) at http://127.0.0.1:5513/a2a
2025-06-04 10:49:21.244 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for web_search_agent
2025-06-04 10:49:21.244 | INFO     | server.orchestrator:initialize:44 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 10:49:21.244 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-04 10:49:21.245 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for news_agent
2025-06-04 10:49:21.572 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 10:49:21.610 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for news_agent at http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 10:49:21.610 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for news_agent
2025-06-04 10:49:21.613 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for news_agent
2025-06-04 10:49:21.614 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: News Agent (news_agent) at http://127.0.0.1:5313/a2a
2025-06-04 10:49:21.614 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for news_agent
2025-06-04 10:49:21.614 | INFO     | server.orchestrator:initialize:91 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-04 10:49:21.615 | INFO     | server.orchestrator:initialize:105 - Successfully initialized Perplexity LLM
2025-06-04 10:49:21.615 | INFO     | server.orchestrator:initialize:130 - Successfully created Orchestrator Agent with 3 tools
2025-06-04 10:49:21.616 | INFO     | server.orchestrator:initialize:142 - Successfully created Runner
2025-06-04 10:49:21.617 | INFO     | server.orchestrator:initialize:148 - OrchestratorAgent fully initialized and ready.
2025-06-04 10:49:21.617 | INFO     | server.agent_server:lifespan:31 - Orchestrator Agent initialized.
2025-06-04 10:49:21.618 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: weather_agent
2025-06-04 10:49:21.618 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: web_search_agent
2025-06-04 10:49:21.618 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: news_agent
2025-06-04 10:49:21.619 | INFO     | server.agent_server:lifespan:51 - Agent Server startup complete.
2025-06-04 10:49:21.619 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-04 10:49:21.620 | INFO     | core.message_broker:consume:69 - Created new queue for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'.
2025-06-04 10:49:25.798 | INFO     | __main__:main:49 - Cleaning up...
2025-06-04 10:49:25.851 | INFO     | client.connection_manager:disconnect:116 - WebSocket disconnected
2025-06-04 10:49:25.851 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-04 10:49:27.684 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 10:49:27.685 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-04 10:49:27.686 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-04 10:49:27.686 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-04 10:49:27.686 | INFO     | client.connection_manager:connect:34 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-04 10:49:27.769 | INFO     | server.websocket_handler:connect:27 - WebSocket connected. User ID: ac2a95ed-deb5-4686-b879-e405d28c4e47. Total connections: 1
2025-06-04 10:49:27.773 | INFO     | client.connection_manager:connect:53 - WebSocket connected successfully
2025-06-04 10:49:27.774 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: connection_established
2025-06-04 10:49:27.775 | DEBUG    | client.connection_manager:_handle_message:196 - Connection established message handled
2025-06-04 10:49:27.775 | INFO     | core.message_broker:subscribe:80 - Subscriber registered for topic 'InternalMessageType.QUERY_RESPONSE'. Total subscribers: 1
2025-06-04 10:49:27.775 | INFO     | client.connection_manager:connect:67 - Connection established. User ID: ac2a95ed-deb5-4686-b879-e405d28c4e47
2025-06-04 10:49:27.775 | INFO     | server.websocket_handler:initialize_response_handler:156 - WebSocket response handler initialized and subscribed to query responses
2025-06-04 10:49:27.775 | INFO     | client.agent_client:connect:62 - Client connected successfully. User ID: ac2a95ed-deb5-4686-b879-e405d28c4e47

2025-06-04 10:49:27.776 | INFO     | __main__:main:38 - Successfully connected to Multi-Agent System
2025-06-04 10:49:27.777 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 10:49:27.777 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 10:49:27.778 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 10:49:27.779 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 10:49:27.780 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 10:49:29.785 | INFO     | client.agent_client:send_query:89 - Sending query: What is the weather like today?
2025-06-04 10:49:29.787 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'What is the weather like today?', 'query_id': '248e2b84-c51a-4ab5-bd85-18b6d7323cec', 'timestamp': 332120.9739611}
2025-06-04 10:49:29.788 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "What is the weather like today?", "query_id": "248e2b84-c51a-4ab5-bd85-18b6d7323cec", "timestamp": 332120.9739611}
2025-06-04 10:49:29.789 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 10:49:29.791 | DEBUG    | core.message_broker:publish:35 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': '78ded93a-7751-48c1-a5eb-45b87b11a61e', 'user_id': 'ac2a95ed-deb5-4686-b879-e405d28c4e47', 'text_content': 'What is the weather like today?', 'timestamp': 1749014369.789537}
2025-06-04 10:49:29.790 | INFO     | client.agent_client:_handle_query_received:132 - Query 248e2b84-c51a-4ab5-bd85-18b6d7323cec received by server - Status: processing
2025-06-04 10:49:29.791 | WARNING  | core.message_broker:publish:63 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 10:49:30.795 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_response
2025-06-04 10:49:30.796 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 248e2b84-c51a-4ab5-bd85-18b6d7323cec)
2025-06-04 10:49:30.796 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 10:49:30.797 | INFO     | client.agent_client:_handle_query_response:143 - Response: Current weather conditions show partly cloudy skies with a temperature of 72¬∞F. There's a 20% chance of light rain later today. Winds are light from the southwest.
2025-06-04 10:49:32.804 | INFO     | client.agent_client:send_query:89 - Sending query: Can you help me with data analysis?
2025-06-04 10:49:32.805 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'Can you help me with data analysis?', 'query_id': '53122eac-3db3-4469-aa79-b80a8f49ed13', 'timestamp': 332123.9924476}
2025-06-04 10:49:32.805 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Can you help me with data analysis?", "query_id": "53122eac-3db3-4469-aa79-b80a8f49ed13", "timestamp": 332123.9924476}
2025-06-04 10:49:32.807 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
QUERY': {'query_id': 'e8b0afcb-a3c8-4011-8657-9b4d42cfc1be', 'user_id': 'ac2a95ed-deb5-4686-b879-e405d28c4e47', 'text_content': 'Can you help me with data analysis?', 'timestamp': 1749014372.8074696}
2025-06-04 10:49:32.807 | INFO     | client.agent_client:_handle_query_received:132 - Query 53122eac-3db3-4469-aa79-b80a8f49ed13 received by server - Status: processing
2025-06-04 10:49:33.820 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_response
2025-06-04 10:49:33.820 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 53122eac-3db3-4469-aa79-b80a8f49ed13)
2025-06-04 10:49:33.821 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 10:49:33.821 | INFO     | client.agent_client:_handle_query_response:143 - Response: I can help you with various data analysis tasks including statistical analysis, data visualization, trend analysis, and predictive modeling. What specific type of analysis are you looking for?
2025-06-04 10:49:35.810 | INFO     | client.agent_client:send_text:104 - Sending text: Hello, this is a test message!
2025-06-04 10:49:35.811 | DEBUG    | client.connection_manager:send_text:141 - Sent text: Hello, this is a test message!
2025-06-04 10:49:35.813 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: Hello, this is a test message!
2025-06-04 10:49:35.813 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from ac2a95ed-deb5-4686-b879-e405d28c4e47: Hello, this is a test message!
2025-06-04 10:49:35.815 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: text_response
2025-06-04 10:49:35.816 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'Hello, this is a test message!'
2025-06-04 10:49:37.820 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 10:49:37.822 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 10:49:37.823 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 10:49:37.825 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 10:49:37.825 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 10:49:52.442 | INFO     | client.agent_client:send_query:89 - Sending query: < what is weather today in us>
2025-06-04 10:49:52.444 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': '< what is weather today in us>', 'query_id': '23727b73-e0ac-442c-b2c6-bd47351e556f', 'timestamp': 332143.6312943}
2025-06-04 10:49:52.445 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "< what is weather today in us>", "query_id": "23727b73-e0ac-442c-b2c6-bd47351e556f", "timestamp": 332143.6312943}
2025-06-04 10:49:52.447 | DEBUG    | core.message_broker:publish:35 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': 'e1fe8285-2f54-4c67-8461-bce0283e6905', 'user_id': 'ac2a95ed-deb5-4686-b879-e405d28c4e47', 'text_content': '< what is weather today in us>', 'timestamp': 1749014392.4478781}
2025-06-04 10:49:52.448 | WARNING  | core.message_broker:publish:63 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 10:49:52.448 | INFO     | client.agent_client:_handle_query_received:132 - Query 23727b73-e0ac-442c-b2c6-bd47351e556f received by server - Status: processing
2025-06-04 10:49:57.788 | DEBUG    | server.websocket_handler:_heartbeat_loop:136 - Heartbeat sent to 1 connections
2025-06-04 10:50:27.791 | DEBUG    | server.websocket_handler:_heartbeat_loop:136 - Heartbeat sent to 1 connections
2025-06-04 10:50:42.473 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: ac2a95ed-deb5-4686-b879-e405d28c4e47
2025-06-04 10:50:42.474 | INFO     | server.websocket_handler:disconnect:52 - WebSocket disconnected. User ID: ac2a95ed-deb5-4686-b879-e405d28c4e47. Remaining connections: 0
2025-06-04 10:50:42.476 | INFO     | server.websocket_handler:_heartbeat_loop:139 - Heartbeat loop cancelled
2025-06-04 10:50:42.476 | INFO     | server.websocket_handler:stop_heartbeat:121 - Heartbeat stopped
2025-06-04 11:10:12.989 | INFO     | __main__:main:49 - Cleaning up...
2025-06-04 11:10:13.075 | INFO     | client.connection_manager:disconnect:116 - WebSocket disconnected
2025-06-04 11:10:13.075 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-04 11:10:14.912 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 11:10:14.914 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-04 11:10:14.914 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-04 11:10:14.915 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-04 11:10:14.915 | INFO     | client.connection_manager:connect:34 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-04 11:10:15.118 | INFO     | server.websocket_handler:connect:27 - WebSocket connected. User ID: c5523dcb-2b6d-48f2-9be6-25b0e5ee251c. Total connections: 1
2025-06-04 11:10:15.144 | INFO     | client.connection_manager:connect:53 - WebSocket connected successfully
2025-06-04 11:10:15.153 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: connection_established
2025-06-04 11:10:15.153 | DEBUG    | client.connection_manager:_handle_message:196 - Connection established message handled
2025-06-04 11:10:15.153 | INFO     | client.connection_manager:connect:67 - Connection established. User ID: c5523dcb-2b6d-48f2-9be6-25b0e5ee251c
2025-06-04 11:10:15.154 | INFO     | client.agent_client:connect:62 - Client connected successfully. User ID: c5523dcb-2b6d-48f2-9be6-25b0e5ee251c
2025-06-04 11:10:15.154 | INFO     | __main__:main:38 - Successfully connected to Multi-Agent System
2025-06-04 11:10:15.155 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 11:10:15.156 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 11:10:15.156 | INFO     | server.websocket_handler:start_heartbeat:111 - Heartbeat started
2025-06-04 11:10:15.156 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: c5523dcb-2b6d-48f2-9be6-25b0e5ee251c
2025-06-04 11:10:15.159 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 11:10:15.161 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 11:10:15.161 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 11:10:17.172 | INFO     | client.agent_client:send_query:89 - Sending query: What is the weather like today?
2025-06-04 11:10:17.173 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'What is the weather like today?', 'query_id': '543772bb-c049-486b-b87e-919cf0b1ca47', 'timestamp': 333368.3607185}
2025-06-04 11:10:17.173 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "What is the weather like today?", "query_id": "543772bb-c049-486b-b87e-919cf0b1ca47", "timestamp": 333368.3607185}
2025-06-04 11:10:17.176 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 11:10:17.176 | INFO     | client.agent_client:_handle_query_received:132 - Query 543772bb-c049-486b-b87e-919cf0b1ca47 received by server - Status: processing
2025-06-04 11:10:17.191 | DEBUG    | core.message_broker:publish:35 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': '5da061f1-7b11-4ce5-9ad7-d8b4be88e83e', 'user_id': 'c5523dcb-2b6d-48f2-9be6-25b0e5ee251c', 'text_content': 'What is the weather like today?', 'timestamp': 1749015617.1822352}
2025-06-04 11:10:17.193 | WARNING  | core.message_broker:publish:63 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 11:10:18.205 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_response
2025-06-04 11:10:18.206 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 543772bb-c049-486b-b87e-919cf0b1ca47)
2025-06-04 11:10:18.206 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 11:10:18.206 | INFO     | client.agent_client:_handle_query_response:143 - Response: Current weather conditions show partly cloudy skies with a temperature of 72¬∞F. There's a 20% chance of light rain later today. Winds are light from the southwest.
2025-06-04 11:10:20.179 | INFO     | client.agent_client:send_query:89 - Sending query: Can you help me with data analysis?
2025-06-04 11:10:20.180 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'Can you help me with data analysis?', 'query_id': '266d39e7-a707-4e4e-80dc-9b4eafd6a004', 'timestamp': 333371.3682533}
2025-06-04 11:10:20.181 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Can you help me with data analysis?", "query_id": "266d39e7-a707-4e4e-80dc-9b4eafd6a004", "timestamp": 333371.3682533}
2025-06-04 11:10:20.188 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 11:10:20.188 | INFO     | client.agent_client:_handle_query_received:132 - Query 266d39e7-a707-4e4e-80dc-9b4eafd6a004 received by server - Status: processing
2025-06-04 11:10:20.188 | DEBUG    | core.message_broker:publish:35 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': 'a3e5ec26-c256-4e16-b560-09c9bb0b11fd', 'user_id': 'c5523dcb-2b6d-48f2-9be6-25b0e5ee251c', 'text_content': 'Can you help me with data analysis?', 'timestamp': 1749015620.1884007}
2025-06-04 11:10:20.189 | WARNING  | core.message_broker:publish:63 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 11:10:21.203 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_response
2025-06-04 11:10:21.203 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 266d39e7-a707-4e4e-80dc-9b4eafd6a004)
2025-06-04 11:10:21.203 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 11:10:21.203 | INFO     | client.agent_client:_handle_query_response:143 - Response: I can help you with various data analysis tasks including statistical analysis, data visualization, trend analysis, and predictive modeling. What specific type of analysis are you looking for?
2025-06-04 11:10:23.196 | INFO     | client.agent_client:send_text:104 - Sending text: Hello, this is a test message!
2025-06-04 11:10:23.197 | DEBUG    | client.connection_manager:send_text:141 - Sent text: Hello, this is a test message!
2025-06-04 11:10:23.198 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: Hello, this is a test message!
2025-06-04 11:10:23.200 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from c5523dcb-2b6d-48f2-9be6-25b0e5ee251c: Hello, this is a test message!
2025-06-04 11:10:23.203 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: text_response
2025-06-04 11:10:23.203 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'Hello, this is a test message!'
2025-06-04 11:10:25.207 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 11:10:25.208 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 11:10:25.209 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 11:10:25.210 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 11:10:25.210 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 11:10:45.167 | DEBUG    | server.websocket_handler:_heartbeat_loop:136 - Heartbeat sent to 1 connections
2025-06-04 11:10:48.855 | INFO     | __main__:main:49 - Cleaning up...
2025-06-04 11:10:48.865 | INFO     | client.connection_manager:disconnect:116 - WebSocket disconnected
2025-06-04 11:10:48.866 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-04 11:10:48.869 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: c5523dcb-2b6d-48f2-9be6-25b0e5ee251c
2025-06-04 11:10:48.871 | INFO     | server.websocket_handler:disconnect:52 - WebSocket disconnected. User ID: c5523dcb-2b6d-48f2-9be6-25b0e5ee251c. Remaining connections: 0
2025-06-04 11:10:48.874 | INFO     | server.websocket_handler:_heartbeat_loop:139 - Heartbeat loop cancelled
2025-06-04 11:10:48.875 | INFO     | server.websocket_handler:stop_heartbeat:121 - Heartbeat stopped
2025-06-04 11:10:57.772 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 11:10:57.774 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-04 11:10:57.775 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-04 11:10:57.775 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-04 11:10:57.775 | INFO     | client.connection_manager:connect:34 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-04 11:10:57.832 | INFO     | server.websocket_handler:connect:27 - WebSocket connected. User ID: e3c2dce9-c4aa-42b4-91b9-e5761af5ff0c. Total connections: 1
2025-06-04 11:10:57.836 | INFO     | client.connection_manager:connect:53 - WebSocket connected successfully
2025-06-04 11:10:57.837 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: connection_established
2025-06-04 11:10:57.837 | DEBUG    | client.connection_manager:_handle_message:196 - Connection established message handled
2025-06-04 11:10:57.837 | INFO     | client.connection_manager:connect:67 - Connection established. User ID: e3c2dce9-c4aa-42b4-91b9-e5761af5ff0c
2025-06-04 11:10:57.838 | INFO     | client.agent_client:connect:62 - Client connected successfully. User ID: e3c2dce9-c4aa-42b4-91b9-e5761af5ff0c
2025-06-04 11:10:57.838 | INFO     | server.websocket_handler:start_heartbeat:111 - Heartbeat started
2025-06-04 11:10:57.838 | INFO     | __main__:main:38 - Successfully connected to Multi-Agent System
2025-06-04 11:10:57.838 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: e3c2dce9-c4aa-42b4-91b9-e5761af5ff0c
2025-06-04 11:10:57.839 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 11:10:57.839 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 11:10:57.839 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 11:10:57.840 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 11:10:57.841 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 11:10:59.846 | INFO     | client.agent_client:send_query:89 - Sending query: What is the weather like today?
2025-06-04 11:10:59.847 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'What is the weather like today?', 'query_id': '44e8164e-0f24-437c-b769-22fe6ea90561', 'timestamp': 333411.0344867}
2025-06-04 11:10:59.849 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "What is the weather like today?", "query_id": "44e8164e-0f24-437c-b769-22fe6ea90561", "timestamp": 333411.0344867}
2025-06-04 11:10:59.851 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 11:10:59.851 | DEBUG    | core.message_broker:publish:35 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': 'bc5ec024-1227-42bd-8729-527c4256482d', 'user_id': 'e3c2dce9-c4aa-42b4-91b9-e5761af5ff0c', 'text_content': 'What is the weather like today?', 'timestamp': 1749015659.851494}
2025-06-04 11:10:59.851 | INFO     | client.agent_client:_handle_query_received:132 - Query 44e8164e-0f24-437c-b769-22fe6ea90561 received by server - Status: processing
2025-06-04 11:10:59.852 | WARNING  | core.message_broker:publish:63 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 11:11:00.869 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_response
2025-06-04 11:11:00.869 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 44e8164e-0f24-437c-b769-22fe6ea90561)
2025-06-04 11:11:00.870 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 11:11:00.871 | INFO     | client.agent_client:_handle_query_response:143 - Response: Current weather conditions show partly cloudy skies with a temperature of 72¬∞F. There's a 20% chance of light rain later today. Winds are light from the southwest.
2025-06-04 11:11:02.863 | INFO     | client.agent_client:send_query:89 - Sending query: Can you help me with data analysis?
2025-06-04 11:11:02.865 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'Can you help me with data analysis?', 'query_id': '918aca58-06c9-405b-942f-73fdfb1b7290', 'timestamp': 333414.0521726}
2025-06-04 11:11:02.867 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Can you help me with data analysis?", "query_id": "918aca58-06c9-405b-942f-73fdfb1b7290", "timestamp": 333414.0521726}
2025-06-04 11:11:02.870 | DEBUG    | core.message_broker:publish:35 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': '3629957f-533d-4c49-88c9-f22a8b4c78b0', 'user_id': 'e3c2dce9-c4aa-42b4-91b9-e5761af5ff0c', 'text_content': 'Can you help me with data analysis?', 'timestamp': 1749015662.870463}
2025-06-04 11:11:02.871 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 11:11:02.871 | WARNING  | core.message_broker:publish:63 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 11:11:02.871 | INFO     | client.agent_client:_handle_query_received:132 - Query 918aca58-06c9-405b-942f-73fdfb1b7290 received by server - Status: processing
2025-06-04 11:11:03.873 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_response
2025-06-04 11:11:03.873 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 918aca58-06c9-405b-942f-73fdfb1b7290)
2025-06-04 11:11:03.874 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 11:11:03.874 | INFO     | client.agent_client:_handle_query_response:143 - Response: I can help you with various data analysis tasks including statistical analysis, data visualization, trend analysis, and predictive modeling. What specific type of analysis are you looking for?
2025-06-04 11:11:05.870 | INFO     | client.agent_client:send_text:104 - Sending text: Hello, this is a test message!
2025-06-04 11:11:05.872 | DEBUG    | client.connection_manager:send_text:141 - Sent text: Hello, this is a test message!
2025-06-04 11:11:05.873 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: Hello, this is a test message!
2025-06-04 11:11:05.873 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from e3c2dce9-c4aa-42b4-91b9-e5761af5ff0c: Hello, this is a test message!
2025-06-04 11:11:05.875 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: text_response
2025-06-04 11:11:05.876 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'Hello, this is a test message!'
2025-06-04 11:11:07.881 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 11:11:07.882 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 11:11:07.883 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 11:11:07.885 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 11:11:07.885 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 11:11:23.971 | INFO     | client.agent_client:send_text:104 - Sending text: query<weather today>
2025-06-04 11:11:23.972 | DEBUG    | client.connection_manager:send_text:141 - Sent text: query<weather today>
2025-06-04 11:11:23.973 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: query<weather today>
2025-06-04 11:11:23.974 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from e3c2dce9-c4aa-42b4-91b9-e5761af5ff0c: query<weather today>
2025-06-04 11:11:23.975 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: text_response
2025-06-04 11:11:23.975 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'query<weather today>'
2025-06-04 11:11:27.852 | DEBUG    | server.websocket_handler:_heartbeat_loop:136 - Heartbeat sent to 1 connections
2025-06-04 11:11:57.860 | DEBUG    | server.websocket_handler:_heartbeat_loop:136 - Heartbeat sent to 1 connections
2025-06-04 11:12:14.017 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: e3c2dce9-c4aa-42b4-91b9-e5761af5ff0c
2025-06-04 11:12:14.017 | INFO     | server.websocket_handler:disconnect:52 - WebSocket disconnected. User ID: e3c2dce9-c4aa-42b4-91b9-e5761af5ff0c. Remaining connections: 0
2025-06-04 11:12:14.019 | INFO     | server.websocket_handler:_heartbeat_loop:139 - Heartbeat loop cancelled
2025-06-04 11:12:14.020 | INFO     | server.websocket_handler:stop_heartbeat:121 - Heartbeat stopped
2025-06-04 11:32:53.234 | INFO     | client.agent_client:send_text:104 - Sending text: what is weather
2025-06-04 11:32:53.282 | DEBUG    | client.connection_manager:send_text:141 - Sent text: what is weather
2025-06-04 11:32:53.284 | DEBUG    | client.connection_manager:_receive_loop:166 - No message received within timeout - sending ping
2025-06-04 11:32:53.285 | ERROR    | client.connection_manager:send_json:129 - Failed to send message: no close frame received or sent
2025-06-04 11:32:53.286 | WARNING  | client.connection_manager:_handle_connection_error:236 - Connection lost, attempting to reconnect...
2025-06-04 11:33:17.124 | INFO     | __main__:main:49 - Cleaning up...
2025-06-04 11:33:17.134 | INFO     | client.connection_manager:disconnect:116 - WebSocket disconnected
2025-06-04 11:33:17.135 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-04 11:33:19.700 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 11:33:19.703 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-04 11:33:19.703 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-04 11:33:19.703 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-04 11:33:19.703 | INFO     | client.connection_manager:connect:34 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-04 11:33:19.835 | INFO     | server.websocket_handler:connect:27 - WebSocket connected. User ID: c0dfe375-0999-49a8-8da1-50a6bef647de. Total connections: 1
2025-06-04 11:33:19.842 | INFO     | client.connection_manager:connect:53 - WebSocket connected successfully
2025-06-04 11:33:19.845 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: connection_established
2025-06-04 11:33:19.845 | DEBUG    | client.connection_manager:_handle_message:196 - Connection established message handled
2025-06-04 11:33:19.845 | INFO     | server.websocket_handler:start_heartbeat:111 - Heartbeat started
2025-06-04 11:33:19.845 | INFO     | client.connection_manager:connect:67 - Connection established. User ID: c0dfe375-0999-49a8-8da1-50a6bef647de
2025-06-04 11:33:19.845 | INFO     | client.agent_client:connect:62 - Client connected successfully. User ID: c0dfe375-0999-49a8-8da1-50a6bef647de
2025-06-04 11:33:19.846 | INFO     | __main__:main:38 - Successfully connected to Multi-Agent System
2025-06-04 11:33:19.845 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: c0dfe375-0999-49a8-8da1-50a6bef647de
2025-06-04 11:33:19.848 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 11:33:19.849 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 11:33:19.849 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 11:33:19.851 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 11:33:19.851 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 11:33:21.852 | INFO     | client.agent_client:send_query:89 - Sending query: What is the weather like today?
2025-06-04 11:33:21.853 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'What is the weather like today?', 'query_id': 'c54a419a-5892-4955-8d81-a056d52439a0', 'timestamp': 334753.0412607}
2025-06-04 11:33:21.854 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "What is the weather like today?", "query_id": "c54a419a-5892-4955-8d81-a056d52439a0", "timestamp": 334753.0412607}
2025-06-04 11:33:21.855 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 11:33:21.856 | INFO     | client.agent_client:_handle_query_received:132 - Query c54a419a-5892-4955-8d81-a056d52439a0 received by server - Status: processing
2025-06-04 11:33:21.856 | DEBUG    | core.message_broker:publish:35 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': 'b68dccee-0eb4-4756-9102-5e4383dd9b1a', 'user_id': 'c0dfe375-0999-49a8-8da1-50a6bef647de', 'text_content': 'What is the weather like today?', 'timestamp': 1749017001.85617}
2025-06-04 11:33:21.857 | WARNING  | core.message_broker:publish:63 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 11:33:22.865 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_response
2025-06-04 11:33:22.865 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: c54a419a-5892-4955-8d81-a056d52439a0)
2025-06-04 11:33:22.866 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 11:33:22.866 | INFO     | client.agent_client:_handle_query_response:143 - Response: Current weather conditions show partly cloudy skies with a temperature of 72¬∞F. There's a 20% chance of light rain later today. Winds are light from the southwest.
2025-06-04 11:33:24.861 | INFO     | client.agent_client:send_query:89 - Sending query: Can you help me with data analysis?
2025-06-04 11:33:24.863 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'Can you help me with data analysis?', 'query_id': '5ff7e8dd-47c7-40c1-bdf6-26e146e6b23d', 'timestamp': 334756.0499222}
2025-06-04 11:33:24.864 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Can you help me with data analysis?", "query_id": "5ff7e8dd-47c7-40c1-bdf6-26e146e6b23d", "timestamp": 334756.0499222}
2025-06-04 11:33:24.866 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 11:33:24.866 | INFO     | client.agent_client:_handle_query_received:132 - Query 5ff7e8dd-47c7-40c1-bdf6-26e146e6b23d received by server - Status: processing
2025-06-04 11:33:24.866 | DEBUG    | core.message_broker:publish:35 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': 'e7724e6b-cb76-4300-bd56-43449ad9650a', 'user_id': 'c0dfe375-0999-49a8-8da1-50a6bef647de', 'text_content': 'Can you help me with data analysis?', 'timestamp': 1749017004.8663096}
2025-06-04 11:33:24.868 | WARNING  | core.message_broker:publish:63 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 11:33:25.881 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_response
2025-06-04 11:33:25.881 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 5ff7e8dd-47c7-40c1-bdf6-26e146e6b23d)
2025-06-04 11:33:25.882 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 11:33:25.882 | INFO     | client.agent_client:_handle_query_response:143 - Response: I can help you with various data analysis tasks including statistical analysis, data visualization, trend analysis, and predictive modeling. What specific type of analysis are you looking for?
2025-06-04 11:33:27.870 | INFO     | client.agent_client:send_text:104 - Sending text: Hello, this is a test message!
2025-06-04 11:33:27.870 | DEBUG    | client.connection_manager:send_text:141 - Sent text: Hello, this is a test message!
2025-06-04 11:33:27.871 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: Hello, this is a test message!
2025-06-04 11:33:27.871 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from c0dfe375-0999-49a8-8da1-50a6bef647de: Hello, this is a test message!
2025-06-04 11:33:27.872 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: text_response
2025-06-04 11:33:27.872 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'Hello, this is a test message!'
2025-06-04 11:33:29.887 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 11:33:29.888 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 11:33:29.888 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 11:33:29.889 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 11:33:29.889 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 11:33:37.904 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 11:33:37.905 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 11:33:37.905 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 11:33:37.907 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 11:33:37.907 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 11:33:49.854 | DEBUG    | server.websocket_handler:_heartbeat_loop:136 - Heartbeat sent to 1 connections
2025-06-04 11:34:09.875 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: c0dfe375-0999-49a8-8da1-50a6bef647de
2025-06-04 11:34:09.876 | INFO     | server.websocket_handler:disconnect:52 - WebSocket disconnected. User ID: c0dfe375-0999-49a8-8da1-50a6bef647de. Remaining connections: 0
2025-06-04 11:34:09.878 | INFO     | server.websocket_handler:_heartbeat_loop:139 - Heartbeat loop cancelled
2025-06-04 11:34:09.879 | INFO     | server.websocket_handler:stop_heartbeat:121 - Heartbeat stopped
2025-06-04 11:48:46.691 | INFO     | __main__:main:49 - Cleaning up...
2025-06-04 11:48:46.800 | INFO     | client.connection_manager:disconnect:116 - WebSocket disconnected
2025-06-04 11:48:46.801 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-04 11:48:48.981 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 11:48:48.983 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-04 11:48:48.983 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-04 11:48:48.984 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-04 11:48:48.984 | INFO     | client.connection_manager:connect:34 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-04 11:48:49.110 | INFO     | server.websocket_handler:connect:27 - WebSocket connected. User ID: 691e87d4-b068-4312-b5b1-6ed71f182b89. Total connections: 1
2025-06-04 11:48:49.119 | INFO     | client.connection_manager:connect:53 - WebSocket connected successfully
2025-06-04 11:48:49.121 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: connection_established
2025-06-04 11:48:49.122 | DEBUG    | client.connection_manager:_handle_message:196 - Connection established message handled
2025-06-04 11:48:49.121 | INFO     | server.websocket_handler:start_heartbeat:111 - Heartbeat started
2025-06-04 11:48:49.122 | INFO     | client.connection_manager:connect:67 - Connection established. User ID: 691e87d4-b068-4312-b5b1-6ed71f182b89

2025-06-04 11:48:49.123 | INFO     | client.agent_client:connect:62 - Client connected successfully. User ID: 691e87d4-b068-4312-b5b1-6ed71f182b89
2025-06-04 11:48:49.123 | INFO     | __main__:main:38 - Successfully connected to Multi-Agent System
2025-06-04 11:48:49.125 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 11:48:49.126 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 11:48:49.127 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 11:48:49.128 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 11:48:49.128 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 11:48:51.128 | INFO     | client.agent_client:send_query:89 - Sending query: What is the weather like today?
2025-06-04 11:48:51.129 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'What is the weather like today?', 'query_id': '24f2759c-dce5-4d84-9f8f-afc45586326a', 'timestamp': 335682.3169399}
2025-06-04 11:48:51.130 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "What is the weather like today?", "query_id": "24f2759c-dce5-4d84-9f8f-afc45586326a", "timestamp": 335682.3169399}
2025-06-04 11:48:51.132 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 11:48:51.133 | INFO     | client.agent_client:_handle_query_received:132 - Query 24f2759c-dce5-4d84-9f8f-afc45586326a received by server - Status: processing
2025-06-04 11:48:51.134 | DEBUG    | core.message_broker:publish:35 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': '07ba426e-c521-4d64-92b7-4c4c8c57ce36', 'user_id': '691e87d4-b068-4312-b5b1-6ed71f182b89', 'text_content': 'What is the weather like today?', 'timestamp': 1749017931.133682}
2025-06-04 11:48:51.135 | WARNING  | core.message_broker:publish:63 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 11:48:52.137 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_response
2025-06-04 11:48:52.138 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 24f2759c-dce5-4d84-9f8f-afc45586326a)
2025-06-04 11:48:52.138 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 11:48:52.138 | INFO     | client.agent_client:_handle_query_response:143 - Response: Current weather conditions show partly cloudy skies with a temperature of 72¬∞F. There's a 20% chance of light rain later today. Winds are light from the southwest.
2025-06-04 11:48:54.132 | INFO     | client.agent_client:send_query:89 - Sending query: Can you help me with data analysis?
2025-06-04 11:48:54.133 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': 'Can you help me with data analysis?', 'query_id': '0abfa8b0-1485-42aa-8d2d-8d82d1fc066d', 'timestamp': 335685.3208026}
2025-06-04 11:48:54.134 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Can you help me with data analysis?", "query_id": "0abfa8b0-1485-42aa-8d2d-8d82d1fc066d", "timestamp": 335685.3208026}
2025-06-04 11:48:54.137 | DEBUG    | core.message_broker:publish:35 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': 'bfb39cca-d7ef-43a5-a539-2941305bc2e1', 'user_id': '691e87d4-b068-4312-b5b1-6ed71f182b89', 'text_content': 'Can you help me with data analysis?', 'timestamp': 1749017934.1374836}
2025-06-04 11:48:54.137 | INFO     | client.agent_client:_handle_query_received:132 - Query 0abfa8b0-1485-42aa-8d2d-8d82d1fc066d received by server - Status: processing
2025-06-04 11:48:54.137 | WARNING  | core.message_broker:publish:63 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 11:48:55.144 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_response
2025-06-04 11:48:55.144 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 0abfa8b0-1485-42aa-8d2d-8d82d1fc066d)
2025-06-04 11:48:55.145 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 11:48:55.145 | INFO     | client.agent_client:_handle_query_response:143 - Response: I can help you with various data analysis tasks including statistical analysis, data visualization, trend analysis, and predictive modeling. What specific type of analysis are you looking for?
2025-06-04 11:48:57.149 | INFO     | client.agent_client:send_text:104 - Sending text: Hello, this is a test message!
2025-06-04 11:48:57.150 | DEBUG    | client.connection_manager:send_text:141 - Sent text: Hello, this is a test message!
2025-06-04 11:48:57.151 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: Hello, this is a test message!
2025-06-04 11:48:57.154 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from 691e87d4-b068-4312-b5b1-6ed71f182b89: Hello, this is a test message!
2025-06-04 11:48:57.155 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: text_response
2025-06-04 11:48:57.156 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'Hello, this is a test message!'
2025-06-04 11:48:59.154 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 11:48:59.155 | DEBUG    | client.connection_manager:send_text:141 - Sent text: status
2025-06-04 11:48:59.155 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 11:48:59.157 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: status_response
2025-06-04 11:48:59.157 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: status_response
2025-06-04 11:49:11.003 | INFO     | client.agent_client:send_query:89 - Sending query: <weather today>
2025-06-04 11:49:11.003 | DEBUG    | client.connection_manager:send_json:126 - Sent message: {'type': 'query', 'query': '<weather today>', 'query_id': '8a4ffbfe-5840-4ead-95d7-6562eeac6ab2', 'timestamp': 335702.1915454}
2025-06-04 11:49:11.004 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "<weather today>", "query_id": "8a4ffbfe-5840-4ead-95d7-6562eeac6ab2", "timestamp": 335702.1915454}
2025-06-04 11:49:11.008 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: query_received
2025-06-04 11:49:11.008 | DEBUG    | core.message_broker:publish:35 - Publishing message to topic 'InternalMessageType.USER_QUERY': {'query_id': 'ecad4f4c-a85d-452e-b71d-5ea4a77e02ee', 'user_id': '691e87d4-b068-4312-b5b1-6ed71f182b89', 'text_content': '<weather today>', 'timestamp': 1749017951.0084643}
2025-06-04 11:49:11.008 | WARNING  | core.message_broker:publish:63 - No active queue or subscribers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 11:49:11.008 | INFO     | client.agent_client:_handle_query_received:132 - Query 8a4ffbfe-5840-4ead-95d7-6562eeac6ab2 received by server - Status: processing
2025-06-04 11:49:19.135 | DEBUG    | server.websocket_handler:_heartbeat_loop:136 - Heartbeat sent to 1 connections
2025-06-04 11:49:49.145 | DEBUG    | server.websocket_handler:_heartbeat_loop:136 - Heartbeat sent to 1 connections
2025-06-04 11:50:01.252 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: 691e87d4-b068-4312-b5b1-6ed71f182b89
2025-06-04 11:50:01.253 | INFO     | server.websocket_handler:disconnect:52 - WebSocket disconnected. User ID: 691e87d4-b068-4312-b5b1-6ed71f182b89. Remaining connections: 0
2025-06-04 11:50:01.255 | INFO     | server.websocket_handler:_heartbeat_loop:139 - Heartbeat loop cancelled
2025-06-04 11:50:01.256 | INFO     | server.websocket_handler:stop_heartbeat:121 - Heartbeat stopped
2025-06-04 11:52:12.713 | INFO     | __main__:main:49 - Cleaning up...
2025-06-04 11:52:12.762 | INFO     | client.connection_manager:disconnect:116 - WebSocket disconnected
2025-06-04 11:52:12.763 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-04 12:12:08.660 | INFO     | server.agent_server:lifespan:53 - Agent Server shutting down...
2025-06-04 12:12:08.678 | INFO     | server.websocket_handler:disconnect_all:69 - All WebSocket connections closed
2025-06-04 12:12:08.681 | INFO     | server.orchestrator:shutdown:347 - Shutting down OrchestratorAgent...
2025-06-04 12:12:08.698 | DEBUG    | core.message_broker:publish:35 - Publishing message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-04 12:12:08.699 | WARNING  | core.message_broker:publish:63 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-04 12:12:08.699 | INFO     | server.agent_server:lifespan:60 - Agent Server shutdown complete.
2025-06-04 12:12:08.726 | INFO     | core.message_broker:stop:27 - Message broker stopped
2025-06-04 12:12:08.728 | INFO     | __main__:main_async:239 - üèÅ Message broker stopped
2025-06-04 12:12:08.730 | INFO     | __main__:main_async:243 - üèÅ Server stopped
2025-06-04 12:12:08.754 | INFO     | __main__:main:250 - üõë Shutdown signal received
2025-06-04 12:13:38.753 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 12:13:38.754 | INFO     | __main__:startup_checks:172 - üîç Performing startup checks...
2025-06-04 12:13:38.758 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:13:38.763 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:13:38.769 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:13:38.769 | INFO     | __main__:validate_configuration:116 - ‚úÖ Configuration validation passed
2025-06-04 12:13:38.770 | INFO     | __main__:initialize_core_components:128 - üîß Initializing core components...
2025-06-04 12:13:38.771 | INFO     | core.message_broker:start:42 - Message broker started
2025-06-04 12:13:38.772 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.USER_QUERY
2025-06-04 12:13:38.772 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.QUERY_RESPONSE
2025-06-04 12:13:38.773 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.SYSTEM_STATUS
2025-06-04 12:13:38.773 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.AGENT_STATUS
2025-06-04 12:13:38.773 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.HEARTBEAT
2025-06-04 12:13:38.773 | INFO     | core.message_broker:start:48 - Message broker initialized with 5 topics
2025-06-04 12:13:38.774 | INFO     | __main__:initialize_core_components:132 - ‚úÖ Message broker initialized successfully
2025-06-04 12:13:38.776 | INFO     | core.message_broker:subscribe:234 - Subscribed to topic 'user_query'. Total subscribers: 1
2025-06-04 12:13:38.777 | INFO     | __main__:initialize_core_components:139 - ‚úÖ Subscribed to USER_QUERY topic
2025-06-04 12:13:38.779 | INFO     | core.message_broker:subscribe:234 - Subscribed to topic 'InternalMessageType.USER_QUERY'. Total subscribers: 1
2025-06-04 12:13:38.780 | INFO     | core.query_handler:start:24 - Query handler started and subscribed to USER_QUERY topic
2025-06-04 12:13:38.781 | INFO     | __main__:initialize_core_components:143 - ‚úÖ Query handler initialized successfully
2025-06-04 12:13:38.783 | INFO     | __main__:wait_for_agents:152 - ‚è≥ Waiting for A2A agents to be ready...
2025-06-04 12:13:38.790 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:13:38.797 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:13:38.798 | INFO     | __main__:check_agent_availability:38 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 12:13:38.809 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:13:38.815 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:13:38.816 | INFO     | __main__:check_agent_availability:38 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 12:13:38.822 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:13:38.828 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:13:38.829 | INFO     | __main__:check_agent_availability:38 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 12:13:38.829 | INFO     | __main__:wait_for_agents:161 - ‚úÖ Found 3 available agents
2025-06-04 12:13:38.830 | INFO     | __main__:startup_checks:184 - ‚úÖ All startup checks passed
2025-06-04 12:13:38.831 | INFO     | __main__:display_server_info:50 - ======================================================================
2025-06-04 12:13:38.832 | INFO     | __main__:display_server_info:51 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-04 12:13:38.833 | INFO     | __main__:display_server_info:52 - ======================================================================
2025-06-04 12:13:38.834 | INFO     | __main__:display_server_info:53 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-04 12:13:38.835 | INFO     | __main__:display_server_info:54 - üîå WebSocket Server: ws://127.0.0.1:5000/ws
2025-06-04 12:13:38.836 | INFO     | __main__:display_server_info:55 - üìä Environment: development
2025-06-04 12:13:38.837 | INFO     | __main__:display_server_info:56 - üîß Debug Mode: True
2025-06-04 12:13:38.838 | INFO     | __main__:display_server_info:57 - 
2025-06-04 12:13:38.842 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:13:38.848 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:13:38.848 | INFO     | __main__:check_agent_availability:38 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 12:13:38.853 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:13:38.858 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:13:38.858 | INFO     | __main__:check_agent_availability:38 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 12:13:38.861 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:13:38.864 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:13:38.865 | INFO     | __main__:check_agent_availability:38 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 12:13:38.866 | INFO     | __main__:display_server_info:63 - ü§ñ Available A2A Agents:
2025-06-04 12:13:38.866 | INFO     | __main__:display_server_info:65 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-04 12:13:38.867 | INFO     | __main__:display_server_info:65 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5513/a2a
2025-06-04 12:13:38.868 | INFO     | __main__:display_server_info:65 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-04 12:13:38.869 | INFO     | __main__:display_server_info:72 - 
2025-06-04 12:13:38.870 | INFO     | __main__:display_server_info:73 - üí° API Documentation available at:
2025-06-04 12:13:38.871 | INFO     | __main__:display_server_info:74 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-04 12:13:38.872 | INFO     | __main__:display_server_info:75 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-04 12:13:38.872 | INFO     | __main__:display_server_info:76 - ======================================================================
2025-06-04 12:13:38.873 | INFO     | __main__:configure_uvicorn:210 - üîß Development mode: Hot-reloading enabled
2025-06-04 12:13:38.875 | INFO     | __main__:main_async:225 - üöÄ Starting Multi-Agent System Server...
2025-06-04 12:13:38.876 | INFO     | __main__:main_async:226 - üì® Message broker and query handler are active and ready to process queries
2025-06-04 12:13:38.877 | INFO     | __main__:main_async:227 - Press Ctrl+C to stop the server
2025-06-04 12:13:38.929 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: user_query
2025-06-04 12:13:38.929 | DEBUG    | core.message_broker:_ensure_topic_processing:149 - Started message processing task for topic 'user_query'
2025-06-04 12:13:38.929 | DEBUG    | core.message_broker:_ensure_topic_processing:149 - Started message processing task for topic 'InternalMessageType.USER_QUERY'
2025-06-04 12:13:38.930 | INFO     | server.agent_server:lifespan:28 - Agent Server starting up...
2025-06-04 12:13:38.930 | INFO     | server.orchestrator:initialize:35 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-04 12:13:38.930 | INFO     | server.orchestrator:initialize:41 - Found 3 agent configurations to process...
2025-06-04 12:13:38.931 | INFO     | server.orchestrator:initialize:44 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:13:38.931 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-04 12:13:38.932 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for weather_agent
2025-06-04 12:13:39.549 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 12:13:39.661 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for weather_agent at http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 12:13:39.663 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for weather_agent
2025-06-04 12:13:39.664 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for weather_agent
2025-06-04 12:13:39.664 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Weather Agent (weather_agent) at http://127.0.0.1:5211/a2a
2025-06-04 12:13:39.665 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for weather_agent
2025-06-04 12:13:39.666 | INFO     | server.orchestrator:initialize:44 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:13:39.667 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5513/a2a
2025-06-04 12:13:39.668 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for web_search_agent
2025-06-04 12:13:40.230 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 12:13:40.340 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for web_search_agent at http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 12:13:40.341 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for web_search_agent
2025-06-04 12:13:40.342 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for web_search_agent
2025-06-04 12:13:40.344 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Web Search Agent (web_search_agent) at http://127.0.0.1:5513/a2a
2025-06-04 12:13:40.346 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for web_search_agent
2025-06-04 12:13:40.348 | INFO     | server.orchestrator:initialize:44 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:13:40.349 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-04 12:13:40.350 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for news_agent
2025-06-04 12:13:40.922 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 12:13:40.923 | DEBUG    | core.message_broker:_process_topic_messages:168 - No messages or subscribers for topic 'user_query', stopping processor
2025-06-04 12:13:40.924 | DEBUG    | core.message_broker:_process_topic_messages:179 - Message processor for topic 'user_query' stopped
2025-06-04 12:13:41.023 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for news_agent at http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 12:13:41.024 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for news_agent
2025-06-04 12:13:41.024 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for news_agent
2025-06-04 12:13:41.025 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: News Agent (news_agent) at http://127.0.0.1:5313/a2a
2025-06-04 12:13:41.026 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for news_agent
2025-06-04 12:13:41.027 | INFO     | server.orchestrator:initialize:91 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-04 12:13:41.027 | INFO     | server.orchestrator:initialize:105 - Successfully initialized Perplexity LLM
2025-06-04 12:13:41.028 | INFO     | server.orchestrator:initialize:130 - Successfully created Orchestrator Agent with 3 tools
2025-06-04 12:13:41.028 | INFO     | server.orchestrator:initialize:142 - Successfully created Runner
2025-06-04 12:13:41.029 | INFO     | server.orchestrator:initialize:148 - OrchestratorAgent fully initialized and ready.
2025-06-04 12:13:41.029 | INFO     | server.agent_server:lifespan:31 - Orchestrator Agent initialized.
2025-06-04 12:13:41.030 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: weather_agent
2025-06-04 12:13:41.031 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: web_search_agent
2025-06-04 12:13:41.031 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: news_agent
2025-06-04 12:13:41.032 | INFO     | server.agent_server:lifespan:51 - Agent Server startup complete.
2025-06-04 12:13:41.033 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-04 12:13:41.034 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:41.100 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:41.162 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:41.218 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:41.281 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:41.343 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:41.405 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:41.469 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:41.530 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:41.592 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:41.654 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:41.718 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:41.772 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:41.836 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:41.903 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:41.965 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:42.028 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:42.090 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:42.152 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:42.205 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:42.269 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:42.329 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:42.390 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:42.453 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:42.517 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:42.574 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:42.636 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:42.699 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:42.760 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:42.819 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:42.875 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:42.938 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:43.000 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:43.062 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:43.124 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:43.176 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:43.237 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:43.299 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:43.361 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:43.423 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:43.485 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:43.546 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:43.608 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:43.671 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:43.733 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:43.796 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:43.859 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:43.920 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:43.982 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:44.044 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:44.107 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:44.168 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:44.226 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:44.289 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:44.351 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:44.412 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:44.463 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:44.524 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:44.587 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:44.648 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:44.711 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:44.773 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:44.835 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:44.897 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:44.958 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:45.022 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:45.082 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:45.143 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:45.205 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:45.258 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:45.319 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:45.381 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:45.442 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:45.504 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:45.566 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:45.627 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:45.689 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:45.752 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:45.813 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:45.874 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:45.937 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:45.999 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:46.061 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:46.124 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:46.187 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:46.249 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:13:46.267 | INFO     | server.agent_server:lifespan:53 - Agent Server shutting down...
2025-06-04 12:13:46.268 | INFO     | server.websocket_handler:disconnect_all:102 - Disconnecting all 0 connections...
2025-06-04 12:13:46.268 | INFO     | server.websocket_handler:_stop_main_heartbeat:218 - Main heartbeat loop stopped
2025-06-04 12:13:46.269 | INFO     | server.websocket_handler:disconnect_all:116 - All connections disconnected
2025-06-04 12:13:46.270 | INFO     | server.orchestrator:shutdown:347 - Shutting down OrchestratorAgent...
2025-06-04 12:13:46.270 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.AGENT_STATUS_UPDATE
2025-06-04 12:13:46.270 | WARNING  | core.message_broker:publish:114 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-04 12:13:46.272 | INFO     | server.agent_server:lifespan:60 - Agent Server shutdown complete.
2025-06-04 12:13:46.274 | INFO     | core.message_broker:stop:56 - Stopping message broker...
2025-06-04 12:13:46.276 | DEBUG    | core.message_broker:_process_topic_messages:179 - Message processor for topic 'InternalMessageType.USER_QUERY' stopped
2025-06-04 12:13:46.277 | INFO     | __main__:main:252 - üõë Shutdown signal received
2025-06-04 12:18:02.459 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 12:18:02.460 | INFO     | __main__:startup_checks:172 - üîç Performing startup checks...
2025-06-04 12:18:02.463 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:18:02.465 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:18:02.467 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:18:02.467 | INFO     | __main__:validate_configuration:116 - ‚úÖ Configuration validation passed
2025-06-04 12:18:02.468 | INFO     | __main__:initialize_core_components:128 - üîß Initializing core components...
2025-06-04 12:18:02.468 | INFO     | core.message_broker:start:21 - Starting MessageBroker...
2025-06-04 12:18:02.468 | INFO     | core.message_broker:start:27 - MessageBroker started
2025-06-04 12:18:02.468 | INFO     | __main__:initialize_core_components:132 - ‚úÖ Message broker initialized successfully
2025-06-04 12:18:02.469 | DEBUG    | core.message_broker:subscribe:52 - Subscriber added to topic 'user_query'
2025-06-04 12:18:02.469 | INFO     | __main__:initialize_core_components:139 - ‚úÖ Subscribed to USER_QUERY topic
2025-06-04 12:18:02.470 | DEBUG    | core.message_broker:subscribe:52 - Subscriber added to topic 'user_query'
2025-06-04 12:18:02.470 | INFO     | core.query_handler:start:20 - Query handler started and subscribed to USER_QUERY topic
2025-06-04 12:18:02.470 | INFO     | __main__:initialize_core_components:143 - ‚úÖ Query handler initialized successfully
2025-06-04 12:18:02.470 | INFO     | __main__:wait_for_agents:152 - ‚è≥ Waiting for A2A agents to be ready...
2025-06-04 12:18:02.473 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:18:02.477 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:18:02.477 | INFO     | __main__:check_agent_availability:38 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 12:18:02.481 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:18:02.484 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:18:02.485 | INFO     | __main__:check_agent_availability:38 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 12:18:02.490 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:18:02.493 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:18:02.494 | INFO     | __main__:check_agent_availability:38 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 12:18:02.495 | INFO     | __main__:wait_for_agents:161 - ‚úÖ Found 3 available agents
2025-06-04 12:18:02.495 | INFO     | __main__:startup_checks:184 - ‚úÖ All startup checks passed
2025-06-04 12:18:02.496 | INFO     | __main__:display_server_info:50 - ======================================================================
2025-06-04 12:18:02.496 | INFO     | __main__:display_server_info:51 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-04 12:18:02.497 | INFO     | __main__:display_server_info:52 - ======================================================================
2025-06-04 12:18:02.498 | INFO     | __main__:display_server_info:53 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-04 12:18:02.498 | INFO     | __main__:display_server_info:54 - üîå WebSocket Server: ws://127.0.0.1:5000/ws
2025-06-04 12:18:02.498 | INFO     | __main__:display_server_info:55 - üìä Environment: development
2025-06-04 12:18:02.498 | INFO     | __main__:display_server_info:56 - üîß Debug Mode: True
2025-06-04 12:18:02.499 | INFO     | __main__:display_server_info:57 - 
2025-06-04 12:18:02.502 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:18:02.505 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:18:02.505 | INFO     | __main__:check_agent_availability:38 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 12:18:02.507 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:18:02.510 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:18:02.510 | INFO     | __main__:check_agent_availability:38 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 12:18:02.513 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:18:02.515 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:18:02.516 | INFO     | __main__:check_agent_availability:38 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 12:18:02.516 | INFO     | __main__:display_server_info:63 - ü§ñ Available A2A Agents:
2025-06-04 12:18:02.517 | INFO     | __main__:display_server_info:65 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-04 12:18:02.517 | INFO     | __main__:display_server_info:65 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5513/a2a
2025-06-04 12:18:02.518 | INFO     | __main__:display_server_info:65 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-04 12:18:02.518 | INFO     | __main__:display_server_info:72 - 
2025-06-04 12:18:02.518 | INFO     | __main__:display_server_info:73 - üí° API Documentation available at:
2025-06-04 12:18:02.519 | INFO     | __main__:display_server_info:74 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-04 12:18:02.519 | INFO     | __main__:display_server_info:75 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-04 12:18:02.520 | INFO     | __main__:display_server_info:76 - ======================================================================
2025-06-04 12:18:02.520 | INFO     | __main__:configure_uvicorn:210 - üîß Development mode: Hot-reloading enabled
2025-06-04 12:18:02.521 | INFO     | __main__:main_async:225 - üöÄ Starting Multi-Agent System Server...
2025-06-04 12:18:02.521 | INFO     | __main__:main_async:226 - üì® Message broker and query handler are active and ready to process queries
2025-06-04 12:18:02.521 | INFO     | __main__:main_async:227 - Press Ctrl+C to stop the server
2025-06-04 12:18:02.569 | INFO     | core.message_broker:_dispatch_loop:83 - Starting dispatch loop for topic 'user_query'
2025-06-04 12:18:02.570 | INFO     | server.agent_server:lifespan:28 - Agent Server starting up...
2025-06-04 12:18:02.570 | INFO     | server.orchestrator:initialize:35 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-04 12:18:02.571 | INFO     | server.orchestrator:initialize:41 - Found 3 agent configurations to process...
2025-06-04 12:18:02.571 | INFO     | server.orchestrator:initialize:44 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:18:02.571 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-04 12:18:02.572 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for weather_agent
2025-06-04 12:18:02.903 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 12:18:02.937 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for weather_agent at http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 12:18:02.938 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for weather_agent
2025-06-04 12:18:02.938 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for weather_agent
2025-06-04 12:18:02.938 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Weather Agent (weather_agent) at http://127.0.0.1:5211/a2a
2025-06-04 12:18:02.939 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for weather_agent
2025-06-04 12:18:02.939 | INFO     | server.orchestrator:initialize:44 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:18:02.939 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5513/a2a
2025-06-04 12:18:02.940 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for web_search_agent
2025-06-04 12:18:03.263 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 12:18:03.290 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for web_search_agent at http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 12:18:03.290 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for web_search_agent
2025-06-04 12:18:03.291 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for web_search_agent
2025-06-04 12:18:03.291 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Web Search Agent (web_search_agent) at http://127.0.0.1:5513/a2a
2025-06-04 12:18:03.292 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for web_search_agent
2025-06-04 12:18:03.292 | INFO     | server.orchestrator:initialize:44 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:18:03.293 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-04 12:18:03.293 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for news_agent
2025-06-04 12:18:03.637 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 12:18:03.660 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for news_agent at http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 12:18:03.661 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for news_agent
2025-06-04 12:18:03.661 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for news_agent
2025-06-04 12:18:03.661 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: News Agent (news_agent) at http://127.0.0.1:5313/a2a
2025-06-04 12:18:03.661 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for news_agent
2025-06-04 12:18:03.662 | INFO     | server.orchestrator:initialize:91 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-04 12:18:03.662 | INFO     | server.orchestrator:initialize:105 - Successfully initialized Perplexity LLM
2025-06-04 12:18:03.662 | INFO     | server.orchestrator:initialize:130 - Successfully created Orchestrator Agent with 3 tools
2025-06-04 12:18:03.663 | INFO     | server.orchestrator:initialize:142 - Successfully created Runner
2025-06-04 12:18:03.663 | INFO     | server.orchestrator:initialize:148 - OrchestratorAgent fully initialized and ready.
2025-06-04 12:18:03.663 | INFO     | server.agent_server:lifespan:31 - Orchestrator Agent initialized.
2025-06-04 12:18:03.664 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: weather_agent
2025-06-04 12:18:03.664 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: web_search_agent
2025-06-04 12:18:03.664 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: news_agent
2025-06-04 12:18:03.665 | INFO     | server.agent_server:lifespan:51 - Agent Server startup complete.
2025-06-04 12:18:03.665 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-04 12:18:03.666 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:03.725 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:03.788 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:03.851 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:03.913 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:03.975 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:04.036 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:04.098 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:04.159 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:04.221 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:04.284 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:04.346 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:04.407 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:04.470 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:04.532 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:04.595 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:04.651 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:04.713 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:04.777 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:04.838 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:04.899 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:04.962 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:05.025 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:05.086 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:05.149 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:05.206 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:05.268 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:05.330 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:05.393 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:05.455 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:05.517 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:05.580 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:05.641 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:05.703 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:05.765 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:05.825 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:05.888 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:05.950 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:06.015 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:06.105 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:06.166 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:06.228 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:06.288 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:06.350 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:06.405 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:06.468 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:06.531 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:06.592 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:06.654 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:06.717 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:06.779 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:06.840 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:06.903 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:06.965 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:07.028 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:07.085 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:07.149 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:07.210 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:07.272 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:07.327 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:07.381 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:07.440 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:18:07.441 | INFO     | server.agent_server:lifespan:53 - Agent Server shutting down...
2025-06-04 12:18:07.441 | INFO     | server.websocket_handler:disconnect_all:102 - Disconnecting all 0 connections...
2025-06-04 12:18:07.441 | INFO     | server.websocket_handler:_stop_main_heartbeat:218 - Main heartbeat loop stopped
2025-06-04 12:18:07.442 | INFO     | server.websocket_handler:disconnect_all:116 - All connections disconnected
2025-06-04 12:18:07.442 | INFO     | server.orchestrator:shutdown:347 - Shutting down OrchestratorAgent...
2025-06-04 12:18:07.442 | DEBUG    | core.message_broker:publish:77 - Created new topic 'InternalMessageType.AGENT_STATUS_UPDATE' on publish
2025-06-04 12:18:07.442 | DEBUG    | core.message_broker:publish:80 - Published message to topic 'InternalMessageType.AGENT_STATUS_UPDATE': {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-04 12:18:07.442 | INFO     | server.agent_server:lifespan:60 - Agent Server shutdown complete.
2025-06-04 12:18:07.443 | INFO     | core.message_broker:_dispatch_loop:83 - Starting dispatch loop for topic 'InternalMessageType.AGENT_STATUS_UPDATE'
2025-06-04 12:18:07.443 | DEBUG    | core.message_broker:_dispatch_loop:90 - No subscribers to topic 'InternalMessageType.AGENT_STATUS_UPDATE' to receive message: {'status': 'shutdown', 'message': 'Server is shutting down.'}
2025-06-04 12:18:07.444 | INFO     | core.message_broker:stop:34 - Stopping MessageBroker...
2025-06-04 12:18:07.445 | INFO     | core.message_broker:stop:41 - MessageBroker stopped
2025-06-04 12:18:07.445 | INFO     | __main__:main_async:241 - üèÅ Message broker stopped
2025-06-04 12:18:07.446 | INFO     | __main__:main_async:245 - üèÅ Server stopped
2025-06-04 12:18:07.447 | INFO     | core.message_broker:_dispatch_loop:98 - Dispatch loop for topic 'user_query' cancelled
2025-06-04 12:18:07.447 | INFO     | core.message_broker:_dispatch_loop:102 - Dispatch loop for topic 'user_query' stopped
2025-06-04 12:18:07.447 | INFO     | core.message_broker:_dispatch_loop:98 - Dispatch loop for topic 'InternalMessageType.AGENT_STATUS_UPDATE' cancelled
2025-06-04 12:18:07.447 | INFO     | core.message_broker:_dispatch_loop:102 - Dispatch loop for topic 'InternalMessageType.AGENT_STATUS_UPDATE' stopped
2025-06-04 12:18:07.448 | INFO     | __main__:main:252 - üõë Shutdown signal received
2025-06-04 12:19:42.112 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 12:19:42.112 | INFO     | __main__:startup_checks:172 - üîç Performing startup checks...
2025-06-04 12:19:42.114 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:19:42.117 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:19:42.119 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:19:42.119 | INFO     | __main__:validate_configuration:116 - ‚úÖ Configuration validation passed
2025-06-04 12:19:42.119 | INFO     | __main__:initialize_core_components:128 - üîß Initializing core components...
2025-06-04 12:19:42.120 | INFO     | core.message_broker:start:42 - Message broker started
2025-06-04 12:19:42.120 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.USER_QUERY
2025-06-04 12:19:42.120 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.QUERY_RESPONSE
2025-06-04 12:19:42.120 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.SYSTEM_STATUS
2025-06-04 12:19:42.120 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.AGENT_STATUS
2025-06-04 12:19:42.120 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.HEARTBEAT
2025-06-04 12:19:42.120 | INFO     | core.message_broker:start:48 - Message broker initialized with 5 topics
2025-06-04 12:19:42.120 | INFO     | __main__:initialize_core_components:132 - ‚úÖ Message broker initialized successfully
2025-06-04 12:19:42.121 | INFO     | core.message_broker:subscribe:234 - Subscribed to topic 'InternalMessageType.USER_QUERY'. Total subscribers: 1
2025-06-04 12:19:42.121 | INFO     | __main__:initialize_core_components:139 - ‚úÖ Subscribed to USER_QUERY topic
2025-06-04 12:19:42.121 | ERROR    | __main__:initialize_core_components:147 - ‚ùå Failed to initialize core components: MessageBroker.subscribe() missing 1 required positional argument: 'callback'
2025-06-04 12:19:42.122 | ERROR    | __main__:startup_checks:179 - Server startup aborted due to core component initialization failure
2025-06-04 12:20:13.812 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 12:20:13.813 | INFO     | __main__:startup_checks:161 - üîç Performing startup checks...
2025-06-04 12:20:13.816 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:20:13.819 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:20:13.821 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:20:13.822 | INFO     | __main__:validate_configuration:117 - ‚úÖ Configuration validation passed
2025-06-04 12:20:13.822 | INFO     | __main__:initialize_core_components:123 - üîß Initializing core components...
2025-06-04 12:20:13.823 | INFO     | core.message_broker:start:42 - Message broker started
2025-06-04 12:20:13.823 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.USER_QUERY
2025-06-04 12:20:13.823 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.QUERY_RESPONSE
2025-06-04 12:20:13.823 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.SYSTEM_STATUS
2025-06-04 12:20:13.823 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.AGENT_STATUS
2025-06-04 12:20:13.823 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.HEARTBEAT
2025-06-04 12:20:13.823 | INFO     | core.message_broker:start:48 - Message broker initialized with 5 topics
2025-06-04 12:20:13.824 | INFO     | __main__:initialize_core_components:127 - ‚úÖ Message broker initialized successfully
2025-06-04 12:20:13.824 | ERROR    | __main__:initialize_core_components:135 - ‚ùå Failed to initialize core components: MessageBroker.subscribe() missing 1 required positional argument: 'callback'
2025-06-04 12:20:13.824 | ERROR    | __main__:startup_checks:170 - Server startup aborted due to core component initialization failure
2025-06-04 12:23:04.643 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 12:23:04.644 | INFO     | __main__:startup_checks:161 - üîç Performing startup checks...
2025-06-04 12:23:04.646 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:23:04.648 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:23:04.650 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:23:04.651 | INFO     | __main__:validate_configuration:117 - ‚úÖ Configuration validation passed
2025-06-04 12:23:04.651 | INFO     | __main__:initialize_core_components:123 - üîß Initializing core components...
2025-06-04 12:23:04.651 | INFO     | core.message_broker:start:42 - Message broker started
2025-06-04 12:23:04.652 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.USER_QUERY
2025-06-04 12:23:04.652 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.QUERY_RESPONSE
2025-06-04 12:23:04.652 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.SYSTEM_STATUS
2025-06-04 12:23:04.652 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.AGENT_STATUS
2025-06-04 12:23:04.653 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.HEARTBEAT
2025-06-04 12:23:04.653 | INFO     | core.message_broker:start:48 - Message broker initialized with 5 topics
2025-06-04 12:23:04.654 | INFO     | __main__:initialize_core_components:127 - ‚úÖ Message broker initialized successfully
2025-06-04 12:23:04.654 | INFO     | core.query_handler:start:14 - Starting QueryHandler...
2025-06-04 12:23:04.655 | INFO     | core.message_broker:subscribe:234 - Subscribed to topic 'InternalMessageType.USER_QUERY'. Total subscribers: 1
2025-06-04 12:23:04.656 | INFO     | core.query_handler:start:19 - QueryHandler started and subscribed to USER_QUERY messages
2025-06-04 12:23:04.657 | INFO     | __main__:initialize_core_components:131 - ‚úÖ Query handler initialized successfully
2025-06-04 12:23:04.657 | INFO     | __main__:wait_for_agents:140 - ‚è≥ Waiting for A2A agents to be ready...
2025-06-04 12:23:04.662 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:23:04.664 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:23:04.664 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 12:23:04.666 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:23:04.669 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:23:04.669 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 12:23:04.672 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:23:04.675 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:23:04.676 | INFO     | __main__:check_agent_availability:39 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 12:23:04.676 | INFO     | __main__:wait_for_agents:150 - ‚úÖ Found 3 available agents
2025-06-04 12:23:04.676 | INFO     | __main__:startup_checks:176 - ‚úÖ All startup checks passed
2025-06-04 12:23:04.677 | INFO     | __main__:display_server_info:51 - ======================================================================
2025-06-04 12:23:04.677 | INFO     | __main__:display_server_info:52 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-04 12:23:04.677 | INFO     | __main__:display_server_info:53 - ======================================================================
2025-06-04 12:23:04.677 | INFO     | __main__:display_server_info:54 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-04 12:23:04.678 | INFO     | __main__:display_server_info:55 - üîå WebSocket Server: ws://127.0.0.1:5000/ws
2025-06-04 12:23:04.678 | INFO     | __main__:display_server_info:56 - üìä Environment: development
2025-06-04 12:23:04.678 | INFO     | __main__:display_server_info:57 - üîß Debug Mode: True
2025-06-04 12:23:04.679 | INFO     | __main__:display_server_info:58 - 
2025-06-04 12:23:04.681 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:23:04.683 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:23:04.683 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 12:23:04.686 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:23:04.689 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:23:04.690 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 12:23:04.693 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:23:04.695 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:23:04.696 | INFO     | __main__:check_agent_availability:39 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 12:23:04.696 | INFO     | __main__:display_server_info:64 - ü§ñ Available A2A Agents:
2025-06-04 12:23:04.696 | INFO     | __main__:display_server_info:66 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-04 12:23:04.697 | INFO     | __main__:display_server_info:66 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5513/a2a
2025-06-04 12:23:04.697 | INFO     | __main__:display_server_info:66 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-04 12:23:04.698 | INFO     | __main__:display_server_info:73 - 
2025-06-04 12:23:04.698 | INFO     | __main__:display_server_info:74 - üí° API Documentation available at:
2025-06-04 12:23:04.698 | INFO     | __main__:display_server_info:75 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-04 12:23:04.699 | INFO     | __main__:display_server_info:76 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-04 12:23:04.699 | INFO     | __main__:display_server_info:77 - ======================================================================
2025-06-04 12:23:04.699 | INFO     | __main__:configure_uvicorn:203 - üîß Development mode: Hot-reloading enabled
2025-06-04 12:23:04.700 | INFO     | __main__:main_async:221 - üöÄ Starting Multi-Agent System Server...
2025-06-04 12:23:04.700 | INFO     | __main__:main_async:222 - üì® Message broker and query handler are active and ready to process queries
2025-06-04 12:23:04.700 | INFO     | __main__:main_async:223 - Press Ctrl+C to stop the server
2025-06-04 12:23:04.742 | DEBUG    | core.message_broker:_ensure_topic_processing:149 - Started message processing task for topic 'InternalMessageType.USER_QUERY'
2025-06-04 12:23:04.743 | INFO     | server.agent_server:lifespan:28 - Agent Server starting up...
2025-06-04 12:23:04.743 | INFO     | server.orchestrator:initialize:35 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-04 12:23:04.743 | INFO     | server.orchestrator:initialize:41 - Found 3 agent configurations to process...
2025-06-04 12:23:04.744 | INFO     | server.orchestrator:initialize:44 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:23:04.744 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-04 12:23:04.744 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for weather_agent
2025-06-04 12:23:05.057 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 12:23:05.126 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for weather_agent at http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 12:23:05.126 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for weather_agent
2025-06-04 12:23:05.127 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for weather_agent
2025-06-04 12:23:05.127 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Weather Agent (weather_agent) at http://127.0.0.1:5211/a2a
2025-06-04 12:23:05.127 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for weather_agent
2025-06-04 12:23:05.128 | INFO     | server.orchestrator:initialize:44 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:23:05.128 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5513/a2a
2025-06-04 12:23:05.129 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for web_search_agent
2025-06-04 12:23:05.461 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 12:23:05.502 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for web_search_agent at http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 12:23:05.503 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for web_search_agent
2025-06-04 12:23:05.503 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for web_search_agent
2025-06-04 12:23:05.503 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Web Search Agent (web_search_agent) at http://127.0.0.1:5513/a2a
2025-06-04 12:23:05.504 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for web_search_agent
2025-06-04 12:23:05.504 | INFO     | server.orchestrator:initialize:44 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:23:05.504 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-04 12:23:05.504 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for news_agent
2025-06-04 12:23:05.830 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 12:23:05.869 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for news_agent at http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 12:23:05.869 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for news_agent
2025-06-04 12:23:05.869 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for news_agent
2025-06-04 12:23:05.870 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: News Agent (news_agent) at http://127.0.0.1:5313/a2a
2025-06-04 12:23:05.870 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for news_agent
2025-06-04 12:23:05.870 | INFO     | server.orchestrator:initialize:91 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-04 12:23:05.870 | INFO     | server.orchestrator:initialize:105 - Successfully initialized Perplexity LLM
2025-06-04 12:23:05.871 | INFO     | server.orchestrator:initialize:130 - Successfully created Orchestrator Agent with 3 tools
2025-06-04 12:23:05.871 | INFO     | server.orchestrator:initialize:142 - Successfully created Runner
2025-06-04 12:23:05.871 | INFO     | server.orchestrator:initialize:148 - OrchestratorAgent fully initialized and ready.
2025-06-04 12:23:05.872 | INFO     | server.agent_server:lifespan:31 - Orchestrator Agent initialized.
2025-06-04 12:23:05.873 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: weather_agent
2025-06-04 12:23:05.873 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: web_search_agent
2025-06-04 12:23:05.873 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: news_agent
2025-06-04 12:23:05.873 | INFO     | server.agent_server:lifespan:51 - Agent Server startup complete.
2025-06-04 12:23:05.874 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-04 12:23:05.874 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:05.933 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:05.996 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:06.058 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:06.119 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:06.181 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:06.244 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:06.306 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:06.369 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:06.430 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:06.492 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:06.554 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:06.616 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:06.678 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:06.740 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:06.802 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:06.860 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:06.923 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:06.986 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:07.048 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:07.110 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:07.172 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:07.235 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:07.296 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:07.358 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:07.420 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:07.482 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:07.545 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:07.607 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:07.668 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:07.731 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:07.793 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:07.855 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:07.918 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:07.980 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:08.042 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:08.106 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:08.168 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:08.229 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:08.292 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:08.358 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:08.416 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:08.478 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:08.539 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:08.601 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:08.663 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:08.727 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:08.789 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:08.850 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:08.907 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:08.968 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:09.030 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:09.097 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:09.161 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:09.223 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:09.286 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:09.347 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:09.410 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:09.472 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:09.535 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:09.595 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:09.658 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:09.716 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:09.778 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:09.841 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:09.903 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:09.966 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:10.027 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:10.090 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:10.152 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:10.214 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:10.277 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:10.340 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:10.400 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:10.461 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:10.523 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:10.585 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:10.646 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:10.708 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:10.771 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:10.833 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:10.896 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:10.960 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:11.023 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:11.085 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:11.148 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:11.212 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:11.273 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:11.335 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:11.397 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:11.459 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:11.522 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:11.585 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:11.646 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:11.708 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:11.771 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:11.832 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:11.894 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:11.955 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:12.016 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:12.079 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:12.142 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:12.202 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:12.264 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:12.325 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:12.389 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:12.451 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:12.514 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:12.578 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:12.642 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:12.705 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:12.767 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:12.831 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:12.891 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:12.953 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:13.015 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:13.076 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:13.139 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:13.201 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:13.263 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:13.325 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:13.387 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:13.449 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:13.511 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:13.574 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:13.637 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:13.698 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:13.760 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:13.824 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:13.879 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:13.942 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:14.005 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:14.067 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:14.128 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:14.190 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:14.250 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:14.314 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:14.377 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:14.440 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:23:14.457 | INFO     | server.agent_server:lifespan:53 - Agent Server shutting down...
2025-06-04 12:23:14.458 | INFO     | server.websocket_handler:disconnect_all:102 - Disconnecting all 0 connections...
2025-06-04 12:23:14.458 | INFO     | server.websocket_handler:_stop_main_heartbeat:218 - Main heartbeat loop stopped
2025-06-04 12:23:14.459 | INFO     | server.websocket_handler:disconnect_all:116 - All connections disconnected
2025-06-04 12:23:14.459 | INFO     | server.orchestrator:shutdown:347 - Shutting down OrchestratorAgent...
2025-06-04 12:23:14.459 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.AGENT_STATUS_UPDATE
2025-06-04 12:23:14.459 | WARNING  | core.message_broker:publish:114 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-04 12:23:14.460 | INFO     | server.agent_server:lifespan:60 - Agent Server shutdown complete.
2025-06-04 12:23:14.461 | INFO     | core.message_broker:stop:56 - Stopping message broker...
2025-06-04 12:23:14.462 | DEBUG    | core.message_broker:_process_topic_messages:179 - Message processor for topic 'InternalMessageType.USER_QUERY' stopped
2025-06-04 12:23:14.463 | INFO     | __main__:main:250 - üõë Shutdown signal received
2025-06-04 12:24:02.167 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 12:24:02.168 | INFO     | __main__:startup_checks:161 - üîç Performing startup checks...
2025-06-04 12:24:02.170 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:24:02.172 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:24:02.176 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:24:02.177 | INFO     | __main__:validate_configuration:117 - ‚úÖ Configuration validation passed
2025-06-04 12:24:02.178 | INFO     | __main__:initialize_core_components:123 - üîß Initializing core components...
2025-06-04 12:24:02.178 | INFO     | core.message_broker:start:42 - Message broker started
2025-06-04 12:24:02.179 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.USER_QUERY
2025-06-04 12:24:02.179 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.QUERY_RESPONSE
2025-06-04 12:24:02.179 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.SYSTEM_STATUS
2025-06-04 12:24:02.180 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.AGENT_STATUS
2025-06-04 12:24:02.180 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.HEARTBEAT
2025-06-04 12:24:02.180 | INFO     | core.message_broker:start:48 - Message broker initialized with 5 topics
2025-06-04 12:24:02.180 | INFO     | __main__:initialize_core_components:127 - ‚úÖ Message broker initialized successfully
2025-06-04 12:24:02.181 | INFO     | core.query_handler:start:14 - Starting QueryHandler...
2025-06-04 12:24:02.182 | INFO     | core.message_broker:subscribe:234 - Subscribed to topic 'InternalMessageType.USER_QUERY'. Total subscribers: 1
2025-06-04 12:24:02.182 | INFO     | core.query_handler:start:19 - QueryHandler started and subscribed to USER_QUERY messages
2025-06-04 12:24:02.182 | INFO     | __main__:initialize_core_components:131 - ‚úÖ Query handler initialized successfully
2025-06-04 12:24:02.183 | INFO     | __main__:wait_for_agents:140 - ‚è≥ Waiting for A2A agents to be ready...
2025-06-04 12:24:02.185 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:24:02.187 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:24:02.189 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 12:24:02.191 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:24:02.194 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:24:02.194 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 12:24:02.196 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:24:02.198 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:24:02.199 | INFO     | __main__:check_agent_availability:39 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 12:24:02.199 | INFO     | __main__:wait_for_agents:150 - ‚úÖ Found 3 available agents
2025-06-04 12:24:02.200 | INFO     | __main__:startup_checks:176 - ‚úÖ All startup checks passed
2025-06-04 12:24:02.200 | INFO     | __main__:display_server_info:51 - ======================================================================
2025-06-04 12:24:02.200 | INFO     | __main__:display_server_info:52 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-04 12:24:02.200 | INFO     | __main__:display_server_info:53 - ======================================================================
2025-06-04 12:24:02.201 | INFO     | __main__:display_server_info:54 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-04 12:24:02.201 | INFO     | __main__:display_server_info:55 - üîå WebSocket Server: ws://127.0.0.1:5000/ws
2025-06-04 12:24:02.201 | INFO     | __main__:display_server_info:56 - üìä Environment: development
2025-06-04 12:24:02.202 | INFO     | __main__:display_server_info:57 - üîß Debug Mode: True
2025-06-04 12:24:02.202 | INFO     | __main__:display_server_info:58 - 
2025-06-04 12:24:02.205 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:24:02.209 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:24:02.209 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 12:24:02.211 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:24:02.213 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:24:02.214 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 12:24:02.216 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:24:02.219 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:24:02.220 | INFO     | __main__:check_agent_availability:39 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 12:24:02.220 | INFO     | __main__:display_server_info:64 - ü§ñ Available A2A Agents:
2025-06-04 12:24:02.221 | INFO     | __main__:display_server_info:66 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-04 12:24:02.221 | INFO     | __main__:display_server_info:66 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5513/a2a
2025-06-04 12:24:02.222 | INFO     | __main__:display_server_info:66 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-04 12:24:02.222 | INFO     | __main__:display_server_info:73 - 
2025-06-04 12:24:02.223 | INFO     | __main__:display_server_info:74 - üí° API Documentation available at:
2025-06-04 12:24:02.223 | INFO     | __main__:display_server_info:75 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-04 12:24:02.224 | INFO     | __main__:display_server_info:76 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-04 12:24:02.224 | INFO     | __main__:display_server_info:77 - ======================================================================
2025-06-04 12:24:02.225 | INFO     | __main__:configure_uvicorn:203 - üîß Development mode: Hot-reloading enabled
2025-06-04 12:24:02.225 | INFO     | __main__:main_async:221 - üöÄ Starting Multi-Agent System Server...
2025-06-04 12:24:02.226 | INFO     | __main__:main_async:222 - üì® Message broker and query handler are active and ready to process queries
2025-06-04 12:24:02.226 | INFO     | __main__:main_async:223 - Press Ctrl+C to stop the server
2025-06-04 12:24:02.261 | DEBUG    | core.message_broker:_ensure_topic_processing:149 - Started message processing task for topic 'InternalMessageType.USER_QUERY'
2025-06-04 12:24:02.262 | INFO     | server.agent_server:lifespan:28 - Agent Server starting up...
2025-06-04 12:24:02.262 | INFO     | server.orchestrator:initialize:35 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-04 12:24:02.262 | INFO     | server.orchestrator:initialize:41 - Found 3 agent configurations to process...
2025-06-04 12:24:02.262 | INFO     | server.orchestrator:initialize:44 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:24:02.263 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-04 12:24:02.263 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for weather_agent
2025-06-04 12:24:02.591 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 12:24:02.606 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for weather_agent at http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 12:24:02.607 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for weather_agent
2025-06-04 12:24:02.607 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for weather_agent
2025-06-04 12:24:02.608 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Weather Agent (weather_agent) at http://127.0.0.1:5211/a2a
2025-06-04 12:24:02.609 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for weather_agent
2025-06-04 12:24:02.609 | INFO     | server.orchestrator:initialize:44 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:24:02.611 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5513/a2a
2025-06-04 12:24:02.613 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for web_search_agent
2025-06-04 12:24:02.935 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 12:24:02.943 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for web_search_agent at http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 12:24:02.943 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for web_search_agent
2025-06-04 12:24:02.944 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for web_search_agent
2025-06-04 12:24:02.944 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Web Search Agent (web_search_agent) at http://127.0.0.1:5513/a2a
2025-06-04 12:24:02.944 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for web_search_agent
2025-06-04 12:24:02.945 | INFO     | server.orchestrator:initialize:44 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:24:02.945 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-04 12:24:02.945 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for news_agent
2025-06-04 12:24:03.257 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 12:24:03.263 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for news_agent at http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 12:24:03.264 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for news_agent
2025-06-04 12:24:03.264 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for news_agent
2025-06-04 12:24:03.264 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: News Agent (news_agent) at http://127.0.0.1:5313/a2a
2025-06-04 12:24:03.265 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for news_agent
2025-06-04 12:24:03.265 | INFO     | server.orchestrator:initialize:91 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-04 12:24:03.265 | INFO     | server.orchestrator:initialize:105 - Successfully initialized Perplexity LLM
2025-06-04 12:24:03.265 | INFO     | server.orchestrator:initialize:130 - Successfully created Orchestrator Agent with 3 tools
2025-06-04 12:24:03.266 | INFO     | server.orchestrator:initialize:142 - Successfully created Runner
2025-06-04 12:24:03.266 | INFO     | server.orchestrator:initialize:148 - OrchestratorAgent fully initialized and ready.
2025-06-04 12:24:03.266 | INFO     | server.agent_server:lifespan:31 - Orchestrator Agent initialized.
2025-06-04 12:24:03.267 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: weather_agent
2025-06-04 12:24:03.267 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: web_search_agent
2025-06-04 12:24:03.267 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: news_agent
2025-06-04 12:24:03.267 | INFO     | server.agent_server:lifespan:51 - Agent Server startup complete.
2025-06-04 12:24:03.268 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-04 12:24:03.268 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:03.321 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:03.383 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:03.445 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:03.507 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:03.568 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:03.630 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:03.692 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:03.754 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:03.809 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:03.871 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:03.929 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:03.991 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:04.048 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:04.110 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:04.172 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:04.235 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:04.297 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:04.359 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:04.422 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:04.483 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:04.546 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:04.609 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:04.673 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:04.735 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:04.796 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:04.857 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:04.920 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:04.982 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:05.043 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:05.106 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:05.170 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:05.227 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:05.289 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:05.352 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:05.413 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:05.470 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:05.527 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:05.590 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:05.653 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:05.715 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:05.778 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:05.840 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:05.902 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:05.964 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:06.026 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:06.088 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:24:06.089 | INFO     | server.agent_server:lifespan:53 - Agent Server shutting down...
2025-06-04 12:24:06.090 | INFO     | server.websocket_handler:disconnect_all:75 - Disconnecting all 0 connections...
2025-06-04 12:24:06.090 | INFO     | server.websocket_handler:_stop_main_heartbeat:138 - Main heartbeat loop stopped
2025-06-04 12:24:06.091 | INFO     | server.websocket_handler:disconnect_all:89 - All connections disconnected
2025-06-04 12:24:06.091 | INFO     | server.orchestrator:shutdown:347 - Shutting down OrchestratorAgent...
2025-06-04 12:24:06.091 | DEBUG    | core.message_broker:_ensure_topic_exists:93 - Created topic: InternalMessageType.AGENT_STATUS_UPDATE
2025-06-04 12:24:06.091 | WARNING  | core.message_broker:publish:114 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-04 12:24:06.092 | INFO     | server.agent_server:lifespan:60 - Agent Server shutdown complete.
2025-06-04 12:24:06.093 | INFO     | core.message_broker:stop:56 - Stopping message broker...
2025-06-04 12:24:06.093 | DEBUG    | core.message_broker:_process_topic_messages:179 - Message processor for topic 'InternalMessageType.USER_QUERY' stopped
2025-06-04 12:24:06.094 | INFO     | __main__:main:250 - üõë Shutdown signal received
2025-06-04 12:30:28.034 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 12:30:28.035 | INFO     | __main__:startup_checks:161 - üîç Performing startup checks...
2025-06-04 12:30:28.037 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:30:28.039 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:30:28.042 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:30:28.043 | INFO     | __main__:validate_configuration:117 - ‚úÖ Configuration validation passed
2025-06-04 12:30:28.043 | INFO     | __main__:initialize_core_components:123 - üîß Initializing core components...
2025-06-04 12:30:28.044 | INFO     | core.message_broker:start:38 - Message broker started
2025-06-04 12:30:28.045 | DEBUG    | core.message_broker:_ensure_topic_exists:89 - Created topic: InternalMessageType.USER_QUERY
2025-06-04 12:30:28.045 | DEBUG    | core.message_broker:_ensure_topic_exists:89 - Created topic: InternalMessageType.QUERY_RESPONSE
2025-06-04 12:30:28.045 | DEBUG    | core.message_broker:_ensure_topic_exists:89 - Created topic: InternalMessageType.SYSTEM_STATUS
2025-06-04 12:30:28.045 | DEBUG    | core.message_broker:_ensure_topic_exists:89 - Created topic: InternalMessageType.AGENT_STATUS
2025-06-04 12:30:28.045 | DEBUG    | core.message_broker:_ensure_topic_exists:89 - Created topic: InternalMessageType.HEARTBEAT
2025-06-04 12:30:28.045 | INFO     | core.message_broker:start:44 - Message broker initialized with 5 topics
2025-06-04 12:30:28.046 | INFO     | __main__:initialize_core_components:127 - ‚úÖ Message broker initialized successfully
2025-06-04 12:30:28.046 | ERROR    | __main__:initialize_core_components:135 - ‚ùå Failed to initialize core components: MessageBroker.subscribe() missing 1 required positional argument: 'callback'
2025-06-04 12:30:28.046 | ERROR    | __main__:startup_checks:170 - Server startup aborted due to core component initialization failure
2025-06-04 12:33:08.633 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 12:33:08.633 | INFO     | __main__:startup_checks:161 - üîç Performing startup checks...
2025-06-04 12:33:08.635 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:33:08.637 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:33:08.640 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:33:08.640 | INFO     | __main__:validate_configuration:117 - ‚úÖ Configuration validation passed
2025-06-04 12:33:08.640 | INFO     | __main__:initialize_core_components:123 - üîß Initializing core components...
2025-06-04 12:33:08.641 | INFO     | core.message_broker:start:38 - Message broker started
2025-06-04 12:33:08.641 | DEBUG    | core.message_broker:_ensure_topic_exists:89 - Created topic: InternalMessageType.USER_QUERY
2025-06-04 12:33:08.641 | DEBUG    | core.message_broker:_ensure_topic_exists:89 - Created topic: InternalMessageType.QUERY_RESPONSE
2025-06-04 12:33:08.642 | DEBUG    | core.message_broker:_ensure_topic_exists:89 - Created topic: InternalMessageType.SYSTEM_STATUS
2025-06-04 12:33:08.642 | DEBUG    | core.message_broker:_ensure_topic_exists:89 - Created topic: InternalMessageType.AGENT_STATUS
2025-06-04 12:33:08.642 | DEBUG    | core.message_broker:_ensure_topic_exists:89 - Created topic: InternalMessageType.HEARTBEAT
2025-06-04 12:33:08.642 | INFO     | core.message_broker:start:44 - Message broker initialized with 5 topics
2025-06-04 12:33:08.642 | INFO     | __main__:initialize_core_components:127 - ‚úÖ Message broker initialized successfully
2025-06-04 12:33:08.643 | INFO     | core.message_broker:subscribe:230 - Subscribed to topic 'InternalMessageType.USER_QUERY'. Total subscribers: 1
2025-06-04 12:33:08.643 | INFO     | core.query_handler:start:22 - Query handler started and subscribed to USER_QUERY topic
2025-06-04 12:33:08.644 | INFO     | __main__:initialize_core_components:131 - ‚úÖ Query handler initialized successfully
2025-06-04 12:33:08.644 | INFO     | __main__:wait_for_agents:140 - ‚è≥ Waiting for A2A agents to be ready...
2025-06-04 12:33:08.647 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:33:08.649 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:33:08.650 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 12:33:08.652 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:33:08.654 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:33:08.655 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 12:33:08.658 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:33:08.661 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:33:08.661 | INFO     | __main__:check_agent_availability:39 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 12:33:08.661 | INFO     | __main__:wait_for_agents:150 - ‚úÖ Found 3 available agents
2025-06-04 12:33:08.662 | INFO     | __main__:startup_checks:176 - ‚úÖ All startup checks passed
2025-06-04 12:33:08.662 | INFO     | __main__:display_server_info:51 - ======================================================================
2025-06-04 12:33:08.662 | INFO     | __main__:display_server_info:52 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-04 12:33:08.663 | INFO     | __main__:display_server_info:53 - ======================================================================
2025-06-04 12:33:08.663 | INFO     | __main__:display_server_info:54 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-04 12:33:08.663 | INFO     | __main__:display_server_info:55 - üîå WebSocket Server: ws://127.0.0.1:5000/ws
2025-06-04 12:33:08.664 | INFO     | __main__:display_server_info:56 - üìä Environment: development
2025-06-04 12:33:08.664 | INFO     | __main__:display_server_info:57 - üîß Debug Mode: True
2025-06-04 12:33:08.664 | INFO     | __main__:display_server_info:58 - 
2025-06-04 12:33:08.666 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:33:08.669 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:33:08.669 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 12:33:08.671 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:33:08.673 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:33:08.673 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 12:33:08.676 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:33:08.679 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:33:08.679 | INFO     | __main__:check_agent_availability:39 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 12:33:08.680 | INFO     | __main__:display_server_info:64 - ü§ñ Available A2A Agents:
2025-06-04 12:33:08.680 | INFO     | __main__:display_server_info:66 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-04 12:33:08.680 | INFO     | __main__:display_server_info:66 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5513/a2a
2025-06-04 12:33:08.681 | INFO     | __main__:display_server_info:66 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-04 12:33:08.681 | INFO     | __main__:display_server_info:73 - 
2025-06-04 12:33:08.681 | INFO     | __main__:display_server_info:74 - üí° API Documentation available at:
2025-06-04 12:33:08.682 | INFO     | __main__:display_server_info:75 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-04 12:33:08.682 | INFO     | __main__:display_server_info:76 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-04 12:33:08.682 | INFO     | __main__:display_server_info:77 - ======================================================================
2025-06-04 12:33:08.682 | INFO     | __main__:configure_uvicorn:203 - üîß Development mode: Hot-reloading enabled
2025-06-04 12:33:08.683 | INFO     | __main__:main_async:221 - üöÄ Starting Multi-Agent System Server...
2025-06-04 12:33:08.683 | INFO     | __main__:main_async:222 - üì® Message broker and query handler are active and ready to process queries
2025-06-04 12:33:08.684 | INFO     | __main__:main_async:223 - Press Ctrl+C to stop the server
2025-06-04 12:33:08.721 | DEBUG    | core.message_broker:_ensure_topic_processing:145 - Started message processing task for topic 'InternalMessageType.USER_QUERY'
2025-06-04 12:33:08.722 | INFO     | server.agent_server:lifespan:28 - Agent Server starting up...
2025-06-04 12:33:08.722 | INFO     | server.orchestrator:initialize:35 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-04 12:33:08.723 | INFO     | server.orchestrator:initialize:41 - Found 3 agent configurations to process...
2025-06-04 12:33:08.723 | INFO     | server.orchestrator:initialize:44 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:33:08.723 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-04 12:33:08.723 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for weather_agent
2025-06-04 12:33:09.131 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 12:33:09.197 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for weather_agent at http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 12:33:09.198 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for weather_agent
2025-06-04 12:33:09.198 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for weather_agent
2025-06-04 12:33:09.199 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Weather Agent (weather_agent) at http://127.0.0.1:5211/a2a
2025-06-04 12:33:09.199 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for weather_agent
2025-06-04 12:33:09.200 | INFO     | server.orchestrator:initialize:44 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:33:09.201 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5513/a2a
2025-06-04 12:33:09.201 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for web_search_agent
2025-06-04 12:33:09.539 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 12:33:09.587 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for web_search_agent at http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 12:33:09.587 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for web_search_agent
2025-06-04 12:33:09.587 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for web_search_agent
2025-06-04 12:33:09.588 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Web Search Agent (web_search_agent) at http://127.0.0.1:5513/a2a
2025-06-04 12:33:09.588 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for web_search_agent
2025-06-04 12:33:09.588 | INFO     | server.orchestrator:initialize:44 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:33:09.588 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-04 12:33:09.588 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for news_agent
2025-06-04 12:33:09.902 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 12:33:09.946 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for news_agent at http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 12:33:09.947 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for news_agent
2025-06-04 12:33:09.948 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for news_agent
2025-06-04 12:33:09.949 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: News Agent (news_agent) at http://127.0.0.1:5313/a2a
2025-06-04 12:33:09.949 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for news_agent
2025-06-04 12:33:09.950 | INFO     | server.orchestrator:initialize:91 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-04 12:33:09.950 | INFO     | server.orchestrator:initialize:105 - Successfully initialized Perplexity LLM
2025-06-04 12:33:09.951 | INFO     | server.orchestrator:initialize:130 - Successfully created Orchestrator Agent with 3 tools
2025-06-04 12:33:09.951 | INFO     | server.orchestrator:initialize:142 - Successfully created Runner
2025-06-04 12:33:09.952 | INFO     | server.orchestrator:initialize:148 - OrchestratorAgent fully initialized and ready.
2025-06-04 12:33:09.952 | INFO     | server.agent_server:lifespan:31 - Orchestrator Agent initialized.
2025-06-04 12:33:09.953 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: weather_agent
2025-06-04 12:33:09.954 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: web_search_agent
2025-06-04 12:33:09.954 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: news_agent
2025-06-04 12:33:09.955 | INFO     | server.agent_server:lifespan:51 - Agent Server startup complete.
2025-06-04 12:33:09.955 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-04 12:33:09.956 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:10.012 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:10.075 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:10.136 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:10.197 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:10.260 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:10.322 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:10.384 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:10.445 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:10.507 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:10.569 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:10.630 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:10.694 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:10.756 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:10.818 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:10.880 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:10.943 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:11.003 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:11.064 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:11.127 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:11.180 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:11.243 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:11.299 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:11.361 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:11.423 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:11.488 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:11.549 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:11.611 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:11.673 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:11.736 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:11.798 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:11.860 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:11.921 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:11.982 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:12.044 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:12.106 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:12.199 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:12.286 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:12.349 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:12.411 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:12.473 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:12.535 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:12.597 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:12.659 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:12.720 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:12.783 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:12.845 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:12.908 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:12.971 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:13.034 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:13.096 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:13.158 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:13.221 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:13.283 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:13.346 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:13.410 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:13.470 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:13.533 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:13.589 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:13.651 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: 'MessageBroker' object has no attribute 'consume'
2025-06-04 12:33:13.653 | INFO     | server.agent_server:lifespan:53 - Agent Server shutting down...
2025-06-04 12:33:13.654 | INFO     | server.websocket_handler:disconnect_all:75 - Disconnecting all 0 connections...
2025-06-04 12:33:13.654 | INFO     | server.websocket_handler:_stop_main_heartbeat:138 - Main heartbeat loop stopped
2025-06-04 12:33:13.655 | INFO     | server.websocket_handler:disconnect_all:89 - All connections disconnected
2025-06-04 12:33:13.655 | INFO     | server.orchestrator:shutdown:347 - Shutting down OrchestratorAgent...
2025-06-04 12:33:13.656 | DEBUG    | core.message_broker:_ensure_topic_exists:89 - Created topic: InternalMessageType.AGENT_STATUS_UPDATE
2025-06-04 12:33:13.656 | WARNING  | core.message_broker:publish:110 - No active queue or subscribers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-04 12:33:13.656 | INFO     | server.agent_server:lifespan:60 - Agent Server shutdown complete.
2025-06-04 12:33:13.658 | INFO     | core.message_broker:stop:52 - Stopping message broker...
2025-06-04 12:33:13.660 | DEBUG    | core.message_broker:_process_topic_messages:175 - Message processor for topic 'InternalMessageType.USER_QUERY' stopped
2025-06-04 12:33:13.661 | INFO     | __main__:main:250 - üõë Shutdown signal received
2025-06-04 12:36:23.776 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 12:36:23.777 | INFO     | __main__:startup_checks:161 - üîç Performing startup checks...
2025-06-04 12:36:23.780 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:36:23.782 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:36:23.786 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:36:23.787 | INFO     | __main__:validate_configuration:117 - ‚úÖ Configuration validation passed
2025-06-04 12:36:23.787 | INFO     | __main__:initialize_core_components:123 - üîß Initializing core components...
2025-06-04 12:36:23.788 | INFO     | core.message_broker:start:42 - Message broker started
2025-06-04 12:36:23.788 | DEBUG    | core.message_broker:_ensure_topic_exists:103 - Created topic: InternalMessageType.USER_QUERY
2025-06-04 12:36:23.788 | DEBUG    | core.message_broker:_ensure_topic_exists:103 - Created topic: InternalMessageType.QUERY_RESPONSE
2025-06-04 12:36:23.788 | DEBUG    | core.message_broker:_ensure_topic_exists:103 - Created topic: InternalMessageType.SYSTEM_STATUS
2025-06-04 12:36:23.789 | DEBUG    | core.message_broker:_ensure_topic_exists:103 - Created topic: InternalMessageType.AGENT_STATUS
2025-06-04 12:36:23.789 | DEBUG    | core.message_broker:_ensure_topic_exists:103 - Created topic: InternalMessageType.HEARTBEAT
2025-06-04 12:36:23.789 | INFO     | core.message_broker:start:48 - Message broker initialized with 5 topics
2025-06-04 12:36:23.789 | INFO     | __main__:initialize_core_components:127 - ‚úÖ Message broker initialized successfully
2025-06-04 12:36:23.790 | INFO     | core.message_broker:subscribe:348 - Subscribed to topic 'InternalMessageType.USER_QUERY'. Total subscribers: 1
2025-06-04 12:36:23.791 | INFO     | core.query_handler:start:22 - Query handler started and subscribed to USER_QUERY topic
2025-06-04 12:36:23.792 | INFO     | __main__:initialize_core_components:131 - ‚úÖ Query handler initialized successfully
2025-06-04 12:36:23.794 | INFO     | __main__:wait_for_agents:140 - ‚è≥ Waiting for A2A agents to be ready...
2025-06-04 12:36:23.797 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:36:23.799 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:36:23.800 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 12:36:23.802 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:36:23.804 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:36:23.805 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 12:36:23.808 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:36:23.810 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:36:23.810 | INFO     | __main__:check_agent_availability:39 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 12:36:23.810 | INFO     | __main__:wait_for_agents:150 - ‚úÖ Found 3 available agents
2025-06-04 12:36:23.811 | INFO     | __main__:startup_checks:176 - ‚úÖ All startup checks passed
2025-06-04 12:36:23.811 | INFO     | __main__:display_server_info:51 - ======================================================================
2025-06-04 12:36:23.811 | INFO     | __main__:display_server_info:52 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-04 12:36:23.812 | INFO     | __main__:display_server_info:53 - ======================================================================
2025-06-04 12:36:23.812 | INFO     | __main__:display_server_info:54 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-04 12:36:23.813 | INFO     | __main__:display_server_info:55 - üîå WebSocket Server: ws://127.0.0.1:5000/ws
2025-06-04 12:36:23.813 | INFO     | __main__:display_server_info:56 - üìä Environment: development
2025-06-04 12:36:23.813 | INFO     | __main__:display_server_info:57 - üîß Debug Mode: True
2025-06-04 12:36:23.814 | INFO     | __main__:display_server_info:58 - 
2025-06-04 12:36:23.816 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:36:23.818 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:36:23.818 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 12:36:23.820 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:36:23.822 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:36:23.823 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 12:36:23.825 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:36:23.827 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:36:23.828 | INFO     | __main__:check_agent_availability:39 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 12:36:23.828 | INFO     | __main__:display_server_info:64 - ü§ñ Available A2A Agents:
2025-06-04 12:36:23.829 | INFO     | __main__:display_server_info:66 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-04 12:36:23.829 | INFO     | __main__:display_server_info:66 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5513/a2a
2025-06-04 12:36:23.829 | INFO     | __main__:display_server_info:66 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-04 12:36:23.830 | INFO     | __main__:display_server_info:73 - 
2025-06-04 12:36:23.830 | INFO     | __main__:display_server_info:74 - üí° API Documentation available at:
2025-06-04 12:36:23.830 | INFO     | __main__:display_server_info:75 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-04 12:36:23.831 | INFO     | __main__:display_server_info:76 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-04 12:36:23.831 | INFO     | __main__:display_server_info:77 - ======================================================================
2025-06-04 12:36:23.831 | INFO     | __main__:configure_uvicorn:203 - üîß Development mode: Hot-reloading enabled
2025-06-04 12:36:23.832 | INFO     | __main__:main_async:221 - üöÄ Starting Multi-Agent System Server...
2025-06-04 12:36:23.832 | INFO     | __main__:main_async:222 - üì® Message broker and query handler are active and ready to process queries
2025-06-04 12:36:23.832 | INFO     | __main__:main_async:223 - Press Ctrl+C to stop the server
2025-06-04 12:36:23.866 | DEBUG    | core.message_broker:_ensure_topic_processing:250 - Started message processing task for topic 'InternalMessageType.USER_QUERY'
2025-06-04 12:36:23.867 | INFO     | server.agent_server:lifespan:28 - Agent Server starting up...
2025-06-04 12:36:23.867 | INFO     | server.orchestrator:initialize:35 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-04 12:36:23.867 | INFO     | server.orchestrator:initialize:41 - Found 3 agent configurations to process...
2025-06-04 12:36:23.867 | INFO     | server.orchestrator:initialize:44 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:36:23.868 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-04 12:36:23.868 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for weather_agent
2025-06-04 12:36:24.224 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 12:36:24.270 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for weather_agent at http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 12:36:24.271 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for weather_agent
2025-06-04 12:36:24.271 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for weather_agent
2025-06-04 12:36:24.271 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Weather Agent (weather_agent) at http://127.0.0.1:5211/a2a
2025-06-04 12:36:24.272 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for weather_agent
2025-06-04 12:36:24.273 | INFO     | server.orchestrator:initialize:44 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:36:24.274 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5513/a2a
2025-06-04 12:36:24.274 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for web_search_agent
2025-06-04 12:36:24.584 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 12:36:24.627 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for web_search_agent at http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 12:36:24.627 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for web_search_agent
2025-06-04 12:36:24.628 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for web_search_agent
2025-06-04 12:36:24.628 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Web Search Agent (web_search_agent) at http://127.0.0.1:5513/a2a
2025-06-04 12:36:24.628 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for web_search_agent
2025-06-04 12:36:24.628 | INFO     | server.orchestrator:initialize:44 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:36:24.629 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-04 12:36:24.629 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for news_agent
2025-06-04 12:36:24.971 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 12:36:25.013 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for news_agent at http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 12:36:25.014 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for news_agent
2025-06-04 12:36:25.014 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for news_agent
2025-06-04 12:36:25.014 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: News Agent (news_agent) at http://127.0.0.1:5313/a2a
2025-06-04 12:36:25.014 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for news_agent
2025-06-04 12:36:25.015 | INFO     | server.orchestrator:initialize:91 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-04 12:36:25.015 | INFO     | server.orchestrator:initialize:105 - Successfully initialized Perplexity LLM
2025-06-04 12:36:25.016 | INFO     | server.orchestrator:initialize:130 - Successfully created Orchestrator Agent with 3 tools
2025-06-04 12:36:25.016 | INFO     | server.orchestrator:initialize:142 - Successfully created Runner
2025-06-04 12:36:25.016 | INFO     | server.orchestrator:initialize:148 - OrchestratorAgent fully initialized and ready.
2025-06-04 12:36:25.017 | INFO     | server.agent_server:lifespan:31 - Orchestrator Agent initialized.
2025-06-04 12:36:25.017 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: weather_agent
2025-06-04 12:36:25.017 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: web_search_agent
2025-06-04 12:36:25.018 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: news_agent
2025-06-04 12:36:25.018 | INFO     | server.agent_server:lifespan:51 - Agent Server startup complete.
2025-06-04 12:36:25.019 | INFO     | server.api_gateway:_websocket_response_listener:56 - WebSocket response listener started.
2025-06-04 12:36:25.019 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:25.079 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:25.140 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:25.201 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:25.264 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:25.326 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:25.387 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:25.450 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:25.513 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:25.575 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:25.637 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:25.692 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:25.756 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:25.816 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:25.878 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:25.939 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:26.001 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:26.064 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:26.125 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:26.186 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:26.247 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:26.309 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:26.372 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:26.434 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:26.496 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:26.558 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:26.620 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:26.682 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:26.745 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:26.808 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:26.870 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:26.944 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:27.014 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:27.076 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:27.138 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:27.199 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:27.261 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:27.324 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:27.384 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:27.447 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:27.509 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:27.571 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:27.633 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:27.694 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:27.756 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:27.818 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:27.880 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:27.942 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:28.004 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:28.066 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:28.130 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:28.192 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:28.254 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:28.316 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:28.378 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:28.439 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:28.502 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:28.563 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:28.626 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:28.690 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:28.746 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:28.807 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:28.869 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:28.932 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:28.993 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:29.056 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:29.117 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:29.179 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:29.243 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:29.306 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:29.366 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:29.428 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:29.490 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:29.548 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:29.610 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:29.672 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:29.735 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:29.798 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:29.859 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:29.922 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:29.985 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:30.047 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:30.109 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:30.172 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:30.234 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:30.297 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:30.358 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:30.420 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:30.482 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:30.544 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:30.605 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:30.666 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:30.730 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:30.792 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:30.853 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:30.915 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:30.977 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:31.039 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:31.100 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:31.161 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:31.222 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:31.285 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:31.347 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:31.409 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:31.471 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:31.532 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:31.592 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:31.655 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:31.717 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:31.780 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:31.843 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:31.905 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:31.960 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:32.022 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:32.085 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:32.147 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:32.209 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:32.272 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:32.334 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:32.396 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:32.459 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:32.520 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:32.576 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:32.639 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:32.700 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:32.763 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:32.821 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:32.883 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:32.946 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:33.008 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:33.069 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:33.130 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:33.192 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:33.254 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:33.315 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:33.377 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:33.439 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:33.501 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:33.563 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:33.625 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:33.687 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:33.750 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:33.813 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:33.874 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:33.936 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:33.999 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:34.061 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:34.124 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:34.188 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:34.250 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:34.313 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:34.375 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:34.436 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:34.498 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:34.560 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:34.622 | ERROR    | server.api_gateway:_websocket_response_listener:78 - Error in WebSocket response listener: object async_generator can't be used in 'await' expression
2025-06-04 12:36:34.669 | INFO     | server.agent_server:lifespan:53 - Agent Server shutting down...
2025-06-04 12:36:34.670 | INFO     | server.websocket_handler:disconnect_all:75 - Disconnecting all 0 connections...
2025-06-04 12:36:34.670 | INFO     | server.websocket_handler:_stop_main_heartbeat:138 - Main heartbeat loop stopped
2025-06-04 12:36:34.670 | INFO     | server.websocket_handler:disconnect_all:89 - All connections disconnected
2025-06-04 12:36:34.670 | INFO     | server.orchestrator:shutdown:347 - Shutting down OrchestratorAgent...
2025-06-04 12:36:34.671 | DEBUG    | core.message_broker:_ensure_topic_exists:103 - Created topic: InternalMessageType.AGENT_STATUS_UPDATE
2025-06-04 12:36:34.671 | WARNING  | core.message_broker:publish:127 - No active subscribers or consumers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-04 12:36:34.671 | INFO     | server.agent_server:lifespan:60 - Agent Server shutdown complete.
2025-06-04 12:36:34.672 | INFO     | core.message_broker:stop:56 - Stopping message broker...
2025-06-04 12:36:34.672 | DEBUG    | core.message_broker:_process_topic_messages:293 - Message processor for topic 'InternalMessageType.USER_QUERY' stopped
2025-06-04 12:36:34.673 | INFO     | __main__:main:250 - üõë Shutdown signal received
2025-06-04 12:39:34.608 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 12:39:34.608 | INFO     | __main__:startup_checks:161 - üîç Performing startup checks...
2025-06-04 12:39:34.610 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:39:34.613 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:39:34.616 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:39:34.616 | INFO     | __main__:validate_configuration:117 - ‚úÖ Configuration validation passed
2025-06-04 12:39:34.617 | INFO     | __main__:initialize_core_components:123 - üîß Initializing core components...
2025-06-04 12:39:34.619 | INFO     | core.message_broker:start:42 - Message broker started
2025-06-04 12:39:34.619 | DEBUG    | core.message_broker:_ensure_topic_exists:103 - Created topic: InternalMessageType.USER_QUERY
2025-06-04 12:39:34.619 | DEBUG    | core.message_broker:_ensure_topic_exists:103 - Created topic: InternalMessageType.QUERY_RESPONSE
2025-06-04 12:39:34.619 | DEBUG    | core.message_broker:_ensure_topic_exists:103 - Created topic: InternalMessageType.SYSTEM_STATUS
2025-06-04 12:39:34.619 | DEBUG    | core.message_broker:_ensure_topic_exists:103 - Created topic: InternalMessageType.AGENT_STATUS
2025-06-04 12:39:34.619 | DEBUG    | core.message_broker:_ensure_topic_exists:103 - Created topic: InternalMessageType.HEARTBEAT
2025-06-04 12:39:34.620 | INFO     | core.message_broker:start:48 - Message broker initialized with 5 topics
2025-06-04 12:39:34.620 | INFO     | __main__:initialize_core_components:127 - ‚úÖ Message broker initialized successfully
2025-06-04 12:39:34.620 | INFO     | core.message_broker:subscribe:348 - Subscribed to topic 'InternalMessageType.USER_QUERY'. Total subscribers: 1
2025-06-04 12:39:34.621 | INFO     | core.query_handler:start:22 - Query handler started and subscribed to USER_QUERY topic
2025-06-04 12:39:34.621 | INFO     | __main__:initialize_core_components:131 - ‚úÖ Query handler initialized successfully
2025-06-04 12:39:34.621 | INFO     | __main__:wait_for_agents:140 - ‚è≥ Waiting for A2A agents to be ready...
2025-06-04 12:39:34.624 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:39:34.626 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:39:34.627 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 12:39:34.629 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:39:34.631 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:39:34.632 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 12:39:34.635 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:39:34.637 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:39:34.638 | INFO     | __main__:check_agent_availability:39 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 12:39:34.638 | INFO     | __main__:wait_for_agents:150 - ‚úÖ Found 3 available agents
2025-06-04 12:39:34.638 | INFO     | __main__:startup_checks:176 - ‚úÖ All startup checks passed
2025-06-04 12:39:34.639 | INFO     | __main__:display_server_info:51 - ======================================================================
2025-06-04 12:39:34.639 | INFO     | __main__:display_server_info:52 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-04 12:39:34.639 | INFO     | __main__:display_server_info:53 - ======================================================================
2025-06-04 12:39:34.640 | INFO     | __main__:display_server_info:54 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-04 12:39:34.640 | INFO     | __main__:display_server_info:55 - üîå WebSocket Server: ws://127.0.0.1:5000/ws
2025-06-04 12:39:34.640 | INFO     | __main__:display_server_info:56 - üìä Environment: development
2025-06-04 12:39:34.640 | INFO     | __main__:display_server_info:57 - üîß Debug Mode: True
2025-06-04 12:39:34.641 | INFO     | __main__:display_server_info:58 - 
2025-06-04 12:39:34.642 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:39:34.645 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:39:34.645 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 12:39:34.647 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:39:34.649 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:39:34.650 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 12:39:34.653 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:39:34.655 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:39:34.655 | INFO     | __main__:check_agent_availability:39 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 12:39:34.656 | INFO     | __main__:display_server_info:64 - ü§ñ Available A2A Agents:
2025-06-04 12:39:34.656 | INFO     | __main__:display_server_info:66 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-04 12:39:34.656 | INFO     | __main__:display_server_info:66 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5513/a2a
2025-06-04 12:39:34.656 | INFO     | __main__:display_server_info:66 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-04 12:39:34.657 | INFO     | __main__:display_server_info:73 - 
2025-06-04 12:39:34.657 | INFO     | __main__:display_server_info:74 - üí° API Documentation available at:
2025-06-04 12:39:34.657 | INFO     | __main__:display_server_info:75 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-04 12:39:34.657 | INFO     | __main__:display_server_info:76 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-04 12:39:34.658 | INFO     | __main__:display_server_info:77 - ======================================================================
2025-06-04 12:39:34.658 | INFO     | __main__:configure_uvicorn:203 - üîß Development mode: Hot-reloading enabled
2025-06-04 12:39:34.658 | INFO     | __main__:main_async:221 - üöÄ Starting Multi-Agent System Server...
2025-06-04 12:39:34.658 | INFO     | __main__:main_async:222 - üì® Message broker and query handler are active and ready to process queries
2025-06-04 12:39:34.659 | INFO     | __main__:main_async:223 - Press Ctrl+C to stop the server
2025-06-04 12:39:34.695 | DEBUG    | core.message_broker:_ensure_topic_processing:250 - Started message processing task for topic 'InternalMessageType.USER_QUERY'
2025-06-04 12:39:34.696 | INFO     | server.agent_server:lifespan:28 - Agent Server starting up...
2025-06-04 12:39:34.696 | INFO     | server.orchestrator:initialize:35 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-04 12:39:34.696 | INFO     | server.orchestrator:initialize:41 - Found 3 agent configurations to process...
2025-06-04 12:39:34.697 | INFO     | server.orchestrator:initialize:44 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:39:34.697 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-04 12:39:34.697 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for weather_agent
2025-06-04 12:39:35.037 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 12:39:35.084 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for weather_agent at http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 12:39:35.084 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for weather_agent
2025-06-04 12:39:35.085 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for weather_agent
2025-06-04 12:39:35.085 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Weather Agent (weather_agent) at http://127.0.0.1:5211/a2a
2025-06-04 12:39:35.086 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for weather_agent
2025-06-04 12:39:35.086 | INFO     | server.orchestrator:initialize:44 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:39:35.088 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5513/a2a
2025-06-04 12:39:35.089 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for web_search_agent
2025-06-04 12:39:35.402 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 12:39:35.443 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for web_search_agent at http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 12:39:35.444 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for web_search_agent
2025-06-04 12:39:35.444 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for web_search_agent
2025-06-04 12:39:35.445 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Web Search Agent (web_search_agent) at http://127.0.0.1:5513/a2a
2025-06-04 12:39:35.445 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for web_search_agent
2025-06-04 12:39:35.445 | INFO     | server.orchestrator:initialize:44 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:39:35.445 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-04 12:39:35.446 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for news_agent
2025-06-04 12:39:35.781 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 12:39:35.823 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for news_agent at http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 12:39:35.823 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for news_agent
2025-06-04 12:39:35.824 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for news_agent
2025-06-04 12:39:35.824 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: News Agent (news_agent) at http://127.0.0.1:5313/a2a
2025-06-04 12:39:35.825 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for news_agent
2025-06-04 12:39:35.825 | INFO     | server.orchestrator:initialize:91 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-04 12:39:35.825 | INFO     | server.orchestrator:initialize:105 - Successfully initialized Perplexity LLM
2025-06-04 12:39:35.826 | INFO     | server.orchestrator:initialize:130 - Successfully created Orchestrator Agent with 3 tools
2025-06-04 12:39:35.826 | INFO     | server.orchestrator:initialize:142 - Successfully created Runner
2025-06-04 12:39:35.827 | INFO     | server.orchestrator:initialize:148 - OrchestratorAgent fully initialized and ready.
2025-06-04 12:39:35.827 | INFO     | server.agent_server:lifespan:31 - Orchestrator Agent initialized.
2025-06-04 12:39:35.827 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: weather_agent
2025-06-04 12:39:35.827 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: web_search_agent
2025-06-04 12:39:35.828 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: news_agent
2025-06-04 12:39:35.828 | INFO     | server.agent_server:lifespan:51 - Agent Server startup complete.
2025-06-04 12:39:35.828 | INFO     | server.api_gateway:start_websocket_listener:163 - Starting WebSocket response listener task
2025-06-04 12:39:35.829 | INFO     | server.api_gateway:_websocket_response_listener:65 - WebSocket response listener started.
2025-06-04 12:39:35.829 | DEBUG    | core.message_broker:_ensure_topic_exists:103 - Created topic: InternalMessageType.ORCHESTRATOR_RESPONSE
2025-06-04 12:39:35.829 | INFO     | core.message_broker:consume:168 - Started consuming messages from topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'
2025-06-04 12:39:58.654 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 12:39:58.656 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-04 12:39:58.656 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-04 12:39:58.656 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-04 12:39:58.656 | INFO     | client.connection_manager:connect:34 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-04 12:39:58.710 | INFO     | server.websocket_handler:_start_main_heartbeat:131 - Main heartbeat loop started
2025-06-04 12:39:58.711 | INFO     | server.websocket_handler:connect:36 - WebSocket connected. User ID: 8ef4338e-5840-428d-a457-b4819133d6e6. Total connections: 1
2025-06-04 12:39:58.711 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: 8ef4338e-5840-428d-a457-b4819133d6e6
2025-06-04 12:39:58.713 | INFO     | client.connection_manager:connect:53 - WebSocket connected successfully
2025-06-04 12:39:58.714 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user 8ef4338e-5840-428d-a457-b4819133d6e6
2025-06-04 12:39:58.714 | DEBUG    | server.websocket_handler:_heartbeat_loop:198 - Heartbeat sent to 1 connections
2025-06-04 12:39:58.715 | DEBUG    | client.connection_manager:_handle_message:190 - Received message type: ping
2025-06-04 12:39:58.715 | DEBUG    | client.connection_manager:_handle_message:209 - No handler for message type: ping
2025-06-04 12:40:03.727 | ERROR    | client.connection_manager:connect:75 - Timeout waiting for connection established message
2025-06-04 12:40:03.734 | INFO     | client.connection_manager:disconnect:116 - WebSocket disconnected
2025-06-04 12:40:03.734 | ERROR    | client.agent_client:connect:65 - Failed to connect to server
2025-06-04 12:40:03.735 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: 8ef4338e-5840-428d-a457-b4819133d6e6
2025-06-04 12:40:03.735 | ERROR    | __main__:main:35 - Failed to connect to the Multi-Agent System
2025-06-04 12:40:03.735 | INFO     | server.websocket_handler:disconnect:50 - WebSocket disconnected. User ID: 8ef4338e-5840-428d-a457-b4819133d6e6. Remaining connections: 0
2025-06-04 12:40:03.736 | INFO     | __main__:main:49 - Cleaning up...
2025-06-04 12:40:03.736 | INFO     | server.websocket_handler:_stop_main_heartbeat:138 - Main heartbeat loop stopped
2025-06-04 12:40:03.736 | INFO     | client.connection_manager:disconnect:116 - WebSocket disconnected
2025-06-04 12:40:03.737 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-04 12:40:03.738 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:189 - Heartbeat task cancelled for user 8ef4338e-5840-428d-a457-b4819133d6e6
2025-06-04 12:40:03.738 | INFO     | server.websocket_handler:_heartbeat_loop:203 - Heartbeat loop cancelled
2025-06-04 12:43:30.979 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 12:43:30.982 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-04 12:43:30.983 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-04 12:43:30.983 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-04 12:43:30.984 | INFO     | client.connection_manager:connect:37 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-04 12:43:31.102 | INFO     | server.websocket_handler:_start_main_heartbeat:131 - Main heartbeat loop started
2025-06-04 12:43:31.104 | INFO     | server.websocket_handler:connect:36 - WebSocket connected. User ID: 8c1c7756-5aec-4397-90d1-6a97da31c526. Total connections: 1
2025-06-04 12:43:31.104 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: 8c1c7756-5aec-4397-90d1-6a97da31c526
2025-06-04 12:43:31.112 | INFO     | client.connection_manager:connect:55 - WebSocket connected successfully
2025-06-04 12:43:31.113 | ERROR    | client.connection_manager:_receive_loop:198 - Receive loop error: 'ClientConnection' object has no attribute 'closed'
2025-06-04 12:43:31.114 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user 8c1c7756-5aec-4397-90d1-6a97da31c526
2025-06-04 12:43:31.115 | DEBUG    | server.websocket_handler:_heartbeat_loop:198 - Heartbeat sent to 1 connections
2025-06-04 12:43:36.637 | WARNING  | client.connection_manager:connect:84 - Timeout waiting for connection established message
2025-06-04 12:43:36.638 | ERROR    | client.connection_manager:connect:101 - Connection failed: 'ClientConnection' object has no attribute 'closed'
2025-06-04 12:43:36.639 | ERROR    | client.agent_client:connect:65 - Failed to connect to server
2025-06-04 12:43:36.639 | ERROR    | __main__:main:35 - Failed to connect to the Multi-Agent System
2025-06-04 12:43:36.639 | INFO     | __main__:main:49 - Cleaning up...
2025-06-04 12:43:36.643 | INFO     | client.connection_manager:disconnect:135 - WebSocket disconnected
2025-06-04 12:43:36.644 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-04 12:43:36.645 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: 8c1c7756-5aec-4397-90d1-6a97da31c526
2025-06-04 12:43:36.647 | INFO     | server.websocket_handler:disconnect:50 - WebSocket disconnected. User ID: 8c1c7756-5aec-4397-90d1-6a97da31c526. Remaining connections: 0
2025-06-04 12:43:36.647 | INFO     | server.websocket_handler:_stop_main_heartbeat:138 - Main heartbeat loop stopped
2025-06-04 12:43:36.648 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:189 - Heartbeat task cancelled for user 8c1c7756-5aec-4397-90d1-6a97da31c526
2025-06-04 12:43:36.648 | INFO     | server.websocket_handler:_heartbeat_loop:203 - Heartbeat loop cancelled
2025-06-04 12:45:14.576 | INFO     | server.websocket_handler:_start_main_heartbeat:131 - Main heartbeat loop started
2025-06-04 12:45:14.577 | INFO     | server.websocket_handler:connect:36 - WebSocket connected. User ID: bbfe0956-ae0d-45cb-abf9-839b9c8970e1. Total connections: 1
2025-06-04 12:45:14.578 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: bbfe0956-ae0d-45cb-abf9-839b9c8970e1
2025-06-04 12:45:14.581 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user bbfe0956-ae0d-45cb-abf9-839b9c8970e1
2025-06-04 12:45:14.581 | DEBUG    | server.websocket_handler:_heartbeat_loop:198 - Heartbeat sent to 1 connections
2025-06-04 12:45:23.657 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Hello, this is a test query", "query_id": "test-123"}
2025-06-04 12:45:23.694 | DEBUG    | core.message_broker:_ensure_topic_exists:103 - Created topic: InternalMessageType.USER_QUERY
2025-06-04 12:45:23.697 | WARNING  | core.message_broker:publish:127 - No active subscribers or consumers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 12:45:26.729 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: bbfe0956-ae0d-45cb-abf9-839b9c8970e1
2025-06-04 12:45:26.729 | INFO     | server.websocket_handler:disconnect:50 - WebSocket disconnected. User ID: bbfe0956-ae0d-45cb-abf9-839b9c8970e1. Remaining connections: 0
2025-06-04 12:45:26.731 | INFO     | server.websocket_handler:_stop_main_heartbeat:138 - Main heartbeat loop stopped
2025-06-04 12:45:26.732 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:189 - Heartbeat task cancelled for user bbfe0956-ae0d-45cb-abf9-839b9c8970e1
2025-06-04 12:45:26.733 | INFO     | server.websocket_handler:_heartbeat_loop:203 - Heartbeat loop cancelled
2025-06-04 12:45:26.765 | INFO     | server.websocket_handler:_start_main_heartbeat:131 - Main heartbeat loop started
2025-06-04 12:45:26.766 | INFO     | server.websocket_handler:connect:36 - WebSocket connected. User ID: 36297d77-c20a-4b3d-810c-f2fec99ca943. Total connections: 1
2025-06-04 12:45:26.767 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: 36297d77-c20a-4b3d-810c-f2fec99ca943
2025-06-04 12:45:26.769 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user 36297d77-c20a-4b3d-810c-f2fec99ca943
2025-06-04 12:45:26.769 | DEBUG    | server.websocket_handler:_heartbeat_loop:198 - Heartbeat sent to 1 connections
2025-06-04 12:45:32.302 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Test query from connection manager", "query_id": "test-456"}
2025-06-04 12:45:32.305 | WARNING  | core.message_broker:publish:127 - No active subscribers or consumers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 12:45:35.318 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: 36297d77-c20a-4b3d-810c-f2fec99ca943
2025-06-04 12:45:35.320 | INFO     | server.websocket_handler:disconnect:50 - WebSocket disconnected. User ID: 36297d77-c20a-4b3d-810c-f2fec99ca943. Remaining connections: 0
2025-06-04 12:45:35.321 | INFO     | server.websocket_handler:_stop_main_heartbeat:138 - Main heartbeat loop stopped
2025-06-04 12:45:35.323 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:189 - Heartbeat task cancelled for user 36297d77-c20a-4b3d-810c-f2fec99ca943
2025-06-04 12:45:35.323 | INFO     | server.websocket_handler:_heartbeat_loop:203 - Heartbeat loop cancelled
2025-06-04 12:47:57.763 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 12:47:57.766 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-04 12:47:57.766 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-04 12:47:57.767 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-04 12:47:57.767 | INFO     | client.connection_manager:connect:37 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-04 12:47:57.843 | INFO     | server.websocket_handler:_start_main_heartbeat:131 - Main heartbeat loop started
2025-06-04 12:47:57.843 | INFO     | server.websocket_handler:connect:36 - WebSocket connected. User ID: 35568157-73ae-4a58-b844-4e215acc60cb. Total connections: 1
2025-06-04 12:47:57.844 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: 35568157-73ae-4a58-b844-4e215acc60cb
2025-06-04 12:47:57.846 | INFO     | client.connection_manager:connect:55 - WebSocket connected successfully
2025-06-04 12:47:58.011 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user 35568157-73ae-4a58-b844-4e215acc60cb
2025-06-04 12:47:58.011 | DEBUG    | server.websocket_handler:_heartbeat_loop:198 - Heartbeat sent to 1 connections
2025-06-04 12:47:58.012 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: ping
2025-06-04 12:47:58.012 | DEBUG    | client.connection_manager:_handle_message:252 - No handler for message type: ping
2025-06-04 12:48:03.357 | WARNING  | client.connection_manager:connect:84 - Timeout waiting for connection established message
2025-06-04 12:48:03.359 | INFO     | client.connection_manager:connect:87 - WebSocket is still open, proceeding without connection_established message
2025-06-04 12:48:03.359 | INFO     | client.agent_client:connect:62 - Client connected successfully. User ID: None
2025-06-04 12:48:03.360 | INFO     | __main__:main:38 - Successfully connected to Multi-Agent System
2025-06-04 12:48:03.361 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 12:48:03.362 | DEBUG    | client.connection_manager:send_text:160 - Sent text: status
2025-06-04 12:48:03.362 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 12:48:03.368 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: status_response
2025-06-04 12:48:03.369 | DEBUG    | client.connection_manager:_handle_message:252 - No handler for message type: status_response
2025-06-04 12:48:05.379 | INFO     | client.agent_client:send_query:89 - Sending query: What is the weather like today?
2025-06-04 12:48:05.382 | DEBUG    | client.connection_manager:send_json:145 - Sent message: {'type': 'query', 'query': 'What is the weather like today?', 'query_id': '5cb5697e-56b3-476f-8438-e601e9a68111', 'timestamp': 339236.5682976}
2025-06-04 12:48:05.383 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "What is the weather like today?", "query_id": "5cb5697e-56b3-476f-8438-e601e9a68111", "timestamp": 339236.5682976}
2025-06-04 12:48:05.387 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_received
2025-06-04 12:48:05.386 | WARNING  | core.message_broker:publish:127 - No active subscribers or consumers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 12:48:05.387 | INFO     | client.agent_client:_handle_query_received:132 - Query 5cb5697e-56b3-476f-8438-e601e9a68111 received by server - Status: processing
2025-06-04 12:48:06.402 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_response
2025-06-04 12:48:06.402 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 5cb5697e-56b3-476f-8438-e601e9a68111)
2025-06-04 12:48:06.403 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 12:48:06.403 | INFO     | client.agent_client:_handle_query_response:143 - Response: Current weather conditions show partly cloudy skies with a temperature of 72¬∞F. There's a 20% chance of light rain later today. Winds are light from the southwest.
2025-06-04 12:48:08.397 | INFO     | client.agent_client:send_query:89 - Sending query: Can you help me with data analysis?
2025-06-04 12:48:08.398 | DEBUG    | client.connection_manager:send_json:145 - Sent message: {'type': 'query', 'query': 'Can you help me with data analysis?', 'query_id': 'b7c16993-ba4f-479e-b4cd-fa676994a39e', 'timestamp': 339239.5863064}
2025-06-04 12:48:08.399 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Can you help me with data analysis?", "query_id": "b7c16993-ba4f-479e-b4cd-fa676994a39e", "timestamp": 339239.5863064}
2025-06-04 12:48:08.401 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_received
2025-06-04 12:48:08.402 | INFO     | client.agent_client:_handle_query_received:132 - Query b7c16993-ba4f-479e-b4cd-fa676994a39e received by server - Status: processing
2025-06-04 12:48:08.401 | WARNING  | core.message_broker:publish:127 - No active subscribers or consumers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 12:48:09.409 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_response
2025-06-04 12:48:09.409 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: b7c16993-ba4f-479e-b4cd-fa676994a39e)
2025-06-04 12:48:09.410 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 12:48:09.411 | INFO     | client.agent_client:_handle_query_response:143 - Response: I can help you with various data analysis tasks including statistical analysis, data visualization, trend analysis, and predictive modeling. What specific type of analysis are you looking for?
2025-06-04 12:48:11.400 | INFO     | client.agent_client:send_text:104 - Sending text: Hello, this is a test message!
2025-06-04 12:48:11.401 | DEBUG    | client.connection_manager:send_text:160 - Sent text: Hello, this is a test message!
2025-06-04 12:48:11.402 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: Hello, this is a test message!
2025-06-04 12:48:11.408 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from 35568157-73ae-4a58-b844-4e215acc60cb: Hello, this is a test message!
2025-06-04 12:48:11.409 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: text_response
2025-06-04 12:48:11.409 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'Hello, this is a test message!'
2025-06-04 12:48:13.413 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 12:48:13.416 | DEBUG    | client.connection_manager:send_text:160 - Sent text: status
2025-06-04 12:48:13.417 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 12:48:13.420 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: status_response
2025-06-04 12:48:13.420 | DEBUG    | client.connection_manager:_handle_message:252 - No handler for message type: status_response
2025-06-04 12:48:24.434 | INFO     | client.agent_client:send_text:104 - Sending text: query<weather today>
2025-06-04 12:48:24.435 | DEBUG    | client.connection_manager:send_text:160 - Sent text: query<weather today>
2025-06-04 12:48:24.435 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: query<weather today>
2025-06-04 12:48:24.436 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from 35568157-73ae-4a58-b844-4e215acc60cb: query<weather today>
2025-06-04 12:48:24.437 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: text_response
2025-06-04 12:48:24.437 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'query<weather today>'
2025-06-04 12:48:28.022 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user 35568157-73ae-4a58-b844-4e215acc60cb
2025-06-04 12:48:28.022 | DEBUG    | server.websocket_handler:_heartbeat_loop:198 - Heartbeat sent to 1 connections
2025-06-04 12:48:58.034 | WARNING  | server.websocket_handler:_user_heartbeat_loop:176 - User 35568157-73ae-4a58-b844-4e215acc60cb failed heartbeat check - disconnecting
2025-06-04 12:48:58.042 | DEBUG    | server.websocket_handler:_heartbeat_loop:198 - Heartbeat sent to 1 connections
2025-06-04 12:49:14.512 | INFO     | server.websocket_handler:_force_disconnect_user:228 - Force disconnected user 35568157-73ae-4a58-b844-4e215acc60cb due to: heartbeat_timeout
2025-06-04 12:49:14.512 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: 35568157-73ae-4a58-b844-4e215acc60cb
2025-06-04 12:49:14.513 | INFO     | server.websocket_handler:_stop_main_heartbeat:138 - Main heartbeat loop stopped
2025-06-04 12:49:14.513 | INFO     | server.websocket_handler:_heartbeat_loop:203 - Heartbeat loop cancelled
2025-06-04 12:55:06.791 | INFO     | server.websocket_handler:_start_main_heartbeat:131 - Main heartbeat loop started
2025-06-04 12:55:06.793 | INFO     | server.websocket_handler:connect:36 - WebSocket connected. User ID: 6454727f-0003-478c-9848-b9102c15ca14. Total connections: 1
2025-06-04 12:55:06.794 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: 6454727f-0003-478c-9848-b9102c15ca14
2025-06-04 12:55:06.803 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user 6454727f-0003-478c-9848-b9102c15ca14
2025-06-04 12:55:06.803 | DEBUG    | server.websocket_handler:_heartbeat_loop:198 - Heartbeat sent to 1 connections
2025-06-04 12:55:06.805 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "pong", "original_timestamp": 1749021906.8022985, "client_timestamp": 1749021906.8047044, "user_id": "6454727f-0003-478c-9848-b9102c15ca14"}
2025-06-04 12:55:36.814 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user 6454727f-0003-478c-9848-b9102c15ca14
2025-06-04 12:55:36.814 | DEBUG    | server.websocket_handler:_heartbeat_loop:198 - Heartbeat sent to 1 connections
2025-06-04 12:55:36.815 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "pong", "original_timestamp": 1749021936.8129694, "client_timestamp": 1749021936.814753, "user_id": "6454727f-0003-478c-9848-b9102c15ca14"}
2025-06-04 12:55:41.818 | INFO     | server.websocket_handler:connect:36 - WebSocket connected. User ID: 95fa53db-6c44-4856-aa12-c51228593aba. Total connections: 2
2025-06-04 12:55:41.819 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: 95fa53db-6c44-4856-aa12-c51228593aba
2025-06-04 12:55:41.822 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user 95fa53db-6c44-4856-aa12-c51228593aba
2025-06-04 12:55:41.824 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: query<weather today>
2025-06-04 12:55:41.824 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from 95fa53db-6c44-4856-aa12-c51228593aba: query<weather today>
2025-06-04 12:55:41.826 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "pong", "original_timestamp": 1749021941.8214247, "client_timestamp": 1749021941.824005, "user_id": "95fa53db-6c44-4856-aa12-c51228593aba"}
2025-06-04 12:55:44.837 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: query<what's the temperature in New York?>
2025-06-04 12:55:44.838 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from 95fa53db-6c44-4856-aa12-c51228593aba: query<what's the temperature in New York?>
2025-06-04 12:55:47.846 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: query<system status>
2025-06-04 12:55:47.847 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from 95fa53db-6c44-4856-aa12-c51228593aba: query<system status>
2025-06-04 12:55:50.866 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: query<tell me about data analysis>
2025-06-04 12:55:50.868 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from 95fa53db-6c44-4856-aa12-c51228593aba: query<tell me about data analysis>
2025-06-04 12:55:53.874 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "weather in London", "query_id": "query_1749021953872", "timestamp": 1749021953.872556}
2025-06-04 12:55:53.883 | WARNING  | core.message_broker:publish:127 - No active subscribers or consumers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 12:55:56.907 | INFO     | server.websocket_handler:connect:36 - WebSocket connected. User ID: 5ec3f259-309e-4570-a84f-2e5685c16830. Total connections: 3
2025-06-04 12:55:56.908 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: 5ec3f259-309e-4570-a84f-2e5685c16830
2025-06-04 12:55:56.911 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user 5ec3f259-309e-4570-a84f-2e5685c16830
2025-06-04 12:55:56.911 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: invalid json {
2025-06-04 12:55:56.912 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from 5ec3f259-309e-4570-a84f-2e5685c16830: invalid json {
2025-06-04 12:55:56.914 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "pong", "original_timestamp": 1749021956.910602, "client_timestamp": 1749021956.9118588, "user_id": "5ec3f259-309e-4570-a84f-2e5685c16830"}
2025-06-04 12:55:57.920 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "", "query_id": "query_1749021957919", "timestamp": 1749021957.9194798}
2025-06-04 12:55:58.941 | INFO     | server.websocket_handler:connect:36 - WebSocket connected. User ID: 4bc416c1-8044-4ed8-9f5f-d8327beaab5c. Total connections: 4
2025-06-04 12:55:58.942 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: 4bc416c1-8044-4ed8-9f5f-d8327beaab5c
2025-06-04 12:55:58.944 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user 4bc416c1-8044-4ed8-9f5f-d8327beaab5c
2025-06-04 12:55:58.946 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "status", "timestamp": 1749021958.9447036}
2025-06-04 12:55:58.947 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "pong", "original_timestamp": 1749021958.9441612, "client_timestamp": 1749021958.945663, "user_id": "4bc416c1-8044-4ed8-9f5f-d8327beaab5c"}
2025-06-04 12:56:00.961 | INFO     | server.websocket_handler:connect:36 - WebSocket connected. User ID: bcb467e0-1e2d-4c4c-b98e-7698e44a0275. Total connections: 5
2025-06-04 12:56:00.962 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: bcb467e0-1e2d-4c4c-b98e-7698e44a0275
2025-06-04 12:56:00.967 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user bcb467e0-1e2d-4c4c-b98e-7698e44a0275
2025-06-04 12:56:00.971 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "pong", "original_timestamp": 1749021960.9676487, "client_timestamp": 1749021960.970395, "user_id": "bcb467e0-1e2d-4c4c-b98e-7698e44a0275"}
2025-06-04 12:56:00.974 | INFO     | server.websocket_handler:connect:36 - WebSocket connected. User ID: b247cfd7-71dd-4506-858f-1c0aba29e81c. Total connections: 6
2025-06-04 12:56:00.975 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: b247cfd7-71dd-4506-858f-1c0aba29e81c
2025-06-04 12:56:00.978 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user b247cfd7-71dd-4506-858f-1c0aba29e81c
2025-06-04 12:56:00.984 | INFO     | server.websocket_handler:connect:36 - WebSocket connected. User ID: 1f14e802-f233-437f-8d04-42f8cb832a0e. Total connections: 7
2025-06-04 12:56:00.984 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: 1f14e802-f233-437f-8d04-42f8cb832a0e
2025-06-04 12:56:00.986 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user 1f14e802-f233-437f-8d04-42f8cb832a0e
2025-06-04 12:56:00.987 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "pong", "original_timestamp": 1749021960.9781713, "client_timestamp": 1749021960.9814649, "user_id": "b247cfd7-71dd-4506-858f-1c0aba29e81c"}
2025-06-04 12:56:00.988 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: query<test query from client 1>
2025-06-04 12:56:00.989 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from bcb467e0-1e2d-4c4c-b98e-7698e44a0275: query<test query from client 1>
2025-06-04 12:56:00.990 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: query<test query from client 2>
2025-06-04 12:56:00.990 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from b247cfd7-71dd-4506-858f-1c0aba29e81c: query<test query from client 2>
2025-06-04 12:56:00.991 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: query<test query from client 3>
2025-06-04 12:56:00.991 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from 1f14e802-f233-437f-8d04-42f8cb832a0e: query<test query from client 3>
2025-06-04 12:56:00.992 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "pong", "original_timestamp": 1749021960.9867206, "client_timestamp": 1749021960.988636, "user_id": "1f14e802-f233-437f-8d04-42f8cb832a0e"}
2025-06-04 12:56:06.022 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: 6454727f-0003-478c-9848-b9102c15ca14
2025-06-04 12:56:06.023 | INFO     | server.websocket_handler:disconnect:50 - WebSocket disconnected. User ID: 6454727f-0003-478c-9848-b9102c15ca14. Remaining connections: 6
2025-06-04 12:56:06.030 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:189 - Heartbeat task cancelled for user 6454727f-0003-478c-9848-b9102c15ca14
2025-06-04 12:56:06.033 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: 95fa53db-6c44-4856-aa12-c51228593aba
2025-06-04 12:56:06.034 | INFO     | server.websocket_handler:disconnect:50 - WebSocket disconnected. User ID: 95fa53db-6c44-4856-aa12-c51228593aba. Remaining connections: 5
2025-06-04 12:56:06.035 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: 5ec3f259-309e-4570-a84f-2e5685c16830
2025-06-04 12:56:06.036 | INFO     | server.websocket_handler:disconnect:50 - WebSocket disconnected. User ID: 5ec3f259-309e-4570-a84f-2e5685c16830. Remaining connections: 4
2025-06-04 12:56:06.037 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: 4bc416c1-8044-4ed8-9f5f-d8327beaab5c
2025-06-04 12:56:06.039 | INFO     | server.websocket_handler:disconnect:50 - WebSocket disconnected. User ID: 4bc416c1-8044-4ed8-9f5f-d8327beaab5c. Remaining connections: 3
2025-06-04 12:56:06.040 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: bcb467e0-1e2d-4c4c-b98e-7698e44a0275
2025-06-04 12:56:06.040 | INFO     | server.websocket_handler:disconnect:50 - WebSocket disconnected. User ID: bcb467e0-1e2d-4c4c-b98e-7698e44a0275. Remaining connections: 2
2025-06-04 12:56:06.041 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: b247cfd7-71dd-4506-858f-1c0aba29e81c
2025-06-04 12:56:06.041 | INFO     | server.websocket_handler:disconnect:50 - WebSocket disconnected. User ID: b247cfd7-71dd-4506-858f-1c0aba29e81c. Remaining connections: 1
2025-06-04 12:56:06.042 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: 1f14e802-f233-437f-8d04-42f8cb832a0e
2025-06-04 12:56:06.042 | INFO     | server.websocket_handler:disconnect:50 - WebSocket disconnected. User ID: 1f14e802-f233-437f-8d04-42f8cb832a0e. Remaining connections: 0
2025-06-04 12:56:06.043 | INFO     | server.websocket_handler:_stop_main_heartbeat:138 - Main heartbeat loop stopped
2025-06-04 12:56:06.043 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:189 - Heartbeat task cancelled for user 95fa53db-6c44-4856-aa12-c51228593aba
2025-06-04 12:56:06.044 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:189 - Heartbeat task cancelled for user 5ec3f259-309e-4570-a84f-2e5685c16830
2025-06-04 12:56:06.044 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:189 - Heartbeat task cancelled for user 4bc416c1-8044-4ed8-9f5f-d8327beaab5c
2025-06-04 12:56:06.044 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:189 - Heartbeat task cancelled for user bcb467e0-1e2d-4c4c-b98e-7698e44a0275
2025-06-04 12:56:06.044 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:189 - Heartbeat task cancelled for user b247cfd7-71dd-4506-858f-1c0aba29e81c
2025-06-04 12:56:06.044 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:189 - Heartbeat task cancelled for user 1f14e802-f233-437f-8d04-42f8cb832a0e
2025-06-04 12:56:06.044 | INFO     | server.websocket_handler:_heartbeat_loop:203 - Heartbeat loop cancelled
2025-06-04 12:57:56.305 | INFO     | server.api_gateway:stop_websocket_listener:175 - Stopping WebSocket response listener...
2025-06-04 12:57:56.306 | INFO     | core.message_broker:consume:192 - Consumer for topic 'InternalMessageType.ORCHESTRATOR_RESPONSE' was cancelled
2025-06-04 12:57:56.306 | INFO     | core.message_broker:consume:205 - Stopped consuming messages from topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'
2025-06-04 12:57:56.309 | INFO     | server.api_gateway:_websocket_response_listener:102 - WebSocket response listener stopped
2025-06-04 12:57:56.314 | INFO     | server.agent_server:lifespan:53 - Agent Server shutting down...
2025-06-04 12:57:56.315 | INFO     | server.websocket_handler:disconnect_all:75 - Disconnecting all 0 connections...
2025-06-04 12:57:56.315 | INFO     | server.websocket_handler:_stop_main_heartbeat:138 - Main heartbeat loop stopped
2025-06-04 12:57:56.316 | INFO     | server.websocket_handler:disconnect_all:89 - All connections disconnected
2025-06-04 12:57:56.320 | INFO     | server.orchestrator:shutdown:347 - Shutting down OrchestratorAgent...
2025-06-04 12:57:56.328 | DEBUG    | core.message_broker:_ensure_topic_exists:103 - Created topic: InternalMessageType.AGENT_STATUS_UPDATE
2025-06-04 12:57:56.328 | WARNING  | core.message_broker:publish:127 - No active subscribers or consumers for topic 'InternalMessageType.AGENT_STATUS_UPDATE'. Message not delivered.
2025-06-04 12:57:56.329 | INFO     | server.agent_server:lifespan:60 - Agent Server shutdown complete.
2025-06-04 12:57:56.340 | INFO     | core.message_broker:stop:56 - Stopping message broker...
2025-06-04 12:57:56.342 | DEBUG    | core.message_broker:_process_topic_messages:293 - Message processor for topic 'InternalMessageType.USER_QUERY' stopped
2025-06-04 12:57:56.353 | INFO     | __main__:main:250 - üõë Shutdown signal received
2025-06-04 12:58:16.250 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 12:58:16.250 | INFO     | __main__:startup_checks:161 - üîç Performing startup checks...
2025-06-04 12:58:16.252 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:58:16.255 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:58:16.257 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:58:16.258 | INFO     | __main__:validate_configuration:117 - ‚úÖ Configuration validation passed
2025-06-04 12:58:16.258 | INFO     | __main__:initialize_core_components:123 - üîß Initializing core components...
2025-06-04 12:58:16.259 | INFO     | core.message_broker:start:42 - Message broker started
2025-06-04 12:58:16.260 | DEBUG    | core.message_broker:_ensure_topic_exists:103 - Created topic: InternalMessageType.USER_QUERY
2025-06-04 12:58:16.260 | DEBUG    | core.message_broker:_ensure_topic_exists:103 - Created topic: InternalMessageType.QUERY_RESPONSE
2025-06-04 12:58:16.260 | DEBUG    | core.message_broker:_ensure_topic_exists:103 - Created topic: InternalMessageType.SYSTEM_STATUS
2025-06-04 12:58:16.260 | DEBUG    | core.message_broker:_ensure_topic_exists:103 - Created topic: InternalMessageType.AGENT_STATUS
2025-06-04 12:58:16.260 | DEBUG    | core.message_broker:_ensure_topic_exists:103 - Created topic: InternalMessageType.HEARTBEAT
2025-06-04 12:58:16.260 | INFO     | core.message_broker:start:48 - Message broker initialized with 5 topics
2025-06-04 12:58:16.261 | INFO     | __main__:initialize_core_components:127 - ‚úÖ Message broker initialized successfully
2025-06-04 12:58:16.261 | INFO     | core.message_broker:subscribe:348 - Subscribed to topic 'InternalMessageType.USER_QUERY'. Total subscribers: 1
2025-06-04 12:58:16.262 | INFO     | core.query_handler:start:22 - Query handler started and subscribed to USER_QUERY topic
2025-06-04 12:58:16.264 | INFO     | __main__:initialize_core_components:131 - ‚úÖ Query handler initialized successfully
2025-06-04 12:58:16.264 | INFO     | __main__:wait_for_agents:140 - ‚è≥ Waiting for A2A agents to be ready...
2025-06-04 12:58:16.267 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:58:16.268 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:58:16.269 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 12:58:16.271 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:58:16.273 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:58:16.273 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 12:58:16.276 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:58:16.279 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:58:16.279 | INFO     | __main__:check_agent_availability:39 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 12:58:16.280 | INFO     | __main__:wait_for_agents:150 - ‚úÖ Found 3 available agents
2025-06-04 12:58:16.281 | INFO     | __main__:startup_checks:176 - ‚úÖ All startup checks passed
2025-06-04 12:58:16.281 | INFO     | __main__:display_server_info:51 - ======================================================================
2025-06-04 12:58:16.281 | INFO     | __main__:display_server_info:52 - üöÄ MULTI-AGENT SYSTEM SERVER STARTUP
2025-06-04 12:58:16.281 | INFO     | __main__:display_server_info:53 - ======================================================================
2025-06-04 12:58:16.282 | INFO     | __main__:display_server_info:54 - üåê FastAPI Server: http://127.0.0.1:5000
2025-06-04 12:58:16.282 | INFO     | __main__:display_server_info:55 - üîå WebSocket Server: ws://127.0.0.1:5000/ws
2025-06-04 12:58:16.282 | INFO     | __main__:display_server_info:56 - üìä Environment: development
2025-06-04 12:58:16.282 | INFO     | __main__:display_server_info:57 - üîß Debug Mode: True
2025-06-04 12:58:16.283 | INFO     | __main__:display_server_info:58 - 
2025-06-04 12:58:16.285 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:58:16.287 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'weather_agent': {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:58:16.287 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Weather Agent configured at http://127.0.0.1:5211/a2a
2025-06-04 12:58:16.289 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:58:16.291 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'web_search_agent': {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:58:16.291 | INFO     | __main__:check_agent_availability:39 - ‚úÖ Web Search Agent configured at http://127.0.0.1:5513/a2a
2025-06-04 12:58:16.294 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:58:16.297 | INFO     | config.settings:load_agent_config:45 - Loaded config for agent 'news_agent': {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:58:16.297 | INFO     | __main__:check_agent_availability:39 - ‚úÖ News Agent configured at http://127.0.0.1:5313/a2a
2025-06-04 12:58:16.297 | INFO     | __main__:display_server_info:64 - ü§ñ Available A2A Agents:
2025-06-04 12:58:16.298 | INFO     | __main__:display_server_info:66 -    ‚Ä¢ Weather Agent: http://127.0.0.1:5211/a2a
2025-06-04 12:58:16.298 | INFO     | __main__:display_server_info:66 -    ‚Ä¢ Web Search Agent: http://127.0.0.1:5513/a2a
2025-06-04 12:58:16.298 | INFO     | __main__:display_server_info:66 -    ‚Ä¢ News Agent: http://127.0.0.1:5313/a2a
2025-06-04 12:58:16.298 | INFO     | __main__:display_server_info:73 - 
2025-06-04 12:58:16.299 | INFO     | __main__:display_server_info:74 - üí° API Documentation available at:
2025-06-04 12:58:16.299 | INFO     | __main__:display_server_info:75 -    ‚Ä¢ Swagger UI: http://127.0.0.1:5000/docs
2025-06-04 12:58:16.299 | INFO     | __main__:display_server_info:76 -    ‚Ä¢ ReDoc: http://127.0.0.1:5000/redoc
2025-06-04 12:58:16.299 | INFO     | __main__:display_server_info:77 - ======================================================================
2025-06-04 12:58:16.300 | INFO     | __main__:configure_uvicorn:203 - üîß Development mode: Hot-reloading enabled
2025-06-04 12:58:16.300 | INFO     | __main__:main_async:221 - üöÄ Starting Multi-Agent System Server...
2025-06-04 12:58:16.300 | INFO     | __main__:main_async:222 - üì® Message broker and query handler are active and ready to process queries
2025-06-04 12:58:16.300 | INFO     | __main__:main_async:223 - Press Ctrl+C to stop the server
2025-06-04 12:58:16.337 | DEBUG    | core.message_broker:_ensure_topic_processing:250 - Started message processing task for topic 'InternalMessageType.USER_QUERY'
2025-06-04 12:58:16.337 | INFO     | server.agent_server:lifespan:28 - Agent Server starting up...
2025-06-04 12:58:16.337 | INFO     | server.orchestrator:initialize:35 - Initializing OrchestratorAgent with Google ADK and Perplexity AI...
2025-06-04 12:58:16.338 | INFO     | server.orchestrator:initialize:41 - Found 3 agent configurations to process...
2025-06-04 12:58:16.338 | INFO     | server.orchestrator:initialize:44 - Processing agent: weather_agent with config: {'id': 'weather_agent_001', 'name': 'Weather Agent', 'description': 'Provides current weather info and forecasts.', 'a2a_endpoint': 'http://127.0.0.1:5211/a2a', 'tool_name': 'weather_tool'}
2025-06-04 12:58:16.338 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for weather_agent at http://127.0.0.1:5211/a2a
2025-06-04 12:58:16.338 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for weather_agent
2025-06-04 12:58:16.650 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 12:58:16.719 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for weather_agent at http://127.0.0.1:5211/.well-known/agent.json
2025-06-04 12:58:16.720 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for weather_agent
2025-06-04 12:58:16.721 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for weather_agent
2025-06-04 12:58:16.721 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Weather Agent (weather_agent) at http://127.0.0.1:5211/a2a
2025-06-04 12:58:16.722 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for weather_agent
2025-06-04 12:58:16.722 | INFO     | server.orchestrator:initialize:44 - Processing agent: web_search_agent with config: {'id': 'web_search_agent_001', 'name': 'Web Search Agent', 'description': 'Performs real-time web searches.', 'a2a_endpoint': 'http://127.0.0.1:5513/a2a', 'tool_name': 'web_search_tool'}
2025-06-04 12:58:16.723 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for web_search_agent at http://127.0.0.1:5513/a2a
2025-06-04 12:58:16.723 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for web_search_agent
2025-06-04 12:58:17.068 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 12:58:17.124 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for web_search_agent at http://127.0.0.1:5513/.well-known/agent.json
2025-06-04 12:58:17.124 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for web_search_agent
2025-06-04 12:58:17.124 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for web_search_agent
2025-06-04 12:58:17.125 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: Web Search Agent (web_search_agent) at http://127.0.0.1:5513/a2a
2025-06-04 12:58:17.125 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for web_search_agent
2025-06-04 12:58:17.125 | INFO     | server.orchestrator:initialize:44 - Processing agent: news_agent with config: {'id': 'news_agent_001', 'name': 'News Agent', 'description': 'Fetches latest news articles by keyword/category.', 'a2a_endpoint': 'http://127.0.0.1:5313/a2a', 'tool_name': 'news_tool'}
2025-06-04 12:58:17.125 | INFO     | server.orchestrator:initialize:51 - Attempting to discover agent card for news_agent at http://127.0.0.1:5313/a2a
2025-06-04 12:58:17.126 | INFO     | server.orchestrator:_discover_agent_card_robust:166 - Trying 5 discovery endpoints for news_agent
2025-06-04 12:58:17.427 | DEBUG    | server.orchestrator:_discover_agent_card_robust:171 - Trying discovery endpoint: http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 12:58:17.479 | INFO     | server.orchestrator:_discover_agent_card_robust:178 - ‚úÖ Successfully discovered agent card for news_agent at http://127.0.0.1:5313/.well-known/agent.json
2025-06-04 12:58:17.479 | INFO     | server.orchestrator:initialize:58 - Successfully discovered agent card for news_agent
2025-06-04 12:58:17.481 | INFO     | server.orchestrator:initialize:64 - Successfully created tool callable for news_agent
2025-06-04 12:58:17.481 | INFO     | core.agent_registry:register_a2a_agent:42 - Registered A2A agent: News Agent (news_agent) at http://127.0.0.1:5313/a2a
2025-06-04 12:58:17.482 | INFO     | server.orchestrator:initialize:77 - Successfully registered agent tool for news_agent
2025-06-04 12:58:17.482 | INFO     | server.orchestrator:initialize:91 - Loaded 3 ADK tools from A2A agent configurations.
2025-06-04 12:58:17.482 | INFO     | server.orchestrator:initialize:105 - Successfully initialized Perplexity LLM
2025-06-04 12:58:17.483 | INFO     | server.orchestrator:initialize:130 - Successfully created Orchestrator Agent with 3 tools
2025-06-04 12:58:17.484 | INFO     | server.orchestrator:initialize:142 - Successfully created Runner
2025-06-04 12:58:17.484 | INFO     | server.orchestrator:initialize:148 - OrchestratorAgent fully initialized and ready.
2025-06-04 12:58:17.484 | INFO     | server.agent_server:lifespan:31 - Orchestrator Agent initialized.
2025-06-04 12:58:17.485 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: weather_agent
2025-06-04 12:58:17.485 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: web_search_agent
2025-06-04 12:58:17.485 | INFO     | server.agent_server:lifespan:47 - Registered A2A tool for agent: news_agent
2025-06-04 12:58:17.485 | INFO     | server.agent_server:lifespan:51 - Agent Server startup complete.
2025-06-04 12:58:17.486 | INFO     | server.api_gateway:start_websocket_listener:163 - Starting WebSocket response listener task
2025-06-04 12:58:17.486 | INFO     | server.api_gateway:_websocket_response_listener:65 - WebSocket response listener started.
2025-06-04 12:58:17.487 | DEBUG    | core.message_broker:_ensure_topic_exists:103 - Created topic: InternalMessageType.ORCHESTRATOR_RESPONSE
2025-06-04 12:58:17.487 | INFO     | core.message_broker:consume:168 - Started consuming messages from topic 'InternalMessageType.ORCHESTRATOR_RESPONSE'
2025-06-04 12:58:22.160 | INFO     | __main__:main:49 - Cleaning up...
2025-06-04 12:58:22.222 | INFO     | client.connection_manager:disconnect:135 - WebSocket disconnected
2025-06-04 12:58:22.222 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-04 12:58:28.395 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 12:58:28.398 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-04 12:58:28.398 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-04 12:58:28.398 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-04 12:58:28.398 | INFO     | client.connection_manager:connect:37 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-04 12:58:28.471 | INFO     | server.websocket_handler:_start_main_heartbeat:131 - Main heartbeat loop started
2025-06-04 12:58:28.471 | INFO     | server.websocket_handler:connect:36 - WebSocket connected. User ID: b65fb132-8c3e-4bc0-b966-22f2ce6e5cd5. Total connections: 1
2025-06-04 12:58:28.472 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: b65fb132-8c3e-4bc0-b966-22f2ce6e5cd5
2025-06-04 12:58:28.476 | INFO     | client.connection_manager:connect:55 - WebSocket connected successfully
2025-06-04 12:58:28.477 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user b65fb132-8c3e-4bc0-b966-22f2ce6e5cd5
2025-06-04 12:58:28.477 | DEBUG    | server.websocket_handler:_heartbeat_loop:198 - Heartbeat sent to 1 connections
2025-06-04 12:58:28.478 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: ping
2025-06-04 12:58:28.478 | DEBUG    | client.connection_manager:_handle_message:252 - No handler for message type: ping
2025-06-04 12:58:33.988 | WARNING  | client.connection_manager:connect:84 - Timeout waiting for connection established message
2025-06-04 12:58:33.989 | INFO     | client.connection_manager:connect:87 - WebSocket is still open, proceeding without connection_established message
2025-06-04 12:58:33.989 | INFO     | client.agent_client:connect:62 - Client connected successfully. User ID: None
2025-06-04 12:58:33.989 | INFO     | __main__:main:38 - Successfully connected to Multi-Agent System
2025-06-04 12:58:33.991 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 12:58:33.992 | DEBUG    | client.connection_manager:send_text:160 - Sent text: status
2025-06-04 12:58:33.993 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 12:58:33.994 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: status_response
2025-06-04 12:58:33.994 | DEBUG    | client.connection_manager:_handle_message:252 - No handler for message type: status_response
2025-06-04 12:58:36.007 | INFO     | client.agent_client:send_query:89 - Sending query: What is the weather like today?
2025-06-04 12:58:36.012 | DEBUG    | client.connection_manager:send_json:145 - Sent message: {'type': 'query', 'query': 'What is the weather like today?', 'query_id': '6a387b5d-c9e2-4c85-9823-f2f8c3b3f8f2', 'timestamp': 339867.1960352}
2025-06-04 12:58:36.013 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "What is the weather like today?", "query_id": "6a387b5d-c9e2-4c85-9823-f2f8c3b3f8f2", "timestamp": 339867.1960352}
2025-06-04 12:58:36.016 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_received
2025-06-04 12:58:36.016 | INFO     | client.agent_client:_handle_query_received:132 - Query 6a387b5d-c9e2-4c85-9823-f2f8c3b3f8f2 received by server - Status: processing
2025-06-04 12:58:36.018 | DEBUG    | core.message_broker:_ensure_topic_exists:103 - Created topic: InternalMessageType.USER_QUERY
2025-06-04 12:58:36.018 | WARNING  | core.message_broker:publish:127 - No active subscribers or consumers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 12:58:37.022 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_response
2025-06-04 12:58:37.022 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 6a387b5d-c9e2-4c85-9823-f2f8c3b3f8f2)
2025-06-04 12:58:37.023 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 12:58:37.023 | INFO     | client.agent_client:_handle_query_response:143 - Response: Current weather conditions show partly cloudy skies with a temperature of 72¬∞F. There's a 20% chance of light rain later today. Winds are light from the southwest.
2025-06-04 12:58:39.028 | INFO     | client.agent_client:send_query:89 - Sending query: Can you help me with data analysis?
2025-06-04 12:58:39.029 | DEBUG    | client.connection_manager:send_json:145 - Sent message: {'type': 'query', 'query': 'Can you help me with data analysis?', 'query_id': 'e52f37aa-5a91-4539-a072-4cd100a32710', 'timestamp': 339870.2173142}
2025-06-04 12:58:39.030 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Can you help me with data analysis?", "query_id": "e52f37aa-5a91-4539-a072-4cd100a32710", "timestamp": 339870.2173142}
2025-06-04 12:58:39.031 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_received
2025-06-04 12:58:39.031 | WARNING  | core.message_broker:publish:127 - No active subscribers or consumers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 12:58:39.032 | INFO     | client.agent_client:_handle_query_received:132 - Query e52f37aa-5a91-4539-a072-4cd100a32710 received by server - Status: processing
2025-06-04 12:58:40.048 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_response
2025-06-04 12:58:40.048 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: e52f37aa-5a91-4539-a072-4cd100a32710)
2025-06-04 12:58:40.048 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 12:58:40.049 | INFO     | client.agent_client:_handle_query_response:143 - Response: I can help you with various data analysis tasks including statistical analysis, data visualization, trend analysis, and predictive modeling. What specific type of analysis are you looking for?
2025-06-04 12:58:42.040 | INFO     | client.agent_client:send_text:104 - Sending text: Hello, this is a test message!
2025-06-04 12:58:42.043 | DEBUG    | client.connection_manager:send_text:160 - Sent text: Hello, this is a test message!
2025-06-04 12:58:42.044 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: Hello, this is a test message!
2025-06-04 12:58:42.045 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from b65fb132-8c3e-4bc0-b966-22f2ce6e5cd5: Hello, this is a test message!
2025-06-04 12:58:42.050 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: text_response
2025-06-04 12:58:42.050 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'Hello, this is a test message!'
2025-06-04 12:58:44.055 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 12:58:44.058 | DEBUG    | client.connection_manager:send_text:160 - Sent text: status
2025-06-04 12:58:44.058 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 12:58:44.060 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: status_response
2025-06-04 12:58:44.060 | DEBUG    | client.connection_manager:_handle_message:252 - No handler for message type: status_response
2025-06-04 12:58:57.261 | INFO     | client.agent_client:send_query:89 - Sending query: <weather today>
2025-06-04 12:58:57.262 | DEBUG    | client.connection_manager:send_json:145 - Sent message: {'type': 'query', 'query': '<weather today>', 'query_id': 'ed4a9f56-b091-4795-990a-7c4792cc3d0e', 'timestamp': 339888.449821}
2025-06-04 12:58:57.264 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "<weather today>", "query_id": "ed4a9f56-b091-4795-990a-7c4792cc3d0e", "timestamp": 339888.449821}
2025-06-04 12:58:57.266 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_received
2025-06-04 12:58:57.266 | WARNING  | core.message_broker:publish:127 - No active subscribers or consumers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 12:58:57.266 | INFO     | client.agent_client:_handle_query_received:132 - Query ed4a9f56-b091-4795-990a-7c4792cc3d0e received by server - Status: processing
2025-06-04 12:58:58.483 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user b65fb132-8c3e-4bc0-b966-22f2ce6e5cd5
2025-06-04 12:58:58.484 | DEBUG    | server.websocket_handler:_heartbeat_loop:198 - Heartbeat sent to 1 connections
2025-06-04 12:59:28.494 | WARNING  | server.websocket_handler:_user_heartbeat_loop:176 - User b65fb132-8c3e-4bc0-b966-22f2ce6e5cd5 failed heartbeat check - disconnecting
2025-06-04 12:59:28.497 | DEBUG    | server.websocket_handler:_heartbeat_loop:198 - Heartbeat sent to 1 connections
2025-06-04 12:59:31.393 | INFO     | __main__:main:49 - Cleaning up...
2025-06-04 12:59:31.394 | INFO     | client.connection_manager:disconnect:135 - WebSocket disconnected
2025-06-04 12:59:31.394 | INFO     | server.websocket_handler:_force_disconnect_user:228 - Force disconnected user b65fb132-8c3e-4bc0-b966-22f2ce6e5cd5 due to: heartbeat_timeout
2025-06-04 12:59:31.395 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-04 12:59:31.395 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: b65fb132-8c3e-4bc0-b966-22f2ce6e5cd5
2025-06-04 12:59:31.395 | INFO     | server.websocket_handler:_stop_main_heartbeat:138 - Main heartbeat loop stopped
2025-06-04 12:59:31.396 | INFO     | server.websocket_handler:_heartbeat_loop:203 - Heartbeat loop cancelled
2025-06-04 13:31:08.300 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 13:31:08.305 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-04 13:31:08.305 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-04 13:31:08.305 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-04 13:31:08.306 | INFO     | client.connection_manager:connect:37 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-04 13:31:08.567 | INFO     | server.websocket_handler:_start_main_heartbeat:131 - Main heartbeat loop started
2025-06-04 13:31:08.572 | INFO     | server.websocket_handler:connect:36 - WebSocket connected. User ID: 4beba10f-dc02-484d-addd-a8da4aa867c1. Total connections: 1
2025-06-04 13:31:08.572 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: 4beba10f-dc02-484d-addd-a8da4aa867c1
2025-06-04 13:31:08.590 | INFO     | client.connection_manager:connect:55 - WebSocket connected successfully
2025-06-04 13:31:08.598 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user 4beba10f-dc02-484d-addd-a8da4aa867c1
2025-06-04 13:31:08.598 | DEBUG    | server.websocket_handler:_heartbeat_loop:198 - Heartbeat sent to 1 connections
2025-06-04 13:31:08.599 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: ping
2025-06-04 13:31:08.599 | DEBUG    | client.connection_manager:_handle_message:252 - No handler for message type: ping
2025-06-04 13:31:14.106 | WARNING  | client.connection_manager:connect:84 - Timeout waiting for connection established message
2025-06-04 13:31:14.107 | INFO     | client.connection_manager:connect:87 - WebSocket is still open, proceeding without connection_established message
2025-06-04 13:31:14.108 | INFO     | client.agent_client:connect:62 - Client connected successfully. User ID: None
2025-06-04 13:31:14.109 | INFO     | __main__:main:38 - Successfully connected to Multi-Agent System
2025-06-04 13:31:14.110 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 13:31:14.111 | DEBUG    | client.connection_manager:send_text:160 - Sent text: status
2025-06-04 13:31:14.114 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 13:31:14.138 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: status_response
2025-06-04 13:31:14.138 | DEBUG    | client.connection_manager:_handle_message:252 - No handler for message type: status_response
2025-06-04 13:31:16.126 | INFO     | client.agent_client:send_query:89 - Sending query: What is the weather like today?
2025-06-04 13:31:16.127 | DEBUG    | client.connection_manager:send_json:145 - Sent message: {'type': 'query', 'query': 'What is the weather like today?', 'query_id': '2727ec5f-8ccd-42a1-9ef2-3bea0865c824', 'timestamp': 341827.3144718}
2025-06-04 13:31:16.127 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "What is the weather like today?", "query_id": "2727ec5f-8ccd-42a1-9ef2-3bea0865c824", "timestamp": 341827.3144718}
2025-06-04 13:31:16.128 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_received
2025-06-04 13:31:16.129 | INFO     | client.agent_client:_handle_query_received:132 - Query 2727ec5f-8ccd-42a1-9ef2-3bea0865c824 received by server - Status: processing
2025-06-04 13:31:16.147 | WARNING  | core.message_broker:publish:127 - No active subscribers or consumers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 13:31:17.159 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_response
2025-06-04 13:31:17.159 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 2727ec5f-8ccd-42a1-9ef2-3bea0865c824)
2025-06-04 13:31:17.159 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 13:31:17.160 | INFO     | client.agent_client:_handle_query_response:143 - Response: Current weather conditions show partly cloudy skies with a temperature of 72¬∞F. There's a 20% chance of light rain later today. Winds are light from the southwest.
2025-06-04 13:31:19.136 | INFO     | client.agent_client:send_query:89 - Sending query: Can you help me with data analysis?
2025-06-04 13:31:19.137 | DEBUG    | client.connection_manager:send_json:145 - Sent message: {'type': 'query', 'query': 'Can you help me with data analysis?', 'query_id': '6bc56c9d-39b3-481d-85d2-39e3d76bc165', 'timestamp': 341830.3247012}
2025-06-04 13:31:19.138 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Can you help me with data analysis?", "query_id": "6bc56c9d-39b3-481d-85d2-39e3d76bc165", "timestamp": 341830.3247012}
2025-06-04 13:31:19.142 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_received
2025-06-04 13:31:19.142 | WARNING  | core.message_broker:publish:127 - No active subscribers or consumers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 13:31:19.142 | INFO     | client.agent_client:_handle_query_received:132 - Query 6bc56c9d-39b3-481d-85d2-39e3d76bc165 received by server - Status: processing
2025-06-04 13:31:20.152 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_response
2025-06-04 13:31:20.152 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 6bc56c9d-39b3-481d-85d2-39e3d76bc165)
2025-06-04 13:31:20.153 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 13:31:20.153 | INFO     | client.agent_client:_handle_query_response:143 - Response: I can help you with various data analysis tasks including statistical analysis, data visualization, trend analysis, and predictive modeling. What specific type of analysis are you looking for?
2025-06-04 13:31:22.141 | INFO     | client.agent_client:send_text:104 - Sending text: Hello, this is a test message!
2025-06-04 13:31:22.142 | DEBUG    | client.connection_manager:send_text:160 - Sent text: Hello, this is a test message!
2025-06-04 13:31:22.144 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: Hello, this is a test message!
2025-06-04 13:31:22.146 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from 4beba10f-dc02-484d-addd-a8da4aa867c1: Hello, this is a test message!
2025-06-04 13:31:22.148 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: text_response
2025-06-04 13:31:22.148 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'Hello, this is a test message!'
2025-06-04 13:31:24.147 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 13:31:24.149 | DEBUG    | client.connection_manager:send_text:160 - Sent text: status
2025-06-04 13:31:24.150 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 13:31:24.153 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: status_response
2025-06-04 13:31:24.153 | DEBUG    | client.connection_manager:_handle_message:252 - No handler for message type: status_response
2025-06-04 13:31:38.608 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user 4beba10f-dc02-484d-addd-a8da4aa867c1
2025-06-04 13:31:38.608 | DEBUG    | server.websocket_handler:_heartbeat_loop:198 - Heartbeat sent to 1 connections
2025-06-04 13:31:39.521 | INFO     | client.agent_client:send_text:104 - Sending text: query<weather today>
2025-06-04 13:31:39.523 | DEBUG    | client.connection_manager:send_text:160 - Sent text: query<weather today>
2025-06-04 13:31:39.524 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: query<weather today>
2025-06-04 13:31:39.525 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from 4beba10f-dc02-484d-addd-a8da4aa867c1: query<weather today>
2025-06-04 13:31:39.526 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: ping
2025-06-04 13:31:39.526 | DEBUG    | client.connection_manager:_handle_message:252 - No handler for message type: ping
2025-06-04 13:31:39.526 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: text_response
2025-06-04 13:31:39.527 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'query<weather today>'
2025-06-04 13:32:08.623 | WARNING  | server.websocket_handler:_user_heartbeat_loop:176 - User 4beba10f-dc02-484d-addd-a8da4aa867c1 failed heartbeat check - disconnecting
2025-06-04 13:32:08.636 | DEBUG    | server.websocket_handler:_heartbeat_loop:198 - Heartbeat sent to 1 connections
2025-06-04 13:32:28.662 | INFO     | server.websocket_handler:_force_disconnect_user:228 - Force disconnected user 4beba10f-dc02-484d-addd-a8da4aa867c1 due to: heartbeat_timeout
2025-06-04 13:32:28.664 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: 4beba10f-dc02-484d-addd-a8da4aa867c1
2025-06-04 13:32:28.665 | INFO     | server.websocket_handler:_stop_main_heartbeat:138 - Main heartbeat loop stopped
2025-06-04 13:32:28.668 | INFO     | server.websocket_handler:_heartbeat_loop:203 - Heartbeat loop cancelled
2025-06-04 14:29:46.924 | INFO     | __main__:main:49 - Cleaning up...
2025-06-04 14:29:46.974 | INFO     | client.connection_manager:disconnect:135 - WebSocket disconnected
2025-06-04 14:29:46.975 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-04 14:29:49.484 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 14:29:49.489 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-04 14:29:49.489 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-04 14:29:49.489 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-04 14:29:49.490 | INFO     | client.connection_manager:connect:37 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-04 14:29:49.657 | INFO     | server.websocket_handler:_start_main_heartbeat:131 - Main heartbeat loop started
2025-06-04 14:29:49.660 | INFO     | server.websocket_handler:connect:36 - WebSocket connected. User ID: 0d2c709b-f95e-4e47-ba12-c2f79915a943. Total connections: 1
2025-06-04 14:29:49.660 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: 0d2c709b-f95e-4e47-ba12-c2f79915a943
2025-06-04 14:29:49.667 | INFO     | client.connection_manager:connect:55 - WebSocket connected successfully
2025-06-04 14:29:49.671 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user 0d2c709b-f95e-4e47-ba12-c2f79915a943
2025-06-04 14:29:49.671 | DEBUG    | server.websocket_handler:_heartbeat_loop:198 - Heartbeat sent to 1 connections
2025-06-04 14:29:49.672 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: ping
2025-06-04 14:29:49.673 | DEBUG    | client.connection_manager:_handle_message:252 - No handler for message type: ping
2025-06-04 14:29:55.184 | WARNING  | client.connection_manager:connect:84 - Timeout waiting for connection established message
2025-06-04 14:29:55.186 | INFO     | client.connection_manager:connect:87 - WebSocket is still open, proceeding without connection_established message
2025-06-04 14:29:55.189 | INFO     | client.agent_client:connect:62 - Client connected successfully. User ID: None
2025-06-04 14:29:55.190 | INFO     | __main__:main:38 - Successfully connected to Multi-Agent System
2025-06-04 14:29:55.192 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 14:29:55.199 | DEBUG    | client.connection_manager:send_text:160 - Sent text: status
2025-06-04 14:29:55.208 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 14:29:55.211 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: status_response
2025-06-04 14:29:55.211 | DEBUG    | client.connection_manager:_handle_message:252 - No handler for message type: status_response
2025-06-04 14:29:57.205 | INFO     | client.agent_client:send_query:89 - Sending query: What is the weather like today?
2025-06-04 14:29:57.208 | DEBUG    | client.connection_manager:send_json:145 - Sent message: {'type': 'query', 'query': 'What is the weather like today?', 'query_id': '46af71ab-49a1-4016-b661-827e8a00cfcd', 'timestamp': 345348.3937222}
2025-06-04 14:29:57.208 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "What is the weather like today?", "query_id": "46af71ab-49a1-4016-b661-827e8a00cfcd", "timestamp": 345348.3937222}
2025-06-04 14:29:57.214 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_received
2025-06-04 14:29:57.215 | INFO     | client.agent_client:_handle_query_received:132 - Query 46af71ab-49a1-4016-b661-827e8a00cfcd received by server - Status: processing
2025-06-04 14:29:57.221 | WARNING  | core.message_broker:publish:127 - No active subscribers or consumers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 14:29:58.239 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_response
2025-06-04 14:29:58.239 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 46af71ab-49a1-4016-b661-827e8a00cfcd)
2025-06-04 14:29:58.240 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 14:29:58.241 | INFO     | client.agent_client:_handle_query_response:143 - Response: Current weather conditions show partly cloudy skies with a temperature of 72¬∞F. There's a 20% chance of light rain later today. Winds are light from the southwest.
2025-06-04 14:30:00.222 | INFO     | client.agent_client:send_query:89 - Sending query: Can you help me with data analysis?
2025-06-04 14:30:00.224 | DEBUG    | client.connection_manager:send_json:145 - Sent message: {'type': 'query', 'query': 'Can you help me with data analysis?', 'query_id': '63e79b96-ea4e-4619-bff5-9fc8d317e171', 'timestamp': 345351.4112261}
2025-06-04 14:30:00.225 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Can you help me with data analysis?", "query_id": "63e79b96-ea4e-4619-bff5-9fc8d317e171", "timestamp": 345351.4112261}
2025-06-04 14:30:00.234 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_received
2025-06-04 14:30:00.236 | WARNING  | core.message_broker:publish:127 - No active subscribers or consumers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 14:30:00.234 | INFO     | client.agent_client:_handle_query_received:132 - Query 63e79b96-ea4e-4619-bff5-9fc8d317e171 received by server - Status: processing
2025-06-04 14:30:01.252 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_response
2025-06-04 14:30:01.252 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 63e79b96-ea4e-4619-bff5-9fc8d317e171)
2025-06-04 14:30:01.253 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 14:30:01.255 | INFO     | client.agent_client:_handle_query_response:143 - Response: I can help you with various data analysis tasks including statistical analysis, data visualization, trend analysis, and predictive modeling. What specific type of analysis are you looking for?
2025-06-04 14:30:03.236 | INFO     | client.agent_client:send_text:104 - Sending text: Hello, this is a test message!
2025-06-04 14:30:03.237 | DEBUG    | client.connection_manager:send_text:160 - Sent text: Hello, this is a test message!
2025-06-04 14:30:03.238 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: Hello, this is a test message!
2025-06-04 14:30:03.239 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from 0d2c709b-f95e-4e47-ba12-c2f79915a943: Hello, this is a test message!
2025-06-04 14:30:03.241 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: text_response
2025-06-04 14:30:03.241 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'Hello, this is a test message!'
2025-06-04 14:30:05.251 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 14:30:05.256 | DEBUG    | client.connection_manager:send_text:160 - Sent text: status
2025-06-04 14:30:05.257 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 14:30:05.262 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: status_response
2025-06-04 14:30:05.262 | DEBUG    | client.connection_manager:_handle_message:252 - No handler for message type: status_response
2025-06-04 14:30:19.679 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user 0d2c709b-f95e-4e47-ba12-c2f79915a943
2025-06-04 14:30:19.680 | DEBUG    | server.websocket_handler:_heartbeat_loop:198 - Heartbeat sent to 1 connections
2025-06-04 14:30:39.816 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: 0d2c709b-f95e-4e47-ba12-c2f79915a943
2025-06-04 14:30:39.819 | INFO     | server.websocket_handler:disconnect:50 - WebSocket disconnected. User ID: 0d2c709b-f95e-4e47-ba12-c2f79915a943. Remaining connections: 0
2025-06-04 14:30:39.834 | INFO     | server.websocket_handler:_stop_main_heartbeat:138 - Main heartbeat loop stopped
2025-06-04 14:30:39.840 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:189 - Heartbeat task cancelled for user 0d2c709b-f95e-4e47-ba12-c2f79915a943
2025-06-04 14:30:39.841 | INFO     | server.websocket_handler:_heartbeat_loop:203 - Heartbeat loop cancelled
2025-06-04 16:19:47.635 | INFO     | __main__:main:49 - Cleaning up...
2025-06-04 16:19:47.802 | INFO     | client.connection_manager:disconnect:135 - WebSocket disconnected
2025-06-04 16:19:47.803 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-04 16:19:50.870 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 16:19:50.874 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-04 16:19:50.875 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-04 16:19:50.875 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-04 16:19:50.876 | INFO     | client.connection_manager:connect:37 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-04 16:19:51.313 | INFO     | server.websocket_handler:_start_main_heartbeat:131 - Main heartbeat loop started
2025-06-04 16:19:51.318 | INFO     | server.websocket_handler:connect:36 - WebSocket connected. User ID: 94437b64-dfa1-4844-9ed7-b5ee67bca089. Total connections: 1
2025-06-04 16:19:51.318 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: 94437b64-dfa1-4844-9ed7-b5ee67bca089
2025-06-04 16:19:51.326 | INFO     | client.connection_manager:connect:55 - WebSocket connected successfully
2025-06-04 16:19:51.331 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user 94437b64-dfa1-4844-9ed7-b5ee67bca089
2025-06-04 16:19:51.331 | DEBUG    | server.websocket_handler:_heartbeat_loop:198 - Heartbeat sent to 1 connections
2025-06-04 16:19:51.332 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: ping
2025-06-04 16:19:51.332 | DEBUG    | client.connection_manager:_handle_message:252 - No handler for message type: ping
2025-06-04 16:19:56.852 | WARNING  | client.connection_manager:connect:84 - Timeout waiting for connection established message
2025-06-04 16:19:56.853 | INFO     | client.connection_manager:connect:87 - WebSocket is still open, proceeding without connection_established message
2025-06-04 16:19:56.854 | INFO     | client.agent_client:connect:62 - Client connected successfully. User ID: None
2025-06-04 16:19:56.855 | INFO     | __main__:main:38 - Successfully connected to Multi-Agent System
2025-06-04 16:19:56.873 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 16:19:56.874 | DEBUG    | client.connection_manager:send_text:160 - Sent text: status
2025-06-04 16:19:56.880 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 16:19:56.882 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: status_response
2025-06-04 16:19:56.882 | DEBUG    | client.connection_manager:_handle_message:252 - No handler for message type: status_response
2025-06-04 16:19:58.890 | INFO     | client.agent_client:send_query:89 - Sending query: What was weather tomorrow?
2025-06-04 16:19:58.891 | DEBUG    | client.connection_manager:send_json:145 - Sent message: {'type': 'query', 'query': 'What was weather tomorrow?', 'query_id': 'cda21a26-e461-4eaa-b8cf-e30f2e703d48', 'timestamp': 351950.0792044}
2025-06-04 16:19:58.891 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "What was weather tomorrow?", "query_id": "cda21a26-e461-4eaa-b8cf-e30f2e703d48", "timestamp": 351950.0792044}
2025-06-04 16:19:58.894 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_received
2025-06-04 16:19:58.894 | INFO     | client.agent_client:_handle_query_received:132 - Query cda21a26-e461-4eaa-b8cf-e30f2e703d48 received by server - Status: processing
2025-06-04 16:19:58.915 | WARNING  | core.message_broker:publish:127 - No active subscribers or consumers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 16:19:59.921 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_response
2025-06-04 16:19:59.921 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: cda21a26-e461-4eaa-b8cf-e30f2e703d48)
2025-06-04 16:19:59.922 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 16:19:59.923 | INFO     | client.agent_client:_handle_query_response:143 - Response: Current weather conditions show partly cloudy skies with a temperature of 72¬∞F. There's a 20% chance of light rain later today. Winds are light from the southwest.
2025-06-04 16:20:01.901 | INFO     | client.agent_client:send_query:89 - Sending query: Who was our first prime minister?
2025-06-04 16:20:01.904 | DEBUG    | client.connection_manager:send_json:145 - Sent message: {'type': 'query', 'query': 'Who was our first prime minister?', 'query_id': '647b500f-ffdf-4418-aed0-472f24cfc031', 'timestamp': 351953.0895319}
2025-06-04 16:20:01.906 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Who was our first prime minister?", "query_id": "647b500f-ffdf-4418-aed0-472f24cfc031", "timestamp": 351953.0895319}
2025-06-04 16:20:01.909 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_received
2025-06-04 16:20:01.910 | WARNING  | core.message_broker:publish:127 - No active subscribers or consumers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 16:20:01.910 | INFO     | client.agent_client:_handle_query_received:132 - Query 647b500f-ffdf-4418-aed0-472f24cfc031 received by server - Status: processing
2025-06-04 16:20:02.920 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_response
2025-06-04 16:20:02.920 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 647b500f-ffdf-4418-aed0-472f24cfc031)
2025-06-04 16:20:02.920 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 16:20:02.921 | INFO     | client.agent_client:_handle_query_response:143 - Response: I processed your query: 'Who was our first prime minister?'. This is a demo response from the agent system.
2025-06-04 16:20:04.915 | INFO     | client.agent_client:send_query:89 - Sending query: Who won yesterdays ipl match?
2025-06-04 16:20:04.916 | DEBUG    | client.connection_manager:send_json:145 - Sent message: {'type': 'query', 'query': 'Who won yesterdays ipl match?', 'query_id': '4078fa3b-e21a-4e4a-8ad5-25517f8c1774', 'timestamp': 351956.1037961}
2025-06-04 16:20:04.917 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Who won yesterdays ipl match?", "query_id": "4078fa3b-e21a-4e4a-8ad5-25517f8c1774", "timestamp": 351956.1037961}
2025-06-04 16:20:04.920 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_received
2025-06-04 16:20:04.920 | WARNING  | core.message_broker:publish:127 - No active subscribers or consumers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 16:20:04.921 | INFO     | client.agent_client:_handle_query_received:132 - Query 4078fa3b-e21a-4e4a-8ad5-25517f8c1774 received by server - Status: processing
2025-06-04 16:20:05.929 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_response
2025-06-04 16:20:05.929 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 4078fa3b-e21a-4e4a-8ad5-25517f8c1774)
2025-06-04 16:20:05.930 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 16:20:05.930 | INFO     | client.agent_client:_handle_query_response:143 - Response: I processed your query: 'Who won yesterdays ipl match?'. This is a demo response from the agent system.
2025-06-04 16:20:07.921 | INFO     | client.agent_client:send_text:104 - Sending text: Hello, this is a test message!
2025-06-04 16:20:07.922 | DEBUG    | client.connection_manager:send_text:160 - Sent text: Hello, this is a test message!
2025-06-04 16:20:07.923 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: Hello, this is a test message!
2025-06-04 16:20:07.926 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from 94437b64-dfa1-4844-9ed7-b5ee67bca089: Hello, this is a test message!
2025-06-04 16:20:07.929 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: text_response
2025-06-04 16:20:07.929 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'Hello, this is a test message!'
2025-06-04 16:20:09.929 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 16:20:09.929 | DEBUG    | client.connection_manager:send_text:160 - Sent text: status
2025-06-04 16:20:09.930 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 16:20:09.931 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: status_response
2025-06-04 16:20:09.931 | DEBUG    | client.connection_manager:_handle_message:252 - No handler for message type: status_response
2025-06-04 16:20:21.352 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user 94437b64-dfa1-4844-9ed7-b5ee67bca089
2025-06-04 16:20:21.353 | DEBUG    | server.websocket_handler:_heartbeat_loop:198 - Heartbeat sent to 1 connections
2025-06-04 16:20:51.375 | WARNING  | server.websocket_handler:_user_heartbeat_loop:176 - User 94437b64-dfa1-4844-9ed7-b5ee67bca089 failed heartbeat check - disconnecting
2025-06-04 16:20:51.377 | DEBUG    | server.websocket_handler:_heartbeat_loop:198 - Heartbeat sent to 1 connections
2025-06-04 16:21:01.457 | ERROR    | server.websocket_handler:_force_disconnect_user:231 - Error force disconnecting user 94437b64-dfa1-4844-9ed7-b5ee67bca089: Cannot call "send" once a close message has been sent.
2025-06-04 16:21:01.463 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: 94437b64-dfa1-4844-9ed7-b5ee67bca089
2025-06-04 16:21:01.469 | INFO     | server.websocket_handler:disconnect:50 - WebSocket disconnected. User ID: 94437b64-dfa1-4844-9ed7-b5ee67bca089. Remaining connections: 0
2025-06-04 16:21:01.479 | INFO     | server.websocket_handler:_stop_main_heartbeat:138 - Main heartbeat loop stopped
2025-06-04 16:21:01.486 | INFO     | server.websocket_handler:_heartbeat_loop:203 - Heartbeat loop cancelled
2025-06-04 16:21:37.793 | INFO     | __main__:main:49 - Cleaning up...
2025-06-04 16:21:37.800 | INFO     | client.connection_manager:disconnect:135 - WebSocket disconnected
2025-06-04 16:21:37.801 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-04 16:21:39.718 | INFO     | utils.logger:setup_logging:23 - Logging configured.
2025-06-04 16:21:39.722 | INFO     | client.agent_client:__init__:35 - AgentClient initialized with WebSocket URL: ws://127.0.0.1:5000/ws
2025-06-04 16:21:39.723 | INFO     | __main__:main:31 - Connecting to Multi-Agent System...
2025-06-04 16:21:39.723 | INFO     | client.agent_client:connect:56 - Attempting to connect to WebSocket server...
2025-06-04 16:21:39.723 | INFO     | client.connection_manager:connect:37 - Connecting to WebSocket server at ws://127.0.0.1:5000/ws
2025-06-04 16:21:39.818 | INFO     | server.websocket_handler:_start_main_heartbeat:131 - Main heartbeat loop started
2025-06-04 16:21:39.819 | INFO     | server.websocket_handler:connect:36 - WebSocket connected. User ID: 6fad18c3-184f-4d34-b375-d0e9d9b629bc. Total connections: 1
2025-06-04 16:21:39.820 | INFO     | server.agent_server:websocket_endpoint:88 - WebSocket connected for user: 6fad18c3-184f-4d34-b375-d0e9d9b629bc
2025-06-04 16:21:39.827 | INFO     | client.connection_manager:connect:55 - WebSocket connected successfully
2025-06-04 16:21:39.828 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user 6fad18c3-184f-4d34-b375-d0e9d9b629bc
2025-06-04 16:21:39.828 | DEBUG    | server.websocket_handler:_heartbeat_loop:198 - Heartbeat sent to 1 connections
2025-06-04 16:21:39.830 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: ping
2025-06-04 16:21:39.831 | DEBUG    | client.connection_manager:_handle_message:252 - No handler for message type: ping
2025-06-04 16:21:45.337 | WARNING  | client.connection_manager:connect:84 - Timeout waiting for connection established message
2025-06-04 16:21:45.339 | INFO     | client.connection_manager:connect:87 - WebSocket is still open, proceeding without connection_established message
2025-06-04 16:21:45.339 | INFO     | client.agent_client:connect:62 - Client connected successfully. User ID: None
2025-06-04 16:21:45.340 | INFO     | __main__:main:38 - Successfully connected to Multi-Agent System
2025-06-04 16:21:45.341 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 16:21:45.342 | DEBUG    | client.connection_manager:send_text:160 - Sent text: status
2025-06-04 16:21:45.344 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 16:21:45.346 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: status_response
2025-06-04 16:21:45.346 | DEBUG    | client.connection_manager:_handle_message:252 - No handler for message type: status_response
2025-06-04 16:21:47.348 | INFO     | client.agent_client:send_query:89 - Sending query: Who won yesterday's IPL match?
2025-06-04 16:21:47.349 | DEBUG    | client.connection_manager:send_json:145 - Sent message: {'type': 'query', 'query': "Who won yesterday's IPL match?", 'query_id': 'f7c4e71a-3e2c-4964-873c-9bed20b38d0d', 'timestamp': 352058.5365091}
2025-06-04 16:21:47.350 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Who won yesterday's IPL match?", "query_id": "f7c4e71a-3e2c-4964-873c-9bed20b38d0d", "timestamp": 352058.5365091}
2025-06-04 16:21:47.352 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_received
2025-06-04 16:21:47.352 | INFO     | client.agent_client:_handle_query_received:132 - Query f7c4e71a-3e2c-4964-873c-9bed20b38d0d received by server - Status: processing
2025-06-04 16:21:47.352 | WARNING  | core.message_broker:publish:127 - No active subscribers or consumers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 16:21:48.398 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_response
2025-06-04 16:21:48.398 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: f7c4e71a-3e2c-4964-873c-9bed20b38d0d)
2025-06-04 16:21:48.407 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 16:21:48.407 | INFO     | client.agent_client:_handle_query_response:143 - Response: I processed your query: 'Who won yesterday's IPL match?'. This is a demo response from the agent system.
2025-06-04 16:21:50.362 | INFO     | client.agent_client:send_query:89 - Sending query: Who was our first prime minister?
2025-06-04 16:21:50.363 | DEBUG    | client.connection_manager:send_json:145 - Sent message: {'type': 'query', 'query': 'Who was our first prime minister?', 'query_id': '628a64cc-2f20-49c9-b122-71d92e8d014b', 'timestamp': 352061.5513466}
2025-06-04 16:21:50.364 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Who was our first prime minister?", "query_id": "628a64cc-2f20-49c9-b122-71d92e8d014b", "timestamp": 352061.5513466}
2025-06-04 16:21:50.366 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_received
2025-06-04 16:21:50.366 | INFO     | client.agent_client:_handle_query_received:132 - Query 628a64cc-2f20-49c9-b122-71d92e8d014b received by server - Status: processing
2025-06-04 16:21:50.366 | WARNING  | core.message_broker:publish:127 - No active subscribers or consumers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 16:21:51.379 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_response
2025-06-04 16:21:51.379 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: 628a64cc-2f20-49c9-b122-71d92e8d014b)
2025-06-04 16:21:51.380 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 16:21:51.380 | INFO     | client.agent_client:_handle_query_response:143 - Response: I processed your query: 'Who was our first prime minister?'. This is a demo response from the agent system.
2025-06-04 16:21:53.370 | INFO     | client.agent_client:send_query:89 - Sending query: Who won yesterdays ipl match?
2025-06-04 16:21:53.371 | DEBUG    | client.connection_manager:send_json:145 - Sent message: {'type': 'query', 'query': 'Who won yesterdays ipl match?', 'query_id': 'f6810bc8-49d8-4de4-adb7-5caf71e43322', 'timestamp': 352064.5584902}
2025-06-04 16:21:53.372 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: {"type": "query", "query": "Who won yesterdays ipl match?", "query_id": "f6810bc8-49d8-4de4-adb7-5caf71e43322", "timestamp": 352064.5584902}
2025-06-04 16:21:53.373 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_received
2025-06-04 16:21:53.373 | WARNING  | core.message_broker:publish:127 - No active subscribers or consumers for topic 'InternalMessageType.USER_QUERY'. Message not delivered.
2025-06-04 16:21:53.374 | INFO     | client.agent_client:_handle_query_received:132 - Query f6810bc8-49d8-4de4-adb7-5caf71e43322 received by server - Status: processing
2025-06-04 16:21:54.390 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: query_response
2025-06-04 16:21:54.391 | INFO     | client.agent_client:_handle_query_response:141 - Query Response (ID: f6810bc8-49d8-4de4-adb7-5caf71e43322)
2025-06-04 16:21:54.391 | INFO     | client.agent_client:_handle_query_response:142 - Status: completed
2025-06-04 16:21:54.392 | INFO     | client.agent_client:_handle_query_response:143 - Response: I processed your query: 'Who won yesterdays ipl match?'. This is a demo response from the agent system.
2025-06-04 16:21:56.383 | INFO     | client.agent_client:send_text:104 - Sending text: Hello, this is a test message!
2025-06-04 16:21:56.390 | DEBUG    | client.connection_manager:send_text:160 - Sent text: Hello, this is a test message!
2025-06-04 16:21:56.396 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: Hello, this is a test message!
2025-06-04 16:21:56.397 | INFO     | server.agent_server:handle_plain_text_message:192 - Processing plain text message from 6fad18c3-184f-4d34-b375-d0e9d9b629bc: Hello, this is a test message!
2025-06-04 16:21:56.404 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: text_response
2025-06-04 16:21:56.404 | INFO     | client.agent_client:_handle_text_response:173 - Text Response: Received your message: 'Hello, this is a test message!'
2025-06-04 16:21:58.401 | INFO     | client.agent_client:get_status:113 - Requesting server status...
2025-06-04 16:21:58.402 | DEBUG    | client.connection_manager:send_text:160 - Sent text: status
2025-06-04 16:21:58.403 | INFO     | server.agent_server:websocket_endpoint:93 - Received WebSocket message: status
2025-06-04 16:21:58.405 | DEBUG    | client.connection_manager:_handle_message:232 - Received JSON message type: status_response
2025-06-04 16:21:58.405 | DEBUG    | client.connection_manager:_handle_message:252 - No handler for message type: status_response
2025-06-04 16:22:09.839 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:168 - Sent heartbeat ping to user 6fad18c3-184f-4d34-b375-d0e9d9b629bc
2025-06-04 16:22:09.841 | DEBUG    | server.websocket_handler:_heartbeat_loop:198 - Heartbeat sent to 1 connections
2025-06-04 16:22:18.393 | INFO     | __main__:main:49 - Cleaning up...
2025-06-04 16:22:18.396 | INFO     | client.connection_manager:disconnect:135 - WebSocket disconnected
2025-06-04 16:22:18.397 | INFO     | client.agent_client:disconnect:72 - Client disconnected
2025-06-04 16:22:18.398 | INFO     | server.agent_server:websocket_endpoint:99 - WebSocket disconnected for user: 6fad18c3-184f-4d34-b375-d0e9d9b629bc
2025-06-04 16:22:18.402 | INFO     | server.websocket_handler:disconnect:50 - WebSocket disconnected. User ID: 6fad18c3-184f-4d34-b375-d0e9d9b629bc. Remaining connections: 0
2025-06-04 16:22:18.403 | INFO     | server.websocket_handler:_stop_main_heartbeat:138 - Main heartbeat loop stopped
2025-06-04 16:22:18.415 | DEBUG    | server.websocket_handler:_user_heartbeat_loop:189 - Heartbeat task cancelled for user 6fad18c3-184f-4d34-b375-d0e9d9b629bc
2025-06-04 16:22:18.415 | INFO     | server.websocket_handler:_heartbeat_loop:203 - Heartbeat loop cancelled
